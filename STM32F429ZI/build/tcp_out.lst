ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"tcp_out.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.tcp_write_checks,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	tcp_write_checks:
  25              	.LFB146:
  26              		.file 1 "Middlewares/Third_Party/LwIP/src/core/tcp_out.c"
   1:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Transmission Control Protocol, outgoing traffic
   4:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * The output functions of TCP.
   6:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
   7:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
   8:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
   9:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /*
  10:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  11:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * All rights reserved.
  12:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
  13:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Redistribution and use in source and binary forms, with or without modification,
  14:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * are permitted provided that the following conditions are met:
  15:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
  16:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  17:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *    this list of conditions and the following disclaimer.
  18:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  19:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *    this list of conditions and the following disclaimer in the documentation
  20:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *    and/or other materials provided with the distribution.
  21:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * 3. The name of the author may not be used to endorse or promote products
  22:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *    derived from this software without specific prior written permission.
  23:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
  24:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  25:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  26:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  27:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  28:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  29:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  30:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  31:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  32:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 2


  33:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * OF SUCH DAMAGE.
  34:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
  35:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * This file is part of the lwIP TCP/IP stack.
  36:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
  37:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Author: Adam Dunkels <adam@sics.se>
  38:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
  39:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
  40:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  41:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/opt.h"
  42:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  43:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP /* don't build if not configured for use in lwipopts.h */
  44:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  45:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/priv/tcp_priv.h"
  46:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/def.h"
  47:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/mem.h"
  48:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/memp.h"
  49:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/ip_addr.h"
  50:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/netif.h"
  51:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/inet_chksum.h"
  52:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/stats.h"
  53:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/ip6.h"
  54:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/ip6_addr.h"
  55:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
  56:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include "lwip/sys.h"
  57:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
  58:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  59:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #include <string.h>
  60:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  61:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /* Define some copy-macros for checksum-on-copy so that the code looks
  62:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    nicer by preventing too many ifdef's. */
  63:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
  64:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_DATA_COPY(dst, src, len, seg) do { \
  65:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcp_seg_add_chksum(LWIP_CHKSUM_COPY(dst, src, len), \
  66:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                      len, &seg->chksum, &seg->chksum_swapped); \
  67:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->flags |= TF_SEG_DATA_CHECKSUMMED; } while(0)
  68:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_DATA_COPY2(dst, src, len, chksum, chksum_swapped)  \
  69:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcp_seg_add_chksum(LWIP_CHKSUM_COPY(dst, src, len), len, chksum, chksum_swapped);
  70:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* TCP_CHECKSUM_ON_COPY*/
  71:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_DATA_COPY(dst, src, len, seg)                     MEMCPY(dst, src, len)
  72:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_DATA_COPY2(dst, src, len, chksum, chksum_swapped) MEMCPY(dst, src, len)
  73:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY*/
  74:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  75:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /** Define this to 1 for an extra check that the output checksum is valid
  76:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * (usefule when the checksum is generated by the application, not the stack) */
  77:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #ifndef TCP_CHECKSUM_ON_COPY_SANITY_CHECK
  78:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_CHECKSUM_ON_COPY_SANITY_CHECK   0
  79:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
  80:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /* Allow to override the failure of sanity check from warning to e.g. hard failure */
  81:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY_SANITY_CHECK
  82:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #ifndef TCP_CHECKSUM_ON_COPY_SANITY_CHECK_FAIL
  83:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_CHECKSUM_ON_COPY_SANITY_CHECK_FAIL(msg) LWIP_DEBUGF(TCP_DEBUG | LWIP_DBG_LEVEL_WARNING,
  84:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
  85:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
  86:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  87:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
  88:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /** The size of segment pbufs created when TCP_OVERSIZE is enabled */
  89:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #ifndef TCP_OVERSIZE_CALC_LENGTH
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 3


  90:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define TCP_OVERSIZE_CALC_LENGTH(length) ((length) + TCP_OVERSIZE)
  91:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
  92:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
  93:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  94:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /* Forward declarations.*/
  95:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static err_t tcp_output_segment(struct tcp_seg *seg, struct tcp_pcb *pcb, struct netif *netif);
  96:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
  97:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /** Allocate a pbuf and create a tcphdr at p->payload, used for output
  98:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * functions other than the default tcp_output -> tcp_output_segment
  99:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * (e.g. tcp_send_empty_ack, etc.)
 100:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 101:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb tcp pcb for which to send a packet (used to initialize tcp_hdr)
 102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param optlen length of header-options
 103:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param datalen length of tcp data to reserve in pbuf
 104:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param seqno_be seqno in network byte order (big-endian)
 105:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @return pbuf with p->payload being the tcp_hdr
 106:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 107:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static struct pbuf *
 108:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_output_alloc_header(struct tcp_pcb *pcb, u16_t optlen, u16_t datalen,
 109:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                       u32_t seqno_be /* already in network byte order */)
 110:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 111:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_hdr *tcphdr;
 112:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p = pbuf_alloc(PBUF_IP, TCP_HLEN + optlen + datalen, PBUF_RAM);
 113:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p != NULL) {
 114:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("check that first pbuf can hold struct tcp_hdr",
 115:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  (p->len >= TCP_HLEN + optlen));
 116:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr = (struct tcp_hdr *)p->payload;
 117:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->src = lwip_htons(pcb->local_port);
 118:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->dest = lwip_htons(pcb->remote_port);
 119:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->seqno = seqno_be;
 120:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->ackno = lwip_htonl(pcb->rcv_nxt);
 121:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_HDRLEN_FLAGS_SET(tcphdr, (5 + optlen / 4), TCP_ACK);
 122:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->wnd = lwip_htons(TCPWND_MIN16(RCV_WND_SCALE(pcb, pcb->rcv_ann_wnd)));
 123:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->chksum = 0;
 124:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->urgp = 0;
 125:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 126:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* If we're sending a packet, update the announced right window edge */
 127:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rcv_ann_right_edge = pcb->rcv_nxt + pcb->rcv_ann_wnd;
 128:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 129:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return p;
 130:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 131:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 132:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 133:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_close() to send a segment including FIN flag but not data.
 134:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 135:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb over which to send a segment
 136:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @return ERR_OK if sent, another err_t otherwise
 137:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 138:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
 139:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_send_fin(struct tcp_pcb *pcb)
 140:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 141:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* first, try to add the fin to the last unsent segment */
 142:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unsent != NULL) {
 143:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct tcp_seg *last_unsent;
 144:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (last_unsent = pcb->unsent; last_unsent->next != NULL;
 145:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          last_unsent = last_unsent->next);
 146:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 4


 147:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((TCPH_FLAGS(last_unsent->tcphdr) & (TCP_SYN | TCP_FIN | TCP_RST)) == 0) {
 148:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* no SYN/FIN/RST flag in the header, we can add the FIN flag */
 149:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       TCPH_SET_FLAG(last_unsent->tcphdr, TCP_FIN);
 150:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->flags |= TF_FIN;
 151:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       return ERR_OK;
 152:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 153:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 154:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* no data, no length, flags, copy=1, no optdata */
 155:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return tcp_enqueue_flags(pcb, TCP_FIN);
 156:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 157:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 158:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 159:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Create a TCP segment with prefilled header.
 160:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 161:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_write and tcp_enqueue_flags.
 162:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 163:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb Protocol control block for the TCP connection.
 164:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param p pbuf that is used to hold the TCP header.
 165:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param flags TCP flags for header.
 166:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param seqno TCP sequence number of this packet
 167:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param optflags options to include in TCP header
 168:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @return a new tcp_seg pointing to p, or NULL.
 169:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * The TCP header is filled in except ackno and wnd.
 170:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * p is freed on failure.
 171:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 172:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static struct tcp_seg *
 173:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_create_segment(struct tcp_pcb *pcb, struct pbuf *p, u8_t flags, u32_t seqno, u8_t optflags)
 174:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 175:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
 176:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optlen = LWIP_TCP_OPT_LENGTH(optflags);
 177:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 178:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((seg = (struct tcp_seg *)memp_malloc(MEMP_TCP_SEG)) == NULL) {
 179:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_create_segment: no memory.\n"));
 180:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pbuf_free(p);
 181:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return NULL;
 182:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 183:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->flags = optflags;
 184:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->next = NULL;
 185:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->p = p;
 186:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("p->tot_len >= optlen", p->tot_len >= optlen);
 187:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->len = p->tot_len - optlen;
 188:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 189:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->oversize_left = 0;
 190:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
 191:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 192:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->chksum = 0;
 193:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->chksum_swapped = 0;
 194:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* check optflags */
 195:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("invalid optflags passed: TF_SEG_DATA_CHECKSUMMED",
 196:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (optflags & TF_SEG_DATA_CHECKSUMMED) == 0);
 197:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 198:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 199:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* build TCP header */
 200:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pbuf_header(p, TCP_HLEN)) {
 201:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_create_segment: no room for TCP he
 202:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.err);
 203:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_seg_free(seg);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 5


 204:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return NULL;
 205:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 206:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr = (struct tcp_hdr *)seg->p->payload;
 207:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->src = lwip_htons(pcb->local_port);
 208:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->dest = lwip_htons(pcb->remote_port);
 209:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->seqno = lwip_htonl(seqno);
 210:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* ackno is set in tcp_output */
 211:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   TCPH_HDRLEN_FLAGS_SET(seg->tcphdr, (5 + optlen / 4), flags);
 212:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* wnd and chksum are set in tcp_output */
 213:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->urgp = 0;
 214:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return seg;
 215:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 216:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 217:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 218:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Allocate a PBUF_RAM pbuf, perhaps with extra space at the end.
 219:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 220:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * This function is like pbuf_alloc(layer, length, PBUF_RAM) except
 221:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * there may be extra bytes available at the end.
 222:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 223:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param layer flag to define header size.
 224:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param length size of the pbuf's payload.
 225:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param max_length maximum usable size of payload+oversize.
 226:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param oversize pointer to a u16_t that will receive the number of usable tail bytes.
 227:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb The TCP connection that will enqueue the pbuf.
 228:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param apiflags API flags given to tcp_write.
 229:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param first_seg true when this pbuf will be used in the first enqueued segment.
 230:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 231:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 232:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static struct pbuf *
 233:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_pbuf_prealloc(pbuf_layer layer, u16_t length, u16_t max_length,
 234:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   u16_t *oversize, struct tcp_pcb *pcb, u8_t apiflags,
 235:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   u8_t first_seg)
 236:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 237:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
 238:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t alloc = length;
 239:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 240:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
 241:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_UNUSED_ARG(max_length);
 242:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_UNUSED_ARG(pcb);
 243:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_UNUSED_ARG(apiflags);
 244:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_UNUSED_ARG(first_seg);
 245:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   alloc = max_length;
 246:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* LWIP_NETIF_TX_SINGLE_PBUF */
 247:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (length < max_length) {
 248:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Should we allocate an oversized pbuf, or just the minimum
 249:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * length required? If tcp_write is going to be called again
 250:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * before this segment is transmitted, we want the oversized
 251:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * buffer. If the segment will be transmitted immediately, we can
 252:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * save memory by allocating only length. We use a simple
 253:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * heuristic based on the following information:
 254:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *
 255:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * Did the user set TCP_WRITE_FLAG_MORE?
 256:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *
 257:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * Will the Nagle algorithm defer transmission of this segment?
 258:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      */
 259:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((apiflags & TCP_WRITE_FLAG_MORE) ||
 260:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         (!(pcb->flags & TF_NODELAY) &&
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 6


 261:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          (!first_seg ||
 262:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           pcb->unsent != NULL ||
 263:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           pcb->unacked != NULL))) {
 264:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       alloc = LWIP_MIN(max_length, LWIP_MEM_ALIGN_SIZE(TCP_OVERSIZE_CALC_LENGTH(length)));
 265:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 266:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 267:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 268:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   p = pbuf_alloc(layer, alloc, PBUF_RAM);
 269:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 270:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return NULL;
 271:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 272:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("need unchained pbuf", p->next == NULL);
 273:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   *oversize = p->len - length;
 274:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* trim p->len to the currently used size */
 275:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   p->len = p->tot_len = length;
 276:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return p;
 277:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 278:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* TCP_OVERSIZE */
 279:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #define tcp_pbuf_prealloc(layer, length, mx, os, pcb, api, fst) pbuf_alloc((layer), (length), PBUF_
 280:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 281:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 282:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 283:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /** Add a checksum of newly added data to the segment */
 284:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static void
 285:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_seg_add_chksum(u16_t chksum, u16_t len, u16_t *seg_chksum,
 286:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                    u8_t *seg_chksum_swapped)
 287:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 288:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u32_t helper;
 289:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* add chksum to old chksum and fold to u16_t */
 290:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   helper = chksum + *seg_chksum;
 291:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   chksum = FOLD_U32T(helper);
 292:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((len & 1) != 0) {
 293:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     *seg_chksum_swapped = 1 - *seg_chksum_swapped;
 294:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     chksum = SWAP_BYTES_IN_WORD(chksum);
 295:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 296:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   *seg_chksum = chksum;
 297:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 298:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 299:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 300:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /** Checks if tcp_write is allowed or not (checks state, snd_buf and snd_queuelen).
 301:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 302:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp pcb to check for
 303:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param len length of data to send (checked agains snd_buf)
 304:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @return ERR_OK if tcp_write is allowed to proceed, another err_t otherwise
 305:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 306:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static err_t
 307:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_write_checks(struct tcp_pcb *pcb, u16_t len)
 308:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
  27              		.loc 1 308 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              	.LVL0:
  32 0000 08B5     		push	{r3, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 3, -8
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 7


  36              		.cfi_offset 14, -4
 309:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* connection is in invalid state for data transmission? */
 310:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((pcb->state != ESTABLISHED) &&
  37              		.loc 1 310 0
  38 0002 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
  39 0004 042B     		cmp	r3, #4
  40 0006 05D0     		beq	.L2
  41              		.loc 1 310 0 is_stmt 0 discriminator 1
  42 0008 072B     		cmp	r3, #7
  43 000a 03D0     		beq	.L2
 311:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       (pcb->state != CLOSE_WAIT) &&
  44              		.loc 1 311 0 is_stmt 1
  45 000c 022B     		cmp	r3, #2
  46 000e 01D0     		beq	.L2
 312:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       (pcb->state != SYN_SENT) &&
  47              		.loc 1 312 0
  48 0010 032B     		cmp	r3, #3
  49 0012 39D1     		bne	.L8
  50              	.L2:
 313:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       (pcb->state != SYN_RCVD)) {
 314:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_STATE | LWIP_DBG_LEVEL_SEVERE, ("tcp_write() called in 
 315:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_CONN;
 316:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else if (len == 0) {
  51              		.loc 1 316 0
  52 0014 0029     		cmp	r1, #0
  53 0016 3AD0     		beq	.L9
 317:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_OK;
 318:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 319:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 320:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* fail on too much data */
 321:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (len > pcb->snd_buf) {
  54              		.loc 1 321 0
  55 0018 B0F86030 		ldrh	r3, [r0, #96]
  56 001c 8B42     		cmp	r3, r1
  57 001e 08D3     		bcc	.L14
 322:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("tcp_write: too much data (len=%"U16_F" 
 323:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       len, pcb->snd_buf));
 324:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 325:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
 326:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 327:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 328:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_write: queuelen: %"TCPWNDSIZE_F"\n", (tcpwnd_size_t)pcb->snd_qu
 329:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 330:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* If total number of pbufs on the unsent/unacked queues exceeds the
 331:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * configured maximum, return an error */
 332:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* check for configured max queuelen and possible overflow */
 333:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((pcb->snd_queuelen >= TCP_SND_QUEUELEN) || (pcb->snd_queuelen > TCP_SNDQUEUELEN_OVERFLOW)) {
  58              		.loc 1 333 0
  59 0020 B0F86230 		ldrh	r3, [r0, #98]
  60 0024 082B     		cmp	r3, #8
  61 0026 0BD8     		bhi	.L15
 334:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("tcp_write: too long queue %"U16_F" (max
 335:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->snd_queuelen, (u16_t)TCP_SND_QUEUELEN));
 336:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.memerr);
 337:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 338:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
 339:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 8


 340:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->snd_queuelen != 0) {
  62              		.loc 1 340 0
  63 0028 F3B1     		cbz	r3, .L6
 341:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: pbufs on queue => at least one queue non-empty",
  64              		.loc 1 341 0
  65 002a C36E     		ldr	r3, [r0, #108]
  66 002c 7BB1     		cbz	r3, .L16
 342:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked != NULL || pcb->unsent != NULL);
 343:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 344:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: no pbufs on queue => both queues empty",
 345:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked == NULL && pcb->unsent == NULL);
 346:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 347:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return ERR_OK;
  67              		.loc 1 347 0
  68 002e 0020     		movs	r0, #0
  69              	.LVL1:
  70 0030 2EE0     		b	.L3
  71              	.LVL2:
  72              	.L14:
 324:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
  73              		.loc 1 324 0
  74 0032 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
  75 0034 63F07F03 		orn	r3, r3, #127
  76 0038 8376     		strb	r3, [r0, #26]
 325:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
  77              		.loc 1 325 0
  78 003a 4FF0FF30 		mov	r0, #-1
  79              	.LVL3:
  80 003e 27E0     		b	.L3
  81              	.LVL4:
  82              	.L15:
 337:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
  83              		.loc 1 337 0
  84 0040 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
  85 0042 63F07F03 		orn	r3, r3, #127
  86 0046 8376     		strb	r3, [r0, #26]
 338:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
  87              		.loc 1 338 0
  88 0048 4FF0FF30 		mov	r0, #-1
  89              	.LVL5:
  90 004c 20E0     		b	.L3
  91              	.LVL6:
  92              	.L16:
 341:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked != NULL || pcb->unsent != NULL);
  93              		.loc 1 341 0 discriminator 1
  94 004e 836E     		ldr	r3, [r0, #104]
  95 0050 0BB1     		cbz	r3, .L17
  96              		.loc 1 347 0
  97 0052 0020     		movs	r0, #0
  98              	.LVL7:
  99 0054 1CE0     		b	.L3
 100              	.LVL8:
 101              	.L17:
 341:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked != NULL || pcb->unsent != NULL);
 102              		.loc 1 341 0 discriminator 2
 103 0056 0F4B     		ldr	r3, .L19
 104 0058 4FF4AB72 		mov	r2, #342
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 9


 105 005c 0E49     		ldr	r1, .L19+4
 106              	.LVL9:
 107 005e 0F48     		ldr	r0, .L19+8
 108              	.LVL10:
 109 0060 FFF7FEFF 		bl	printf
 110              	.LVL11:
 111              		.loc 1 347 0 discriminator 2
 112 0064 0020     		movs	r0, #0
 113 0066 13E0     		b	.L3
 114              	.LVL12:
 115              	.L6:
 344:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked == NULL && pcb->unsent == NULL);
 116              		.loc 1 344 0
 117 0068 C36E     		ldr	r3, [r0, #108]
 118 006a 43B1     		cbz	r3, .L18
 119              	.L7:
 344:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked == NULL && pcb->unsent == NULL);
 120              		.loc 1 344 0 is_stmt 0 discriminator 3
 121 006c 094B     		ldr	r3, .L19
 122 006e 40F25912 		movw	r2, #345
 123 0072 0B49     		ldr	r1, .L19+12
 124              	.LVL13:
 125 0074 0948     		ldr	r0, .L19+8
 126              	.LVL14:
 127 0076 FFF7FEFF 		bl	printf
 128              	.LVL15:
 129              		.loc 1 347 0 is_stmt 1 discriminator 3
 130 007a 0020     		movs	r0, #0
 131 007c 08E0     		b	.L3
 132              	.LVL16:
 133              	.L18:
 344:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked == NULL && pcb->unsent == NULL);
 134              		.loc 1 344 0 discriminator 2
 135 007e 836E     		ldr	r3, [r0, #104]
 136 0080 002B     		cmp	r3, #0
 137 0082 F3D1     		bne	.L7
 138              		.loc 1 347 0
 139 0084 0020     		movs	r0, #0
 140              	.LVL17:
 141 0086 03E0     		b	.L3
 142              	.LVL18:
 143              	.L8:
 315:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else if (len == 0) {
 144              		.loc 1 315 0
 145 0088 6FF00A00 		mvn	r0, #10
 146              	.LVL19:
 147 008c 00E0     		b	.L3
 148              	.LVL20:
 149              	.L9:
 317:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 150              		.loc 1 317 0
 151 008e 0020     		movs	r0, #0
 152              	.LVL21:
 153              	.L3:
 348:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 154              		.loc 1 348 0
 155 0090 08BD     		pop	{r3, pc}
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 10


 156              	.L20:
 157 0092 00BF     		.align	2
 158              	.L19:
 159 0094 00000000 		.word	.LC0
 160 0098 30000000 		.word	.LC1
 161 009c 6C000000 		.word	.LC2
 162 00a0 94000000 		.word	.LC3
 163              		.cfi_endproc
 164              	.LFE146:
 166              		.section	.text.tcp_pbuf_prealloc,"ax",%progbits
 167              		.align	1
 168              		.syntax unified
 169              		.thumb
 170              		.thumb_func
 171              		.fpu fpv4-sp-d16
 173              	tcp_pbuf_prealloc:
 174              	.LFB145:
 236:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
 175              		.loc 1 236 0
 176              		.cfi_startproc
 177              		@ args = 12, pretend = 0, frame = 0
 178              		@ frame_needed = 0, uses_anonymous_args = 0
 179              	.LVL22:
 180 0000 70B5     		push	{r4, r5, r6, lr}
 181              	.LCFI1:
 182              		.cfi_def_cfa_offset 16
 183              		.cfi_offset 4, -16
 184              		.cfi_offset 5, -12
 185              		.cfi_offset 6, -8
 186              		.cfi_offset 14, -4
 187 0002 0C46     		mov	r4, r1
 188 0004 1E46     		mov	r6, r3
 189 0006 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
 190              	.LVL23:
 247:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Should we allocate an oversized pbuf, or just the minimum
 191              		.loc 1 247 0
 192 000a 9142     		cmp	r1, r2
 193 000c 15D2     		bcs	.L22
 259:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         (!(pcb->flags & TF_NODELAY) &&
 194              		.loc 1 259 0
 195 000e 9DF81410 		ldrb	r1, [sp, #20]	@ zero_extendqisi2
 196              	.LVL24:
 197 0012 11F0020F 		tst	r1, #2
 198 0016 08D1     		bne	.L23
 260:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          (!first_seg ||
 199              		.loc 1 260 0 discriminator 1
 200 0018 0499     		ldr	r1, [sp, #16]
 201 001a 897E     		ldrb	r1, [r1, #26]	@ zero_extendqisi2
 259:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         (!(pcb->flags & TF_NODELAY) &&
 202              		.loc 1 259 0 discriminator 1
 203 001c 11F0400F 		tst	r1, #64
 204 0020 26D1     		bne	.L27
 260:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          (!first_seg ||
 205              		.loc 1 260 0
 206 0022 13B1     		cbz	r3, .L23
 262:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           pcb->unacked != NULL))) {
 207              		.loc 1 262 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 11


 208 0024 049B     		ldr	r3, [sp, #16]
 209 0026 9B6E     		ldr	r3, [r3, #104]
 261:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           pcb->unsent != NULL ||
 210              		.loc 1 261 0
 211 0028 E3B1     		cbz	r3, .L30
 212              	.L23:
 264:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 213              		.loc 1 264 0
 214 002a 04F21B21 		addw	r1, r4, #539
 215 002e 21F00301 		bic	r1, r1, #3
 216 0032 8A42     		cmp	r2, r1
 217 0034 28BF     		it	cs
 218 0036 0A46     		movcs	r2, r1
 219              	.LVL25:
 220 0038 91B2     		uxth	r1, r2
 221              	.LVL26:
 222              	.L22:
 268:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 223              		.loc 1 268 0
 224 003a 0022     		movs	r2, #0
 225 003c FFF7FEFF 		bl	pbuf_alloc
 226              	.LVL27:
 269:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return NULL;
 227              		.loc 1 269 0
 228 0040 0546     		mov	r5, r0
 229 0042 68B1     		cbz	r0, .L21
 272:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   *oversize = p->len - length;
 230              		.loc 1 272 0
 231 0044 0368     		ldr	r3, [r0]
 232 0046 33B1     		cbz	r3, .L25
 272:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   *oversize = p->len - length;
 233              		.loc 1 272 0 is_stmt 0 discriminator 1
 234 0048 0A4B     		ldr	r3, .L31
 235 004a 4FF48872 		mov	r2, #272
 236 004e 0A49     		ldr	r1, .L31+4
 237 0050 0A48     		ldr	r0, .L31+8
 238              	.LVL28:
 239 0052 FFF7FEFF 		bl	printf
 240              	.LVL29:
 241              	.L25:
 273:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* trim p->len to the currently used size */
 242              		.loc 1 273 0 is_stmt 1
 243 0056 6B89     		ldrh	r3, [r5, #10]
 244 0058 1B1B     		subs	r3, r3, r4
 245 005a 3380     		strh	r3, [r6]	@ movhi
 275:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return p;
 246              		.loc 1 275 0
 247 005c 2C81     		strh	r4, [r5, #8]	@ movhi
 248 005e 6C81     		strh	r4, [r5, #10]	@ movhi
 249              	.L21:
 277:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* TCP_OVERSIZE */
 250              		.loc 1 277 0
 251 0060 2846     		mov	r0, r5
 252 0062 70BD     		pop	{r4, r5, r6, pc}
 253              	.LVL30:
 254              	.L30:
 263:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       alloc = LWIP_MIN(max_length, LWIP_MEM_ALIGN_SIZE(TCP_OVERSIZE_CALC_LENGTH(length)));
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 12


 255              		.loc 1 263 0
 256 0064 049B     		ldr	r3, [sp, #16]
 257 0066 DB6E     		ldr	r3, [r3, #108]
 262:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           pcb->unacked != NULL))) {
 258              		.loc 1 262 0
 259 0068 002B     		cmp	r3, #0
 260 006a DED1     		bne	.L23
 238:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 261              		.loc 1 238 0
 262 006c 2146     		mov	r1, r4
 263 006e E4E7     		b	.L22
 264              	.L27:
 265 0070 2146     		mov	r1, r4
 266 0072 E2E7     		b	.L22
 267              	.L32:
 268              		.align	2
 269              	.L31:
 270 0074 00000000 		.word	.LC0
 271 0078 00000000 		.word	.LC4
 272 007c 6C000000 		.word	.LC2
 273              		.cfi_endproc
 274              	.LFE145:
 276              		.section	.text.tcp_create_segment,"ax",%progbits
 277              		.align	1
 278              		.syntax unified
 279              		.thumb
 280              		.thumb_func
 281              		.fpu fpv4-sp-d16
 283              	tcp_create_segment:
 284              	.LFB144:
 174:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
 285              		.loc 1 174 0
 286              		.cfi_startproc
 287              		@ args = 4, pretend = 0, frame = 0
 288              		@ frame_needed = 0, uses_anonymous_args = 0
 289              	.LVL31:
 290 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 291              	.LCFI2:
 292              		.cfi_def_cfa_offset 32
 293              		.cfi_offset 4, -32
 294              		.cfi_offset 5, -28
 295              		.cfi_offset 6, -24
 296              		.cfi_offset 7, -20
 297              		.cfi_offset 8, -16
 298              		.cfi_offset 9, -12
 299              		.cfi_offset 10, -8
 300              		.cfi_offset 14, -4
 301 0004 8046     		mov	r8, r0
 302 0006 0E46     		mov	r6, r1
 303 0008 1746     		mov	r7, r2
 304 000a 9946     		mov	r9, r3
 305 000c 9DF820A0 		ldrb	r10, [sp, #32]	@ zero_extendqisi2
 306              	.LVL32:
 178:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_create_segment: no memory.\n"));
 307              		.loc 1 178 0
 308 0010 0320     		movs	r0, #3
 309              	.LVL33:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 13


 310 0012 FFF7FEFF 		bl	memp_malloc
 311              	.LVL34:
 312 0016 0446     		mov	r4, r0
 313 0018 0028     		cmp	r0, #0
 314 001a 38D0     		beq	.L39
 315 001c 4FEA8A05 		lsl	r5, r10, #2
 316              	.LVL35:
 317 0020 05F00405 		and	r5, r5, #4
 318              	.LVL36:
 183:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->next = NULL;
 319              		.loc 1 183 0
 320 0024 80F80AA0 		strb	r10, [r0, #10]
 184:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->p = p;
 321              		.loc 1 184 0
 322 0028 0023     		movs	r3, #0
 323 002a 0360     		str	r3, [r0]
 185:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("p->tot_len >= optlen", p->tot_len >= optlen);
 324              		.loc 1 185 0
 325 002c 4660     		str	r6, [r0, #4]
 186:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->len = p->tot_len - optlen;
 326              		.loc 1 186 0
 327 002e 3389     		ldrh	r3, [r6, #8]
 328 0030 1FFA85FA 		uxth	r10, r5
 329              	.LVL37:
 330 0034 5345     		cmp	r3, r10
 331 0036 2ED3     		bcc	.L40
 332              	.LVL38:
 333              	.L36:
 187:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 334              		.loc 1 187 0
 335 0038 3389     		ldrh	r3, [r6, #8]
 336 003a A3EB0A03 		sub	r3, r3, r10
 337 003e 2381     		strh	r3, [r4, #8]	@ movhi
 200:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_create_segment: no room for TCP he
 338              		.loc 1 200 0
 339 0040 1421     		movs	r1, #20
 340 0042 3046     		mov	r0, r6
 341 0044 FFF7FEFF 		bl	pbuf_header
 342              	.LVL39:
 343 0048 60BB     		cbnz	r0, .L41
 206:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->src = lwip_htons(pcb->local_port);
 344              		.loc 1 206 0
 345 004a 6368     		ldr	r3, [r4, #4]
 346 004c 5E68     		ldr	r6, [r3, #4]
 347              	.LVL40:
 348 004e E660     		str	r6, [r4, #12]
 207:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->dest = lwip_htons(pcb->remote_port);
 349              		.loc 1 207 0
 350 0050 B8F81600 		ldrh	r0, [r8, #22]
 351 0054 FFF7FEFF 		bl	lwip_htons
 352              	.LVL41:
 353 0058 3080     		strh	r0, [r6]	@ unaligned
 208:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->seqno = lwip_htonl(seqno);
 354              		.loc 1 208 0
 355 005a E668     		ldr	r6, [r4, #12]
 356 005c B8F81800 		ldrh	r0, [r8, #24]
 357 0060 FFF7FEFF 		bl	lwip_htons
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 14


 358              	.LVL42:
 359 0064 7080     		strh	r0, [r6, #2]	@ unaligned
 209:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* ackno is set in tcp_output */
 360              		.loc 1 209 0
 361 0066 E668     		ldr	r6, [r4, #12]
 362 0068 4846     		mov	r0, r9
 363 006a FFF7FEFF 		bl	lwip_htonl
 364              	.LVL43:
 365 006e 7060     		str	r0, [r6, #4]	@ unaligned
 211:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* wnd and chksum are set in tcp_output */
 366              		.loc 1 211 0
 367 0070 A808     		lsrs	r0, r5, #2
 368 0072 0530     		adds	r0, r0, #5
 369 0074 E568     		ldr	r5, [r4, #12]
 370 0076 47EA0030 		orr	r0, r7, r0, lsl #12
 371 007a FFF7FEFF 		bl	lwip_htons
 372              	.LVL44:
 373 007e A881     		strh	r0, [r5, #12]	@ unaligned
 213:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return seg;
 374              		.loc 1 213 0
 375 0080 E368     		ldr	r3, [r4, #12]
 376 0082 0022     		movs	r2, #0
 377 0084 9A74     		strb	r2, [r3, #18]
 378 0086 DA74     		strb	r2, [r3, #19]
 379              	.LVL45:
 380              	.L33:
 215:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 381              		.loc 1 215 0
 382 0088 2046     		mov	r0, r4
 383 008a BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 384              	.LVL46:
 385              	.L39:
 180:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return NULL;
 386              		.loc 1 180 0
 387 008e 3046     		mov	r0, r6
 388              	.LVL47:
 389 0090 FFF7FEFF 		bl	pbuf_free
 390              	.LVL48:
 181:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 391              		.loc 1 181 0
 392 0094 F8E7     		b	.L33
 393              	.LVL49:
 394              	.L40:
 186:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->len = p->tot_len - optlen;
 395              		.loc 1 186 0 discriminator 1
 396 0096 064B     		ldr	r3, .L42
 397 0098 BA22     		movs	r2, #186
 398 009a 0649     		ldr	r1, .L42+4
 399 009c 0648     		ldr	r0, .L42+8
 400              	.LVL50:
 401 009e FFF7FEFF 		bl	printf
 402              	.LVL51:
 403 00a2 C9E7     		b	.L36
 404              	.L41:
 203:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return NULL;
 405              		.loc 1 203 0
 406 00a4 2046     		mov	r0, r4
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 15


 407 00a6 FFF7FEFF 		bl	tcp_seg_free
 408              	.LVL52:
 204:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 409              		.loc 1 204 0
 410 00aa 0024     		movs	r4, #0
 411              	.LVL53:
 412 00ac ECE7     		b	.L33
 413              	.L43:
 414 00ae 00BF     		.align	2
 415              	.L42:
 416 00b0 00000000 		.word	.LC0
 417 00b4 00000000 		.word	.LC5
 418 00b8 6C000000 		.word	.LC2
 419              		.cfi_endproc
 420              	.LFE144:
 422              		.section	.text.tcp_output_alloc_header,"ax",%progbits
 423              		.align	1
 424              		.syntax unified
 425              		.thumb
 426              		.thumb_func
 427              		.fpu fpv4-sp-d16
 429              	tcp_output_alloc_header:
 430              	.LFB142:
 110:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_hdr *tcphdr;
 431              		.loc 1 110 0
 432              		.cfi_startproc
 433              		@ args = 0, pretend = 0, frame = 0
 434              		@ frame_needed = 0, uses_anonymous_args = 0
 435              	.LVL54:
 436 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 437              	.LCFI3:
 438              		.cfi_def_cfa_offset 24
 439              		.cfi_offset 4, -24
 440              		.cfi_offset 5, -20
 441              		.cfi_offset 6, -16
 442              		.cfi_offset 7, -12
 443              		.cfi_offset 8, -8
 444              		.cfi_offset 14, -4
 445 0004 0646     		mov	r6, r0
 446 0006 0C46     		mov	r4, r1
 447 0008 9846     		mov	r8, r3
 112:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p != NULL) {
 448              		.loc 1 112 0
 449 000a 1144     		add	r1, r1, r2
 450              	.LVL55:
 451 000c 89B2     		uxth	r1, r1
 452 000e 1431     		adds	r1, r1, #20
 453 0010 0022     		movs	r2, #0
 454              	.LVL56:
 455 0012 89B2     		uxth	r1, r1
 456 0014 0120     		movs	r0, #1
 457              	.LVL57:
 458 0016 FFF7FEFF 		bl	pbuf_alloc
 459              	.LVL58:
 113:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("check that first pbuf can hold struct tcp_hdr",
 460              		.loc 1 113 0
 461 001a 0746     		mov	r7, r0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 16


 462 001c 48B3     		cbz	r0, .L44
 114:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  (p->len >= TCP_HLEN + optlen));
 463              		.loc 1 114 0
 464 001e 4289     		ldrh	r2, [r0, #10]
 465 0020 04F11403 		add	r3, r4, #20
 466 0024 9A42     		cmp	r2, r3
 467 0026 27DB     		blt	.L48
 468              	.LVL59:
 469              	.L46:
 116:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->src = lwip_htons(pcb->local_port);
 470              		.loc 1 116 0
 471 0028 7D68     		ldr	r5, [r7, #4]
 472              	.LVL60:
 117:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->dest = lwip_htons(pcb->remote_port);
 473              		.loc 1 117 0
 474 002a F08A     		ldrh	r0, [r6, #22]
 475 002c FFF7FEFF 		bl	lwip_htons
 476              	.LVL61:
 477 0030 2880     		strh	r0, [r5]	@ unaligned
 118:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->seqno = seqno_be;
 478              		.loc 1 118 0
 479 0032 308B     		ldrh	r0, [r6, #24]
 480 0034 FFF7FEFF 		bl	lwip_htons
 481              	.LVL62:
 482 0038 6880     		strh	r0, [r5, #2]	@ unaligned
 119:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->ackno = lwip_htonl(pcb->rcv_nxt);
 483              		.loc 1 119 0
 484 003a C5F80480 		str	r8, [r5, #4]	@ unaligned
 120:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_HDRLEN_FLAGS_SET(tcphdr, (5 + optlen / 4), TCP_ACK);
 485              		.loc 1 120 0
 486 003e 706A     		ldr	r0, [r6, #36]
 487 0040 FFF7FEFF 		bl	lwip_htonl
 488              	.LVL63:
 489 0044 A860     		str	r0, [r5, #8]	@ unaligned
 121:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->wnd = lwip_htons(TCPWND_MIN16(RCV_WND_SCALE(pcb, pcb->rcv_ann_wnd)));
 490              		.loc 1 121 0
 491 0046 A008     		lsrs	r0, r4, #2
 492 0048 0530     		adds	r0, r0, #5
 493 004a 0003     		lsls	r0, r0, #12
 494 004c 80B2     		uxth	r0, r0
 495 004e 40F01000 		orr	r0, r0, #16
 496 0052 FFF7FEFF 		bl	lwip_htons
 497              	.LVL64:
 498 0056 A881     		strh	r0, [r5, #12]	@ unaligned
 122:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->chksum = 0;
 499              		.loc 1 122 0
 500 0058 708D     		ldrh	r0, [r6, #42]
 501 005a FFF7FEFF 		bl	lwip_htons
 502              	.LVL65:
 503 005e E881     		strh	r0, [r5, #14]	@ unaligned
 123:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcphdr->urgp = 0;
 504              		.loc 1 123 0
 505 0060 0023     		movs	r3, #0
 506 0062 2B74     		strb	r3, [r5, #16]
 507 0064 6B74     		strb	r3, [r5, #17]
 124:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 508              		.loc 1 124 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 17


 509 0066 AB74     		strb	r3, [r5, #18]
 510 0068 EB74     		strb	r3, [r5, #19]
 127:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 511              		.loc 1 127 0
 512 006a 736A     		ldr	r3, [r6, #36]
 513 006c 728D     		ldrh	r2, [r6, #42]
 514 006e 1344     		add	r3, r3, r2
 515 0070 F362     		str	r3, [r6, #44]
 516              	.LVL66:
 517              	.L44:
 130:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 518              		.loc 1 130 0
 519 0072 3846     		mov	r0, r7
 520 0074 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 521              	.LVL67:
 522              	.L48:
 114:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  (p->len >= TCP_HLEN + optlen));
 523              		.loc 1 114 0 discriminator 1
 524 0078 034B     		ldr	r3, .L49
 525 007a 7322     		movs	r2, #115
 526 007c 0349     		ldr	r1, .L49+4
 527 007e 0448     		ldr	r0, .L49+8
 528              	.LVL68:
 529 0080 FFF7FEFF 		bl	printf
 530              	.LVL69:
 531 0084 D0E7     		b	.L46
 532              	.L50:
 533 0086 00BF     		.align	2
 534              	.L49:
 535 0088 00000000 		.word	.LC0
 536 008c 00000000 		.word	.LC6
 537 0090 6C000000 		.word	.LC2
 538              		.cfi_endproc
 539              	.LFE142:
 541              		.section	.text.tcp_output_segment,"ax",%progbits
 542              		.align	1
 543              		.syntax unified
 544              		.thumb
 545              		.thumb_func
 546              		.fpu fpv4-sp-d16
 548              	tcp_output_segment:
 549              	.LFB151:
 349:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 350:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 351:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @ingroup tcp_raw
 352:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Write data for sending (but does not send it immediately).
 353:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 354:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * It waits in the expectation of more data being sent soon (as
 355:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * it can send them more efficiently by combining them together).
 356:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * To prompt the system to send data now, call tcp_output() after
 357:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * calling tcp_write().
 358:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 359:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb Protocol control block for the TCP connection to enqueue data for.
 360:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param arg Pointer to the data to be enqueued for sending.
 361:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param len Data length in bytes
 362:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param apiflags combination of following flags :
 363:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * - TCP_WRITE_FLAG_COPY (0x01) data will be copied into memory belonging to the stack
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 18


 364:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * - TCP_WRITE_FLAG_MORE (0x02) for TCP connection, PSH flag will not be set on last segment sent,
 365:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @return ERR_OK if enqueued, another err_t on error
 366:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 367:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
 368:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_write(struct tcp_pcb *pcb, const void *arg, u16_t len, u8_t apiflags)
 369:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 370:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *concat_p = NULL;
 371:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *last_unsent = NULL, *seg = NULL, *prev_seg = NULL, *queue = NULL;
 372:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t pos = 0; /* position in 'arg' data */
 373:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t queuelen;
 374:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optlen = 0;
 375:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optflags = 0;
 376:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 377:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t oversize = 0;
 378:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t oversize_used = 0;
 379:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 380:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t oversize_add = 0;
 381:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK*/
 382:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 383:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t extendlen = 0;
 384:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 385:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t concat_chksum = 0;
 386:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t concat_chksum_swapped = 0;
 387:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t concat_chksummed = 0;
 388:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 389:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
 390:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* don't allocate segments bigger than half the maximum window we ever received */
 391:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t mss_local = LWIP_MIN(pcb->mss, TCPWND_MIN16(pcb->snd_wnd_max/2));
 392:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   mss_local = mss_local ? mss_local : pcb->mss;
 393:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 394:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
 395:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Always copy to try to create single pbufs for TX */
 396:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   apiflags |= TCP_WRITE_FLAG_COPY;
 397:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 398:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 399:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_OUTPUT_DEBUG, ("tcp_write(pcb=%p, data=%p, len=%"U16_F", apiflags=%"U16_F")\n",
 400:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     (void *)pcb, arg, len, (u16_t)apiflags));
 401:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ERROR("tcp_write: arg == NULL (programmer violates API)",
 402:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****              arg != NULL, return ERR_ARG;);
 403:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 404:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err = tcp_write_checks(pcb, len);
 405:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (err != ERR_OK) {
 406:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return err;
 407:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 408:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   queuelen = pcb->snd_queuelen;
 409:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 410:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
 411:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((pcb->flags & TF_TIMESTAMP)) {
 412:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Make sure the timestamp option is only included in data segments if we
 413:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        agreed about it with the remote host. */
 414:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     optflags = TF_SEG_OPTS_TS;
 415:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     optlen = LWIP_TCP_OPT_LENGTH(TF_SEG_OPTS_TS);
 416:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* ensure that segments can hold at least one data byte... */
 417:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     mss_local = LWIP_MAX(mss_local, LWIP_TCP_OPT_LEN_TS + 1);
 418:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 419:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_TCP_TIMESTAMPS */
 420:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 19


 421:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 422:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 423:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * TCP segmentation is done in three phases with increasing complexity:
 424:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 425:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * 1. Copy data directly into an oversized pbuf.
 426:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * 2. Chain a new pbuf to the end of pcb->unsent.
 427:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * 3. Create new segments.
 428:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 429:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * We may run out of memory at any point. In that case we must
 430:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * return ERR_MEM and not change anything in pcb. Therefore, all
 431:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * changes are recorded in local variables and committed at the end
 432:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * of the function. Some pcb fields are maintained in local copies:
 433:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 434:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * queuelen = pcb->snd_queuelen
 435:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * oversize = pcb->unsent_oversize
 436:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 437:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * These variables are set consistently by the phases:
 438:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 439:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * seg points to the last segment tampered with.
 440:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 441:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * pos records progress as data is segmented.
 442:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 443:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 444:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Find the tail of the unsent queue. */
 445:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unsent != NULL) {
 446:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t space;
 447:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t unsent_optlen;
 448:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 449:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* @todo: this could be sped up by keeping last_unsent in the pcb */
 450:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (last_unsent = pcb->unsent; last_unsent->next != NULL;
 451:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          last_unsent = last_unsent->next);
 452:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 453:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Usable space at the end of the last unsent segment */
 454:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     unsent_optlen = LWIP_TCP_OPT_LENGTH(last_unsent->flags);
 455:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("mss_local is too small", mss_local >= last_unsent->len + unsent_optlen);
 456:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     space = mss_local - (last_unsent->len + unsent_optlen);
 457:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 458:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /*
 459:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * Phase 1: Copy data directly into an oversized pbuf.
 460:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *
 461:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * The number of bytes copied is recorded in the oversize_used
 462:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * variable. The actual copying is done at the bottom of the
 463:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * function.
 464:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      */
 465:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 466:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 467:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* check that pcb->unsent_oversize matches last_unsent->oversize_left */
 468:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("unsent_oversize mismatch (pcb vs. last_unsent)",
 469:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unsent_oversize == last_unsent->oversize_left);
 470:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
 471:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     oversize = pcb->unsent_oversize;
 472:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (oversize > 0) {
 473:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_ASSERT("inconsistent oversize vs. space", oversize <= space);
 474:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg = last_unsent;
 475:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       oversize_used = LWIP_MIN(space, LWIP_MIN(oversize, len));
 476:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pos += oversize_used;
 477:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       oversize -= oversize_used;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 20


 478:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       space -= oversize_used;
 479:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 480:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* now we are either finished or oversize is zero */
 481:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("inconsistent oversize vs. len", (oversize == 0) || (pos == len));
 482:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 483:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 484:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /*
 485:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * Phase 2: Chain a new pbuf to the end of pcb->unsent.
 486:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *
 487:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * As an exception when NOT copying the data, if the given data buffer
 488:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * directly follows the last unsent data buffer in memory, extend the last
 489:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * ROM pbuf reference to the buffer, thus saving a ROM pbuf allocation.
 490:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *
 491:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * We don't extend segments containing SYN/FIN flags or options
 492:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * (len==0). The new pbuf is kept in concat_p and pbuf_cat'ed at
 493:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * the end.
 494:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      */
 495:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((pos < len) && (space > 0) && (last_unsent->len > 0)) {
 496:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       u16_t seglen = LWIP_MIN(space, len - pos);
 497:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg = last_unsent;
 498:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 499:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* Create a pbuf with a copy or reference to seglen bytes. We
 500:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        * can use PBUF_RAW here since the data appears in the middle of
 501:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        * a segment. A header will never be prepended. */
 502:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if (apiflags & TCP_WRITE_FLAG_COPY) {
 503:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* Data is copied */
 504:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         if ((concat_p = tcp_pbuf_prealloc(PBUF_RAW, seglen, space, &oversize, pcb, apiflags, 1)) ==
 505:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 506:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                       ("tcp_write : could not allocate memory for pbuf copy size %"U16_F"\n",
 507:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                        seglen));
 508:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           goto memerr;
 509:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         }
 510:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 511:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         oversize_add = oversize;
 512:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
 513:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         TCP_DATA_COPY2(concat_p->payload, (const u8_t*)arg + pos, seglen, &concat_chksum, &concat_c
 514:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 515:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         concat_chksummed += seglen;
 516:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 517:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         queuelen += pbuf_clen(concat_p);
 518:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       } else {
 519:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* Data is not copied */
 520:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* If the last unsent pbuf is of type PBUF_ROM, try to extend it. */
 521:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         struct pbuf *p;
 522:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         for (p = last_unsent->p; p->next != NULL; p = p->next);
 523:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         if (p->type == PBUF_ROM && (const u8_t *)p->payload + p->len == (const u8_t *)arg) {
 524:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           LWIP_ASSERT("tcp_write: ROM pbufs cannot be oversized", pos == 0);
 525:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           extendlen = seglen;
 526:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         } else {
 527:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           if ((concat_p = pbuf_alloc(PBUF_RAW, seglen, PBUF_ROM)) == NULL) {
 528:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****             LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 529:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                         ("tcp_write: could not allocate memory for zero-copy pbuf\n"));
 530:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****             goto memerr;
 531:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           }
 532:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           /* reference the non-volatile payload data */
 533:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           ((struct pbuf_rom*)concat_p)->payload = (const u8_t*)arg + pos;
 534:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           queuelen += pbuf_clen(concat_p);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 21


 535:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         }
 536:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 537:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* calculate the checksum of nocopy-data */
 538:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         tcp_seg_add_chksum(~inet_chksum((const u8_t*)arg + pos, seglen), seglen,
 539:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           &concat_chksum, &concat_chksum_swapped);
 540:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         concat_chksummed += seglen;
 541:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 542:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 543:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 544:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pos += seglen;
 545:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 546:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 547:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 548:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("unsent_oversize mismatch (pcb->unsent is NULL)",
 549:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unsent_oversize == 0);
 550:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 551:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 552:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 553:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 554:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * Phase 3: Create new segments.
 555:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
 556:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * The new segments are chained together in the local 'queue'
 557:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * variable, ready to be appended to pcb->unsent.
 558:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 559:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   while (pos < len) {
 560:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct pbuf *p;
 561:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t left = len - pos;
 562:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t max_len = mss_local - optlen;
 563:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t seglen = LWIP_MIN(left, max_len);
 564:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 565:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t chksum = 0;
 566:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u8_t chksum_swapped = 0;
 567:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 568:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 569:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (apiflags & TCP_WRITE_FLAG_COPY) {
 570:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* If copy is set, memory should be allocated and data copied
 571:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        * into pbuf */
 572:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if ((p = tcp_pbuf_prealloc(PBUF_TRANSPORT, seglen + optlen, mss_local, &oversize, pcb, apifla
 573:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write : could not allocate mem
 574:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         goto memerr;
 575:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 576:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_ASSERT("tcp_write: check that first pbuf can hold the complete seglen",
 577:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   (p->len >= seglen));
 578:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       TCP_DATA_COPY2((char *)p->payload + optlen, (const u8_t*)arg + pos, seglen, &chksum, &chksum_
 579:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     } else {
 580:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* Copy is not set: First allocate a pbuf for holding the data.
 581:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        * Since the referenced data is available at least until it is
 582:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        * sent out on the link (as it has to be ACKed by the remote
 583:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        * party) we can safely use PBUF_ROM instead of PBUF_REF here.
 584:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        */
 585:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       struct pbuf *p2;
 586:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 587:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_ASSERT("oversize == 0", oversize == 0);
 588:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 589:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if ((p2 = pbuf_alloc(PBUF_TRANSPORT, seglen, PBUF_ROM)) == NULL) {
 590:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write: could not allocate memo
 591:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         goto memerr;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 22


 592:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 593:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 594:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* calculate the checksum of nocopy-data */
 595:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       chksum = ~inet_chksum((const u8_t*)arg + pos, seglen);
 596:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if (seglen & 1) {
 597:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         chksum_swapped = 1;
 598:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         chksum = SWAP_BYTES_IN_WORD(chksum);
 599:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 600:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 601:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* reference the non-volatile payload data */
 602:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((struct pbuf_rom*)p2)->payload = (const u8_t*)arg + pos;
 603:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 604:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* Second, allocate a pbuf for the headers. */
 605:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if ((p = pbuf_alloc(PBUF_TRANSPORT, optlen, PBUF_RAM)) == NULL) {
 606:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* If allocation fails, we have to deallocate the data pbuf as
 607:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          * well. */
 608:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         pbuf_free(p2);
 609:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write: could not allocate memo
 610:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         goto memerr;
 611:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 612:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* Concatenate the headers and data pbufs together. */
 613:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pbuf_cat(p/*header*/, p2/*data*/);
 614:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 615:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 616:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     queuelen += pbuf_clen(p);
 617:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 618:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Now that there are more segments queued, we check again if the
 619:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * length of the queue exceeds the configured maximum or
 620:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * overflows. */
 621:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((queuelen > TCP_SND_QUEUELEN) || (queuelen > TCP_SNDQUEUELEN_OVERFLOW)) {
 622:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write: queue too long %"U16_F" (
 623:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         queuelen, (int)TCP_SND_QUEUELEN));
 624:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pbuf_free(p);
 625:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       goto memerr;
 626:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 627:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 628:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((seg = tcp_create_segment(pcb, p, 0, pcb->snd_lbb + pos, optflags)) == NULL) {
 629:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       goto memerr;
 630:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 631:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 632:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->oversize_left = oversize;
 633:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
 634:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 635:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->chksum = chksum;
 636:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->chksum_swapped = chksum_swapped;
 637:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->flags |= TF_SEG_DATA_CHECKSUMMED;
 638:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 639:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 640:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* first segment of to-be-queued data? */
 641:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (queue == NULL) {
 642:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       queue = seg;
 643:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     } else {
 644:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* Attach the segment to the end of the queued segments */
 645:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_ASSERT("prev_seg != NULL", prev_seg != NULL);
 646:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       prev_seg->next = seg;
 647:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 648:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* remember last segment of to-be-queued data for next iteration */
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 23


 649:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     prev_seg = seg;
 650:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 651:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_TRACE, ("tcp_write: queueing %"U32_F":%"U32_F"\n",
 652:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       lwip_ntohl(seg->tcphdr->seqno),
 653:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       lwip_ntohl(seg->tcphdr->seqno) + TCP_TCPLEN(seg)));
 654:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 655:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pos += seglen;
 656:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 657:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 658:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 659:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * All three segmentation phases were successful. We can commit the
 660:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * transaction.
 661:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 662:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 663:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((last_unsent != NULL) && (oversize_add != 0)) {
 664:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->oversize_left += oversize_add;
 665:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 666:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
 667:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 668:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 669:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * Phase 1: If data has been added to the preallocated tail of
 670:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * last_unsent, we update the length fields of the pbuf chain.
 671:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 672:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 673:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (oversize_used > 0) {
 674:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct pbuf *p;
 675:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Bump tot_len of whole chain, len of tail */
 676:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (p = last_unsent->p; p; p = p->next) {
 677:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += oversize_used;
 678:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if (p->next == NULL) {
 679:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         TCP_DATA_COPY((char *)p->payload + p->len, arg, oversize_used, last_unsent);
 680:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         p->len += oversize_used;
 681:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 682:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 683:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->len += oversize_used;
 684:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 685:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("last_unsent->oversize_left >= oversize_used",
 686:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 last_unsent->oversize_left >= oversize_used);
 687:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->oversize_left -= oversize_used;
 688:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
 689:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 690:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->unsent_oversize = oversize;
 691:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 692:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 693:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 694:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * Phase 2: concat_p can be concatenated onto last_unsent->p, unless we
 695:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * determined that the last ROM pbuf can be extended to include the new data.
 696:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 697:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (concat_p != NULL) {
 698:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: cannot concatenate when pcb->unsent is empty",
 699:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       (last_unsent != NULL));
 700:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pbuf_cat(last_unsent->p, concat_p);
 701:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->len += concat_p->tot_len;
 702:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else if (extendlen > 0) {
 703:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct pbuf *p;
 704:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: extension of reference requires reference",
 705:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       last_unsent != NULL && last_unsent->p != NULL);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 24


 706:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (p = last_unsent->p; p->next != NULL; p = p->next) {
 707:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += extendlen;
 708:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 709:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     p->tot_len += extendlen;
 710:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     p->len += extendlen;
 711:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->len += extendlen;
 712:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 713:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 714:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 715:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (concat_chksummed) {
 716:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: concat checksum needs concatenated data",
 717:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         concat_p != NULL || extendlen > 0);
 718:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /*if concat checksumm swapped - swap it back */
 719:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (concat_chksum_swapped) {
 720:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       concat_chksum = SWAP_BYTES_IN_WORD(concat_chksum);
 721:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 722:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_seg_add_chksum(concat_chksum, concat_chksummed, &last_unsent->chksum,
 723:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       &last_unsent->chksum_swapped);
 724:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->flags |= TF_SEG_DATA_CHECKSUMMED;
 725:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 726:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
 727:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 728:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 729:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * Phase 3: Append queue to pcb->unsent. Queue may be NULL, but that
 730:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * is harmless
 731:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 732:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (last_unsent == NULL) {
 733:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent = queue;
 734:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 735:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->next = queue;
 736:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 737:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 738:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /*
 739:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * Finally update the pcb state.
 740:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
 741:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->snd_lbb += len;
 742:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->snd_buf -= len;
 743:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->snd_queuelen = queuelen;
 744:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 745:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_write: %"S16_F" (after enqueued)\n",
 746:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->snd_queuelen));
 747:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->snd_queuelen != 0) {
 748:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: valid queue length",
 749:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unacked != NULL || pcb->unsent != NULL);
 750:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 751:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 752:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Set the PSH flag in the last segment that we enqueued. */
 753:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg != NULL && seg->tcphdr != NULL && ((apiflags & TCP_WRITE_FLAG_MORE)==0)) {
 754:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_SET_FLAG(seg->tcphdr, TCP_PSH);
 755:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 756:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 757:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return ERR_OK;
 758:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** memerr:
 759:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->flags |= TF_NAGLEMEMERR;
 760:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   TCP_STATS_INC(tcp.memerr);
 761:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 762:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (concat_p != NULL) {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 25


 763:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pbuf_free(concat_p);
 764:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 765:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (queue != NULL) {
 766:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_segs_free(queue);
 767:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 768:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->snd_queuelen != 0) {
 769:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: valid queue length", pcb->unacked != NULL ||
 770:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unsent != NULL);
 771:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 772:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_QLEN_DEBUG | LWIP_DBG_STATE, ("tcp_write: %"S16_F" (with mem err)\n", pcb->snd_qu
 773:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return ERR_MEM;
 774:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 775:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 776:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 777:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Enqueue TCP options for transmission.
 778:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 779:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_connect(), tcp_listen_input(), and tcp_send_ctrl().
 780:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 781:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb Protocol control block for the TCP connection.
 782:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param flags TCP header flags to set in the outgoing segment.
 783:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 784:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
 785:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_enqueue_flags(struct tcp_pcb *pcb, u8_t flags)
 786:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 787:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
 788:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
 789:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optflags = 0;
 790:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optlen = 0;
 791:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 792:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_enqueue_flags: queuelen: %"U16_F"\n", (u16_t)pcb->snd_queuelen)
 793:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 794:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("tcp_enqueue_flags: need either TCP_SYN or TCP_FIN in flags (programmer violates API)
 795:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (flags & (TCP_SYN | TCP_FIN)) != 0);
 796:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 797:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* check for configured max queuelen and possible overflow (FIN flag should always come through!)
 798:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (((pcb->snd_queuelen >= TCP_SND_QUEUELEN) || (pcb->snd_queuelen > TCP_SNDQUEUELEN_OVERFLOW)) &
 799:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((flags & TCP_FIN) == 0)) {
 800:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("tcp_enqueue_flags: too long queue %"U16
 801:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                                        pcb->snd_queuelen, (u16_t)TCP_SND_QUEUELEN));
 802:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.memerr);
 803:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 804:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
 805:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 806:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 807:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (flags & TCP_SYN) {
 808:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     optflags = TF_SEG_OPTS_MSS;
 809:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_WND_SCALE
 810:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((pcb->state != SYN_RCVD) || (pcb->flags & TF_WND_SCALE)) {
 811:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* In a <SYN,ACK> (sent in state SYN_RCVD), the window scale option may only
 812:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          be sent if we received a window scale option from the remote host. */
 813:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       optflags |= TF_SEG_OPTS_WND_SCALE;
 814:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 815:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_WND_SCALE */
 816:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 817:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
 818:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((pcb->flags & TF_TIMESTAMP)) {
 819:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Make sure the timestamp option is only included in data segments if we
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 26


 820:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        agreed about it with the remote host. */
 821:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     optflags |= TF_SEG_OPTS_TS;
 822:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 823:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_TCP_TIMESTAMPS */
 824:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   optlen = LWIP_TCP_OPT_LENGTH(optflags);
 825:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 826:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Allocate pbuf with room for TCP header + options */
 827:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((p = pbuf_alloc(PBUF_TRANSPORT, optlen, PBUF_RAM)) == NULL) {
 828:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 829:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.memerr);
 830:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
 831:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 832:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("tcp_enqueue_flags: check that first pbuf can hold optlen",
 833:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (p->len >= optlen));
 834:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 835:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Allocate memory for tcp_seg, and fill in fields. */
 836:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((seg = tcp_create_segment(pcb, p, flags, pcb->snd_lbb, optflags)) == NULL) {
 837:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 838:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.memerr);
 839:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
 840:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 841:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("seg->tcphdr not aligned", ((mem_ptr_t)seg->tcphdr % LWIP_MIN(MEM_ALIGNMENT, 4)) == 0
 842:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("tcp_enqueue_flags: invalid segment length", seg->len == 0);
 843:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 844:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_TRACE,
 845:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               ("tcp_enqueue_flags: queueing %"U32_F":%"U32_F" (0x%"X16_F")\n",
 846:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                lwip_ntohl(seg->tcphdr->seqno),
 847:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                lwip_ntohl(seg->tcphdr->seqno) + TCP_TCPLEN(seg),
 848:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                (u16_t)flags));
 849:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 850:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Now append seg to pcb->unsent queue */
 851:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unsent == NULL) {
 852:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent = seg;
 853:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 854:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct tcp_seg *useg;
 855:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (useg = pcb->unsent; useg->next != NULL; useg = useg->next);
 856:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     useg->next = seg;
 857:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 858:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
 859:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* The new unsent tail has no space */
 860:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->unsent_oversize = 0;
 861:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 862:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 863:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* SYN and FIN bump the sequence number */
 864:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if ((flags & TCP_SYN) || (flags & TCP_FIN)) {
 865:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->snd_lbb++;
 866:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* optlen does not influence snd_buf */
 867:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 868:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (flags & TCP_FIN) {
 869:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_FIN;
 870:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 871:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 872:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* update number of segments on the queues */
 873:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->snd_queuelen += pbuf_clen(seg->p);
 874:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_enqueue_flags: %"S16_F" (after enqueued)\n", pcb->snd_queuelen)
 875:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->snd_queuelen != 0) {
 876:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_enqueue_flags: invalid queue length",
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 27


 877:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked != NULL || pcb->unsent != NULL);
 878:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 879:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 880:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return ERR_OK;
 881:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 882:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 883:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
 884:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /* Build a timestamp option (12 bytes long) at the specified options pointer)
 885:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 886:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb tcp_pcb
 887:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param opts option pointer where to store the timestamp option
 888:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 889:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static void
 890:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_build_timestamp_option(struct tcp_pcb *pcb, u32_t *opts)
 891:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 892:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Pad with two NOP options to make everything nicely aligned */
 893:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   opts[0] = PP_HTONL(0x0101080A);
 894:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   opts[1] = lwip_htonl(sys_now());
 895:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   opts[2] = lwip_htonl(pcb->ts_recent);
 896:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 897:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
 898:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 899:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_WND_SCALE
 900:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /** Build a window scale option (3 bytes long) at the specified options pointer)
 901:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 902:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param opts option pointer where to store the window scale option
 903:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 904:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static void
 905:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_build_wnd_scale_option(u32_t *opts)
 906:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 907:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Pad with one NOP option to make everything nicely aligned */
 908:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   opts[0] = PP_HTONL(0x01030300 | TCP_RCV_SCALE);
 909:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 910:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
 911:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 912:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 913:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Send an ACK without data.
 914:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 915:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb Protocol control block for the TCP connection to send the ACK
 916:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 917:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
 918:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_send_empty_ack(struct tcp_pcb *pcb)
 919:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 920:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
 921:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
 922:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optlen = 0;
 923:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct netif *netif;
 924:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS || CHECKSUM_GEN_TCP
 925:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_hdr *tcphdr;
 926:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_TCP_TIMESTAMPS || CHECKSUM_GEN_TCP */
 927:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 928:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
 929:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->flags & TF_TIMESTAMP) {
 930:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     optlen = LWIP_TCP_OPT_LENGTH(TF_SEG_OPTS_TS);
 931:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 932:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
 933:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 28


 934:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   p = tcp_output_alloc_header(pcb, optlen, 0, lwip_htonl(pcb->snd_nxt));
 935:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 936:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* let tcp_fasttmr retry sending this ACK */
 937:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= (TF_ACK_DELAY | TF_ACK_NOW);
 938:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG, ("tcp_output: (ACK) could not allocate pbuf\n"));
 939:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_BUF;
 940:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 941:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS || CHECKSUM_GEN_TCP
 942:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr = (struct tcp_hdr *)p->payload;
 943:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_TCP_TIMESTAMPS || CHECKSUM_GEN_TCP */
 944:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_OUTPUT_DEBUG,
 945:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               ("tcp_output: sending ACK for %"U32_F"\n", pcb->rcv_nxt));
 946:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 947:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* NB. MSS and window scale options are only sent on SYNs, so ignore them here */
 948:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
 949:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->ts_lastacksent = pcb->rcv_nxt;
 950:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 951:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->flags & TF_TIMESTAMP) {
 952:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_build_timestamp_option(pcb, (u32_t *)(tcphdr + 1));
 953:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 954:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
 955:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 956:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   netif = ip_route(&pcb->local_ip, &pcb->remote_ip);
 957:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif == NULL) {
 958:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ERR_RTE;
 959:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 960:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if CHECKSUM_GEN_TCP
 961:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_TCP) {
 962:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       tcphdr->chksum = ip_chksum_pseudo(p, IP_PROTO_TCP, p->tot_len,
 963:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         &pcb->local_ip, &pcb->remote_ip);
 964:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 965:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
 966:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     NETIF_SET_HWADDRHINT(netif, &(pcb->addr_hint));
 967:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ip_output_if(p, &pcb->local_ip, &pcb->remote_ip,
 968:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->ttl, pcb->tos, IP_PROTO_TCP, netif);
 969:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     NETIF_SET_HWADDRHINT(netif, NULL);
 970:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 971:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pbuf_free(p);
 972:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 973:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (err != ERR_OK) {
 974:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* let tcp_fasttmr retry sending this ACK */
 975:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= (TF_ACK_DELAY | TF_ACK_NOW);
 976:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 977:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* remove ACK flags from the PCB, as we sent an empty ACK now */
 978:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags &= ~(TF_ACK_DELAY | TF_ACK_NOW);
 979:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 980:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 981:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return err;
 982:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 983:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 984:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
 985:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @ingroup tcp_raw
 986:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Find out what we can send and send it
 987:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
 988:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb Protocol control block for the TCP connection to send data
 989:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @return ERR_OK if data has been sent or nothing to send
 990:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *         another err_t on error
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 29


 991:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
 992:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
 993:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_output(struct tcp_pcb *pcb)
 994:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 995:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg, *useg;
 996:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u32_t wnd, snd_nxt;
 997:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
 998:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct netif *netif;
 999:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CWND_DEBUG
1000:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   s16_t i = 0;
1001:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CWND_DEBUG */
1002:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1003:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* pcb->state LISTEN not allowed here */
1004:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("don't call tcp_output for listen-pcbs",
1005:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->state != LISTEN);
1006:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1007:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* First, check if we are invoked by the TCP input processing
1008:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      code. If so, we do not output anything. Instead, we rely on the
1009:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      input processing code to call us when input processing is done
1010:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      with. */
1011:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (tcp_input_pcb == pcb) {
1012:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_OK;
1013:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1014:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1015:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   wnd = LWIP_MIN(pcb->snd_wnd, pcb->cwnd);
1016:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1017:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg = pcb->unsent;
1018:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1019:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* If the TF_ACK_NOW flag is set and no data will be sent (either
1020:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * because the ->unsent queue is empty or because the window does
1021:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * not allow it), construct an empty ACK segment and send it.
1022:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    *
1023:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * If data is to be sent, we will just piggyback the ACK (see below).
1024:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
1025:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->flags & TF_ACK_NOW &&
1026:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      (seg == NULL ||
1027:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len > wnd)) {
1028:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      return tcp_send_empty_ack(pcb);
1029:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1030:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1031:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* useg should point to last segment on unacked queue */
1032:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   useg = pcb->unacked;
1033:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (useg != NULL) {
1034:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (; useg->next != NULL; useg = useg->next);
1035:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1036:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1037:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   netif = ip_route(&pcb->local_ip, &pcb->remote_ip);
1038:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif == NULL) {
1039:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_RTE;
1040:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1041:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1042:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* If we don't have a local IP address, we get one from netif */
1043:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (ip_addr_isany(&pcb->local_ip)) {
1044:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     const ip_addr_t *local_ip = ip_netif_get_local_ip(netif, &pcb->remote_ip);
1045:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (local_ip == NULL) {
1046:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       return ERR_RTE;
1047:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 30


1048:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     ip_addr_copy(pcb->local_ip, *local_ip);
1049:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1050:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1051:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OUTPUT_DEBUG
1052:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg == NULL) {
1053:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG, ("tcp_output: nothing to send (%p)\n",
1054:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                                    (void*)pcb->unsent));
1055:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1056:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OUTPUT_DEBUG */
1057:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CWND_DEBUG
1058:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg == NULL) {
1059:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_output: snd_wnd %"TCPWNDSIZE_F
1060:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                                  ", cwnd %"TCPWNDSIZE_F", wnd %"U32_F
1061:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                                  ", seg == NULL, ack %"U32_F"\n",
1062:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                                  pcb->snd_wnd, pcb->cwnd, wnd, pcb->lastack));
1063:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
1064:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_CWND_DEBUG,
1065:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 ("tcp_output: snd_wnd %"TCPWNDSIZE_F", cwnd %"TCPWNDSIZE_F", wnd %"U32_F
1066:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  ", effwnd %"U32_F", seq %"U32_F", ack %"U32_F"\n",
1067:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  pcb->snd_wnd, pcb->cwnd, wnd,
1068:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len,
1069:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  lwip_ntohl(seg->tcphdr->seqno), pcb->lastack));
1070:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1071:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CWND_DEBUG */
1072:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Check if we need to start the persistent timer when the next unsent segment
1073:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * does not fit within the remaining send window and RTO timer is not running (we
1074:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * have no in-flight data). A traditional approach would fill the remaining window
1075:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * with part of the unsent segment (which will engage zero-window probing upon
1076:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * reception of the zero window update from the receiver). This ensures the
1077:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * subsequent window update is reliably received. With the goal of being lightweight,
1078:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    * we avoid splitting the unsent segment and treat the window as already zero.
1079:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    */
1080:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg != NULL &&
1081:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len > wnd &&
1082:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       wnd > 0 && wnd == pcb->snd_wnd && pcb->unacked == NULL) {
1083:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Start the persist timer */
1084:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (pcb->persist_backoff == 0) {
1085:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->persist_cnt = 0;
1086:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->persist_backoff = 1;
1087:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1088:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     goto output_done;
1089:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1090:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* data available and window allows it to be sent? */
1091:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   while (seg != NULL &&
1092:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len <= wnd) {
1093:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("RST not expected here!",
1094:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 (TCPH_FLAGS(seg->tcphdr) & TCP_RST) == 0);
1095:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Stop sending if the nagle algorithm would prevent it
1096:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * Don't stop:
1097:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * - if tcp_write had a memory error before (prevent delayed ACK timeout) or
1098:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * - if FIN was already enqueued for this PCB (SYN is always alone in a segment -
1099:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *   either seg->next != NULL or pcb->unacked == NULL;
1100:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      *   RST is no sent using tcp_write/tcp_output.
1101:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      */
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((tcp_do_output_nagle(pcb) == 0) &&
1103:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
1104:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       break;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 31


1105:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1106:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CWND_DEBUG
1107:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_output: snd_wnd %"TCPWNDSIZE_F", cwnd %"TCPWNDSIZE_F", wnd %"
1108:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                             pcb->snd_wnd, pcb->cwnd, wnd,
1109:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                             lwip_ntohl(seg->tcphdr->seqno) + seg->len -
1110:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                             pcb->lastack,
1111:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                             lwip_ntohl(seg->tcphdr->seqno), pcb->lastack, i));
1112:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     ++i;
1113:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CWND_DEBUG */
1114:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1115:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (pcb->state != SYN_SENT) {
1116:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       TCPH_SET_FLAG(seg->tcphdr, TCP_ACK);
1117:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1118:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1119:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
1120:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->oversize_left = 0;
1121:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
1122:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = tcp_output_segment(seg, pcb, netif);
1123:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (err != ERR_OK) {
1124:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* segment could not be sent, for whatever reason */
1125:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->flags |= TF_NAGLEMEMERR;
1126:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       return err;
1127:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1128:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent = seg->next;
1129:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (pcb->state != SYN_SENT) {
1130:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->flags &= ~(TF_ACK_DELAY | TF_ACK_NOW);
1131:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1132:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     snd_nxt = lwip_ntohl(seg->tcphdr->seqno) + TCP_TCPLEN(seg);
1133:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (TCP_SEQ_LT(pcb->snd_nxt, snd_nxt)) {
1134:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->snd_nxt = snd_nxt;
1135:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1136:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* put segment on unacknowledged list if length > 0 */
1137:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (TCP_TCPLEN(seg) > 0) {
1138:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->next = NULL;
1139:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* unacked list is empty? */
1140:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if (pcb->unacked == NULL) {
1141:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         pcb->unacked = seg;
1142:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         useg = seg;
1143:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* unacked list is not empty? */
1144:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       } else {
1145:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* In the case of fast retransmit, the packet should not go to the tail
1146:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          * of the unacked queue, but rather somewhere before it. We need to check for
1147:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          * this case. -STJ Jul 27, 2004 */
1148:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         if (TCP_SEQ_LT(lwip_ntohl(seg->tcphdr->seqno), lwip_ntohl(useg->tcphdr->seqno))) {
1149:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           /* add segment to before tail of unacked list, keeping the list sorted */
1150:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           struct tcp_seg **cur_seg = &(pcb->unacked);
1151:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           while (*cur_seg &&
1152:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****             TCP_SEQ_LT(lwip_ntohl((*cur_seg)->tcphdr->seqno), lwip_ntohl(seg->tcphdr->seqno))) {
1153:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               cur_seg = &((*cur_seg)->next );
1154:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           }
1155:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           seg->next = (*cur_seg);
1156:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           (*cur_seg) = seg;
1157:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         } else {
1158:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           /* add segment to tail of unacked list */
1159:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           useg->next = seg;
1160:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           useg = useg->next;
1161:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         }
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 32


1162:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
1163:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* do not queue empty segments on the unacked list */
1164:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     } else {
1165:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       tcp_seg_free(seg);
1166:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1167:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg = pcb->unsent;
1168:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1169:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** output_done:
1170:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
1171:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unsent == NULL) {
1172:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* last unsent has been removed, reset unsent_oversize */
1173:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent_oversize = 0;
1174:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1175:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
1176:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1177:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->flags &= ~TF_NAGLEMEMERR;
1178:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return ERR_OK;
1179:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
1180:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1181:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1182:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_output() to actually send a TCP segment over IP.
1183:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1184:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param seg the tcp_seg to send
1185:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb for the TCP connection used to send the segment
1186:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param netif the netif used to send the segment
1187:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1188:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** static err_t
1189:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_output_segment(struct tcp_seg *seg, struct tcp_pcb *pcb, struct netif *netif)
1190:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 550              		.loc 1 1190 0
 551              		.cfi_startproc
 552              		@ args = 0, pretend = 0, frame = 0
 553              		@ frame_needed = 0, uses_anonymous_args = 0
 554              	.LVL70:
1191:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
1192:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t len;
1193:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u32_t *opts;
1194:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1195:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->p->ref != 1) {
 555              		.loc 1 1195 0
 556 0000 4368     		ldr	r3, [r0, #4]
 557 0002 DB89     		ldrh	r3, [r3, #14]
 558 0004 012B     		cmp	r3, #1
 559 0006 01D0     		beq	.L61
1196:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* This can happen if the pbuf of this segment is still referenced by the
1197:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        netif driver due to deferred transmission. Since this function modifies
1198:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        p->len, we must not continue in this case. */
1199:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_OK;
 560              		.loc 1 1199 0
 561 0008 0020     		movs	r0, #0
 562              	.LVL71:
1200:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1201:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1202:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* The TCP header has already been constructed, but the ackno and
1203:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****    wnd fields remain. */
1204:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->ackno = lwip_htonl(pcb->rcv_nxt);
1205:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 33


1206:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* advertise our receive window size in this TCP segment */
1207:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_WND_SCALE
1208:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->flags & TF_SEG_OPTS_WND_SCALE) {
1209:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* The Window field in a SYN segment itself (the only type where we send
1210:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        the window scale option) is never scaled. */
1211:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->tcphdr->wnd = lwip_htons(TCPWND_MIN16(pcb->rcv_ann_wnd));
1212:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else
1213:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* LWIP_WND_SCALE */
1214:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   {
1215:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->tcphdr->wnd = lwip_htons(TCPWND_MIN16(RCV_WND_SCALE(pcb, pcb->rcv_ann_wnd)));
1216:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1217:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1218:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->rcv_ann_right_edge = pcb->rcv_nxt + pcb->rcv_ann_wnd;
1219:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1220:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Add any requested options.  NB MSS option is only set on SYN
1221:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      packets, so ignore it here */
1222:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* cast through void* to get rid of alignment warnings */
1223:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   opts = (u32_t *)(void *)(seg->tcphdr + 1);
1224:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->flags & TF_SEG_OPTS_MSS) {
1225:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t mss;
1226:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CALCULATE_EFF_SEND_MSS
1227:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     mss = tcp_eff_send_mss(TCP_MSS, &pcb->local_ip, &pcb->remote_ip);
1228:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* TCP_CALCULATE_EFF_SEND_MSS */
1229:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     mss = TCP_MSS;
1230:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
1231:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     *opts = TCP_BUILD_MSS_OPTION(mss);
1232:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     opts += 1;
1233:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1234:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_TCP_TIMESTAMPS
1235:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->ts_lastacksent = pcb->rcv_nxt;
1236:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1237:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->flags & TF_SEG_OPTS_TS) {
1238:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_build_timestamp_option(pcb, opts);
1239:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     opts += 3;
1240:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1241:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
1242:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_WND_SCALE
1243:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->flags & TF_SEG_OPTS_WND_SCALE) {
1244:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_build_wnd_scale_option(opts);
1245:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     opts += 1;
1246:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1247:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
1248:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1249:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Set retransmission timer running if it is not currently enabled
1250:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      This must be set before checking the route. */
1251:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->rtime < 0) {
1252:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rtime = 0;
1253:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1254:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1255:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->rttest == 0) {
1256:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rttest = tcp_ticks;
1257:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rtseq = lwip_ntohl(seg->tcphdr->seqno);
1258:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1259:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_RTO_DEBUG, ("tcp_output_segment: rtseq %"U32_F"\n", pcb->rtseq));
1260:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1261:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_OUTPUT_DEBUG, ("tcp_output_segment: %"U32_F":%"U32_F"\n",
1262:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           lwip_htonl(seg->tcphdr->seqno), lwip_htonl(seg->tcphdr->seqno) +
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 34


1263:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           seg->len));
1264:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1265:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   len = (u16_t)((u8_t *)seg->tcphdr - (u8_t *)seg->p->payload);
1266:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (len == 0) {
1267:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /** Exclude retransmitted segments from this count. */
1268:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     MIB2_STATS_INC(mib2.tcpoutsegs);
1269:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1270:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1271:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->p->len -= len;
1272:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->p->tot_len -= len;
1273:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1274:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->p->payload = seg->tcphdr;
1275:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1276:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->tcphdr->chksum = 0;
1277:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if CHECKSUM_GEN_TCP
1278:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_TCP) {
1279:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
1280:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u32_t acc;
1281:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY_SANITY_CHECK
1282:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t chksum_slow = ip_chksum_pseudo(seg->p, IP_PROTO_TCP,
1283:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->p->tot_len, &pcb->local_ip, &pcb->remote_ip);
1284:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY_SANITY_CHECK */
1285:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if ((seg->flags & TF_SEG_DATA_CHECKSUMMED) == 0) {
1286:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_ASSERT("data included but not checksummed",
1287:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         seg->p->tot_len == (TCPH_HDRLEN(seg->tcphdr) * 4));
1288:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1289:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1290:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* rebuild TCP header checksum (TCP header changes for retransmissions!) */
1291:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     acc = ip_chksum_pseudo_partial(seg->p, IP_PROTO_TCP,
1292:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->p->tot_len, TCPH_HDRLEN(seg->tcphdr) * 4, &pcb->local_ip, &pcb->remote_ip);
1293:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* add payload checksum */
1294:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (seg->chksum_swapped) {
1295:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->chksum = SWAP_BYTES_IN_WORD(seg->chksum);
1296:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->chksum_swapped = 0;
1297:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1298:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     acc += (u16_t)~(seg->chksum);
1299:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->tcphdr->chksum = FOLD_U32T(acc);
1300:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY_SANITY_CHECK
1301:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (chksum_slow != seg->tcphdr->chksum) {
1302:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       TCP_CHECKSUM_ON_COPY_SANITY_CHECK_FAIL(
1303:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   ("tcp_output_segment: calculated checksum is %"X16_F" instead of %"X16_F"\n",
1304:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   seg->tcphdr->chksum, chksum_slow));
1305:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->tcphdr->chksum = chksum_slow;
1306:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1307:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY_SANITY_CHECK */
1308:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* TCP_CHECKSUM_ON_COPY */
1309:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg->tcphdr->chksum = ip_chksum_pseudo(seg->p, IP_PROTO_TCP,
1310:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->p->tot_len, &pcb->local_ip, &pcb->remote_ip);
1311:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_CHECKSUM_ON_COPY */
1312:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1313:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* CHECKSUM_GEN_TCP */
1314:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   TCP_STATS_INC(tcp.xmit);
1315:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1316:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   NETIF_SET_HWADDRHINT(netif, &(pcb->addr_hint));
1317:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err = ip_output_if(seg->p, &pcb->local_ip, &pcb->remote_ip, pcb->ttl,
1318:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->tos, IP_PROTO_TCP, netif);
1319:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   NETIF_SET_HWADDRHINT(netif, NULL);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 35


1320:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return err;
1321:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 563              		.loc 1 1321 0
 564 000a 7047     		bx	lr
 565              	.LVL72:
 566              	.L61:
1190:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
 567              		.loc 1 1190 0
 568 000c F0B5     		push	{r4, r5, r6, r7, lr}
 569              	.LCFI4:
 570              		.cfi_def_cfa_offset 20
 571              		.cfi_offset 4, -20
 572              		.cfi_offset 5, -16
 573              		.cfi_offset 6, -12
 574              		.cfi_offset 7, -8
 575              		.cfi_offset 14, -4
 576 000e 85B0     		sub	sp, sp, #20
 577              	.LCFI5:
 578              		.cfi_def_cfa_offset 40
 579 0010 1646     		mov	r6, r2
 580 0012 0D46     		mov	r5, r1
 581 0014 0446     		mov	r4, r0
1204:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 582              		.loc 1 1204 0
 583 0016 C768     		ldr	r7, [r0, #12]
 584 0018 486A     		ldr	r0, [r1, #36]
 585              	.LVL73:
 586 001a FFF7FEFF 		bl	lwip_htonl
 587              	.LVL74:
 588 001e B860     		str	r0, [r7, #8]	@ unaligned
1215:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 589              		.loc 1 1215 0
 590 0020 E768     		ldr	r7, [r4, #12]
 591 0022 688D     		ldrh	r0, [r5, #42]
 592 0024 FFF7FEFF 		bl	lwip_htons
 593              	.LVL75:
 594 0028 F881     		strh	r0, [r7, #14]	@ unaligned
1218:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 595              		.loc 1 1218 0
 596 002a 6B6A     		ldr	r3, [r5, #36]
 597 002c 6A8D     		ldrh	r2, [r5, #42]
 598 002e 1344     		add	r3, r3, r2
 599 0030 EB62     		str	r3, [r5, #44]
1223:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->flags & TF_SEG_OPTS_MSS) {
 600              		.loc 1 1223 0
 601 0032 E768     		ldr	r7, [r4, #12]
 602              	.LVL76:
1224:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t mss;
 603              		.loc 1 1224 0
 604 0034 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 605 0036 13F0010F 		tst	r3, #1
 606 003a 26D1     		bne	.L62
 607              	.LVL77:
 608              	.L53:
1251:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rtime = 0;
 609              		.loc 1 1251 0
 610 003c B5F93030 		ldrsh	r3, [r5, #48]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 36


 611 0040 002B     		cmp	r3, #0
 612 0042 2DDB     		blt	.L63
 613              	.L54:
1255:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rttest = tcp_ticks;
 614              		.loc 1 1255 0
 615 0044 6B6B     		ldr	r3, [r5, #52]
 616 0046 002B     		cmp	r3, #0
 617 0048 2DD0     		beq	.L64
 618              	.L55:
1265:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (len == 0) {
 619              		.loc 1 1265 0
 620 004a E368     		ldr	r3, [r4, #12]
 621 004c 6268     		ldr	r2, [r4, #4]
 622 004e 5168     		ldr	r1, [r2, #4]
 623 0050 5B1A     		subs	r3, r3, r1
 624 0052 9BB2     		uxth	r3, r3
 625              	.LVL78:
1271:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->p->tot_len -= len;
 626              		.loc 1 1271 0
 627 0054 5189     		ldrh	r1, [r2, #10]
 628 0056 C91A     		subs	r1, r1, r3
 629 0058 5181     		strh	r1, [r2, #10]	@ movhi
1272:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 630              		.loc 1 1272 0
 631 005a 6168     		ldr	r1, [r4, #4]
 632 005c 0A89     		ldrh	r2, [r1, #8]
 633 005e D31A     		subs	r3, r2, r3
 634              	.LVL79:
 635 0060 0B81     		strh	r3, [r1, #8]	@ movhi
1274:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 636              		.loc 1 1274 0
 637 0062 6368     		ldr	r3, [r4, #4]
 638 0064 E268     		ldr	r2, [r4, #12]
 639 0066 5A60     		str	r2, [r3, #4]
1276:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if CHECKSUM_GEN_TCP
 640              		.loc 1 1276 0
 641 0068 E368     		ldr	r3, [r4, #12]
 642 006a 0022     		movs	r2, #0
 643 006c 1A74     		strb	r2, [r3, #16]
 644 006e 5A74     		strb	r2, [r3, #17]
1317:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->tos, IP_PROTO_TCP, netif);
 645              		.loc 1 1317 0
 646 0070 6068     		ldr	r0, [r4, #4]
 647 0072 AB7A     		ldrb	r3, [r5, #10]	@ zero_extendqisi2
 648 0074 6A7A     		ldrb	r2, [r5, #9]	@ zero_extendqisi2
 649 0076 0296     		str	r6, [sp, #8]
 650 0078 0621     		movs	r1, #6
 651 007a 0191     		str	r1, [sp, #4]
 652 007c 0092     		str	r2, [sp]
 653 007e 2A1D     		adds	r2, r5, #4
 654 0080 2946     		mov	r1, r5
 655 0082 FFF7FEFF 		bl	ip4_output_if
 656              	.LVL80:
 657              		.loc 1 1321 0
 658 0086 05B0     		add	sp, sp, #20
 659              	.LCFI6:
 660              		.cfi_remember_state
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 37


 661              		.cfi_def_cfa_offset 20
 662              		@ sp needed
 663 0088 F0BD     		pop	{r4, r5, r6, r7, pc}
 664              	.LVL81:
 665              	.L62:
 666              	.LCFI7:
 667              		.cfi_restore_state
 668              	.LBB2:
1227:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else /* TCP_CALCULATE_EFF_SEND_MSS */
 669              		.loc 1 1227 0
 670 008a 291D     		adds	r1, r5, #4
 671 008c 4FF40670 		mov	r0, #536
 672 0090 FFF7FEFF 		bl	tcp_eff_send_mss_impl
 673              	.LVL82:
1231:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     opts += 1;
 674              		.loc 1 1231 0
 675 0094 40F00170 		orr	r0, r0, #33816576
 676              	.LVL83:
 677 0098 FFF7FEFF 		bl	lwip_htonl
 678              	.LVL84:
 679 009c 7861     		str	r0, [r7, #20]
 680              	.LVL85:
 681 009e CDE7     		b	.L53
 682              	.LVL86:
 683              	.L63:
 684              	.LBE2:
1252:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 685              		.loc 1 1252 0
 686 00a0 0023     		movs	r3, #0
 687 00a2 2B86     		strh	r3, [r5, #48]	@ movhi
 688 00a4 CEE7     		b	.L54
 689              	.L64:
1256:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rtseq = lwip_ntohl(seg->tcphdr->seqno);
 690              		.loc 1 1256 0
 691 00a6 044B     		ldr	r3, .L65
 692 00a8 1B68     		ldr	r3, [r3]
 693 00aa 6B63     		str	r3, [r5, #52]
1257:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 694              		.loc 1 1257 0
 695 00ac E368     		ldr	r3, [r4, #12]
 696 00ae 5868     		ldr	r0, [r3, #4]	@ unaligned
 697 00b0 FFF7FEFF 		bl	lwip_htonl
 698              	.LVL87:
 699 00b4 A863     		str	r0, [r5, #56]
 700 00b6 C8E7     		b	.L55
 701              	.L66:
 702              		.align	2
 703              	.L65:
 704 00b8 00000000 		.word	tcp_ticks
 705              		.cfi_endproc
 706              	.LFE151:
 708              		.section	.text.tcp_write,"ax",%progbits
 709              		.align	1
 710              		.global	tcp_write
 711              		.syntax unified
 712              		.thumb
 713              		.thumb_func
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 38


 714              		.fpu fpv4-sp-d16
 716              	tcp_write:
 717              	.LFB147:
 369:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *concat_p = NULL;
 718              		.loc 1 369 0
 719              		.cfi_startproc
 720              		@ args = 0, pretend = 0, frame = 48
 721              		@ frame_needed = 0, uses_anonymous_args = 0
 722              	.LVL88:
 723 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 724              	.LCFI8:
 725              		.cfi_def_cfa_offset 36
 726              		.cfi_offset 4, -36
 727              		.cfi_offset 5, -32
 728              		.cfi_offset 6, -28
 729              		.cfi_offset 7, -24
 730              		.cfi_offset 8, -20
 731              		.cfi_offset 9, -16
 732              		.cfi_offset 10, -12
 733              		.cfi_offset 11, -8
 734              		.cfi_offset 14, -4
 735 0004 91B0     		sub	sp, sp, #68
 736              	.LCFI9:
 737              		.cfi_def_cfa_offset 104
 738 0006 8046     		mov	r8, r0
 739 0008 0791     		str	r1, [sp, #28]
 740 000a 9246     		mov	r10, r2
 741 000c 0693     		str	r3, [sp, #24]
 742              	.LVL89:
 377:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t oversize_used = 0;
 743              		.loc 1 377 0
 744 000e 0023     		movs	r3, #0
 745              	.LVL90:
 746 0010 ADF83E30 		strh	r3, [sp, #62]	@ movhi
 747              	.LVL91:
 391:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   mss_local = mss_local ? mss_local : pcb->mss;
 748              		.loc 1 391 0
 749 0014 B0F85E30 		ldrh	r3, [r0, #94]
 750 0018 B0F832B0 		ldrh	fp, [r0, #50]
 751 001c 5B08     		lsrs	r3, r3, #1
 752 001e 5B45     		cmp	r3, fp
 753 0020 28BF     		it	cs
 754 0022 5B46     		movcs	r3, fp
 755              	.LVL92:
 392:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 756              		.loc 1 392 0
 757 0024 03B1     		cbz	r3, .L68
 758 0026 9B46     		mov	fp, r3
 759              	.L68:
 760              	.LVL93:
 401:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****              arg != NULL, return ERR_ARG;);
 761              		.loc 1 401 0 discriminator 4
 762 0028 079B     		ldr	r3, [sp, #28]
 763 002a 8BB1     		cbz	r3, .L128
 404:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (err != ERR_OK) {
 764              		.loc 1 404 0
 765 002c 5146     		mov	r1, r10
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 39


 766              	.LVL94:
 767 002e 4046     		mov	r0, r8
 768              	.LVL95:
 769 0030 FFF7FEFF 		bl	tcp_write_checks
 770              	.LVL96:
 405:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return err;
 771              		.loc 1 405 0
 772 0034 0A90     		str	r0, [sp, #40]
 773 0036 0028     		cmp	r0, #0
 774 0038 40F09C81 		bne	.L70
 408:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 775              		.loc 1 408 0
 776 003c B8F86260 		ldrh	r6, [r8, #98]
 777              	.LVL97:
 445:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t space;
 778              		.loc 1 445 0
 779 0040 D8F86830 		ldr	r3, [r8, #104]
 780 0044 0993     		str	r3, [sp, #36]
 781 0046 002B     		cmp	r3, #0
 782 0048 00F0CE80 		beq	.L129
 783 004c 099A     		ldr	r2, [sp, #36]
 784 004e 0BE0     		b	.L72
 785              	.LVL98:
 786              	.L128:
 401:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****              arg != NULL, return ERR_ARG;);
 787              		.loc 1 401 0 discriminator 1
 788 0050 AB4B     		ldr	r3, .L149
 789 0052 4FF4C972 		mov	r2, #402
 790              	.LVL99:
 791 0056 AB49     		ldr	r1, .L149+4
 792              	.LVL100:
 793 0058 AB48     		ldr	r0, .L149+8
 794              	.LVL101:
 795 005a FFF7FEFF 		bl	printf
 796              	.LVL102:
 797 005e 6FF00F03 		mvn	r3, #15
 798 0062 0A93     		str	r3, [sp, #40]
 799 0064 86E1     		b	.L70
 800              	.LVL103:
 801              	.L111:
 802              	.LBB3:
 451:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 803              		.loc 1 451 0
 804 0066 1A46     		mov	r2, r3
 805              	.LVL104:
 806              	.L72:
 450:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          last_unsent = last_unsent->next);
 807              		.loc 1 450 0 discriminator 1
 808 0068 1368     		ldr	r3, [r2]
 809 006a 002B     		cmp	r3, #0
 810 006c FBD1     		bne	.L111
 811 006e 0992     		str	r2, [sp, #36]
 812 0070 9946     		mov	r9, r3
 454:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("mss_local is too small", mss_local >= last_unsent->len + unsent_optlen);
 813              		.loc 1 454 0
 814 0072 947A     		ldrb	r4, [r2, #10]	@ zero_extendqisi2
 815 0074 A400     		lsls	r4, r4, #2
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 40


 816 0076 04F00404 		and	r4, r4, #4
 817              	.LVL105:
 455:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     space = mss_local - (last_unsent->len + unsent_optlen);
 818              		.loc 1 455 0
 819 007a 1389     		ldrh	r3, [r2, #8]
 820 007c 2344     		add	r3, r3, r4
 821 007e 9B45     		cmp	fp, r3
 822 0080 42DB     		blt	.L130
 823              	.LVL106:
 824              	.L73:
 456:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 825              		.loc 1 456 0
 826 0082 099B     		ldr	r3, [sp, #36]
 827 0084 1B89     		ldrh	r3, [r3, #8]
 828 0086 1C44     		add	r4, r4, r3
 829              	.LVL107:
 830 0088 A4B2     		uxth	r4, r4
 831 008a ABEB0404 		sub	r4, fp, r4
 832 008e A2B2     		uxth	r2, r4
 833 0090 0C92     		str	r2, [sp, #48]
 834              	.LVL108:
 471:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (oversize > 0) {
 835              		.loc 1 471 0
 836 0092 B8F86430 		ldrh	r3, [r8, #100]
 837 0096 0B93     		str	r3, [sp, #44]
 838 0098 ADF83E30 		strh	r3, [sp, #62]	@ movhi
 472:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_ASSERT("inconsistent oversize vs. space", oversize <= space);
 839              		.loc 1 472 0
 840 009c 002B     		cmp	r3, #0
 841 009e 45D0     		beq	.L112
 473:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg = last_unsent;
 842              		.loc 1 473 0
 843 00a0 9342     		cmp	r3, r2
 844 00a2 39D8     		bhi	.L131
 845              	.LVL109:
 846              	.L75:
 475:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pos += oversize_used;
 847              		.loc 1 475 0
 848 00a4 BDF83E30 		ldrh	r3, [sp, #62]
 849 00a8 5345     		cmp	r3, r10
 850 00aa 3DD2     		bcs	.L76
 475:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pos += oversize_used;
 851              		.loc 1 475 0 is_stmt 0 discriminator 1
 852 00ac 1A46     		mov	r2, r3
 853              	.L77:
 475:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pos += oversize_used;
 854              		.loc 1 475 0 discriminator 4
 855 00ae 0C99     		ldr	r1, [sp, #48]
 856 00b0 8A42     		cmp	r2, r1
 857 00b2 A8BF     		it	ge
 858 00b4 0A46     		movge	r2, r1
 859 00b6 92B2     		uxth	r2, r2
 860 00b8 0B92     		str	r2, [sp, #44]
 861              	.LVL110:
 477:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       space -= oversize_used;
 862              		.loc 1 477 0 is_stmt 1 discriminator 4
 863 00ba 9B1A     		subs	r3, r3, r2
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 41


 864 00bc ADF83E30 		strh	r3, [sp, #62]	@ movhi
 478:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 865              		.loc 1 478 0 discriminator 4
 866 00c0 8B1A     		subs	r3, r1, r2
 867 00c2 9BB2     		uxth	r3, r3
 868 00c4 0C93     		str	r3, [sp, #48]
 869              	.LVL111:
 474:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       oversize_used = LWIP_MIN(space, LWIP_MIN(oversize, len));
 870              		.loc 1 474 0 discriminator 4
 871 00c6 099F     		ldr	r7, [sp, #36]
 872              	.LVL112:
 873              	.L74:
 481:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 874              		.loc 1 481 0
 875 00c8 BDF83E30 		ldrh	r3, [sp, #62]
 876 00cc 13B1     		cbz	r3, .L78
 481:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 877              		.loc 1 481 0 is_stmt 0 discriminator 1
 878 00ce 0B9B     		ldr	r3, [sp, #44]
 879 00d0 5345     		cmp	r3, r10
 880 00d2 2DD1     		bne	.L132
 881              	.L78:
 495:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       u16_t seglen = LWIP_MIN(space, len - pos);
 882              		.loc 1 495 0 is_stmt 1
 883 00d4 0B9A     		ldr	r2, [sp, #44]
 884 00d6 5245     		cmp	r2, r10
 885 00d8 80F05A81 		bcs	.L113
 495:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       u16_t seglen = LWIP_MIN(space, len - pos);
 886              		.loc 1 495 0 is_stmt 0 discriminator 1
 887 00dc 0C99     		ldr	r1, [sp, #48]
 888 00de 0029     		cmp	r1, #0
 889 00e0 00F05F81 		beq	.L114
 495:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       u16_t seglen = LWIP_MIN(space, len - pos);
 890              		.loc 1 495 0 discriminator 2
 891 00e4 099B     		ldr	r3, [sp, #36]
 892 00e6 1B89     		ldrh	r3, [r3, #8]
 893 00e8 002B     		cmp	r3, #0
 894 00ea 00F05E81 		beq	.L115
 895              	.LBB4:
 496:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg = last_unsent;
 896              		.loc 1 496 0 is_stmt 1
 897 00ee AAEB0204 		sub	r4, r10, r2
 898 00f2 8C42     		cmp	r4, r1
 899 00f4 A8BF     		it	ge
 900 00f6 0C46     		movge	r4, r1
 901 00f8 A5B2     		uxth	r5, r4
 902              	.LVL113:
 502:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* Data is copied */
 903              		.loc 1 502 0
 904 00fa 069B     		ldr	r3, [sp, #24]
 905 00fc 13F0010F 		tst	r3, #1
 906 0100 1ED1     		bne	.L133
 907              	.LBB5:
 522:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         if (p->type == PBUF_ROM && (const u8_t *)p->payload + p->len == (const u8_t *)arg) {
 908              		.loc 1 522 0
 909 0102 099B     		ldr	r3, [sp, #36]
 910 0104 5B68     		ldr	r3, [r3, #4]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 42


 911              	.LVL114:
 912 0106 3DE0     		b	.L83
 913              	.LVL115:
 914              	.L130:
 915              	.LBE5:
 916              	.LBE4:
 455:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     space = mss_local - (last_unsent->len + unsent_optlen);
 917              		.loc 1 455 0 discriminator 1
 918 0108 7D4B     		ldr	r3, .L149
 919 010a 40F2C712 		movw	r2, #455
 920              	.LVL116:
 921 010e 7F49     		ldr	r1, .L149+12
 922 0110 7D48     		ldr	r0, .L149+8
 923              	.LVL117:
 924 0112 FFF7FEFF 		bl	printf
 925              	.LVL118:
 926 0116 B4E7     		b	.L73
 927              	.LVL119:
 928              	.L131:
 473:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg = last_unsent;
 929              		.loc 1 473 0 discriminator 1
 930 0118 794B     		ldr	r3, .L149
 931 011a 40F2D912 		movw	r2, #473
 932              	.LVL120:
 933 011e 7C49     		ldr	r1, .L149+16
 934 0120 7948     		ldr	r0, .L149+8
 935 0122 FFF7FEFF 		bl	printf
 936              	.LVL121:
 937 0126 BDE7     		b	.L75
 938              	.LVL122:
 939              	.L76:
 475:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pos += oversize_used;
 940              		.loc 1 475 0 discriminator 2
 941 0128 5246     		mov	r2, r10
 942 012a C0E7     		b	.L77
 943              	.LVL123:
 944              	.L112:
 945              	.LBE3:
 371:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t pos = 0; /* position in 'arg' data */
 946              		.loc 1 371 0
 947 012c 4F46     		mov	r7, r9
 948 012e CBE7     		b	.L74
 949              	.LVL124:
 950              	.L132:
 951              	.LBB11:
 481:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 952              		.loc 1 481 0 discriminator 2
 953 0130 734B     		ldr	r3, .L149
 954 0132 40F2E112 		movw	r2, #481
 955 0136 7749     		ldr	r1, .L149+20
 956 0138 7348     		ldr	r0, .L149+8
 957 013a FFF7FEFF 		bl	printf
 958              	.LVL125:
 959 013e C9E7     		b	.L78
 960              	.LVL126:
 961              	.L133:
 962              	.LBB8:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 43


 504:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 963              		.loc 1 504 0
 964 0140 0123     		movs	r3, #1
 965 0142 0293     		str	r3, [sp, #8]
 966 0144 069B     		ldr	r3, [sp, #24]
 967 0146 0193     		str	r3, [sp, #4]
 968 0148 CDF80080 		str	r8, [sp]
 969 014c 0DF13E03 		add	r3, sp, #62
 970 0150 0A46     		mov	r2, r1
 971 0152 2946     		mov	r1, r5
 972 0154 0420     		movs	r0, #4
 973 0156 FFF7FEFF 		bl	tcp_pbuf_prealloc
 974              	.LVL127:
 975 015a 0746     		mov	r7, r0
 976 015c 0D90     		str	r0, [sp, #52]
 977 015e 0028     		cmp	r0, #0
 978 0160 00F0E580 		beq	.L81
 513:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 979              		.loc 1 513 0
 980 0164 2A46     		mov	r2, r5
 981 0166 079B     		ldr	r3, [sp, #28]
 982 0168 0B99     		ldr	r1, [sp, #44]
 983 016a 5918     		adds	r1, r3, r1
 984 016c 4068     		ldr	r0, [r0, #4]
 985              	.LVL128:
 986 016e FFF7FEFF 		bl	memcpy
 987              	.LVL129:
 517:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       } else {
 988              		.loc 1 517 0
 989 0172 3846     		mov	r0, r7
 990 0174 FFF7FEFF 		bl	pbuf_clen
 991              	.LVL130:
 992 0178 0644     		add	r6, r6, r0
 993              	.LVL131:
 994 017a B6B2     		uxth	r6, r6
 995              	.LVL132:
 996              	.LBE8:
 997              	.LBE11:
 383:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 998              		.loc 1 383 0
 999 017c 0023     		movs	r3, #0
 1000 017e 0C93     		str	r3, [sp, #48]
 1001              	.LVL133:
 1002              	.LBB12:
 1003              	.LBB9:
 1004 0180 20E0     		b	.L82
 1005              	.LVL134:
 1006              	.L116:
 1007              	.LBB6:
 522:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         if (p->type == PBUF_ROM && (const u8_t *)p->payload + p->len == (const u8_t *)arg) {
 1008              		.loc 1 522 0
 1009 0182 1346     		mov	r3, r2
 1010              	.LVL135:
 1011              	.L83:
 522:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         if (p->type == PBUF_ROM && (const u8_t *)p->payload + p->len == (const u8_t *)arg) {
 1012              		.loc 1 522 0 is_stmt 0 discriminator 1
 1013 0184 1A68     		ldr	r2, [r3]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 44


 1014 0186 002A     		cmp	r2, #0
 1015 0188 FBD1     		bne	.L116
 1016 018a 0D92     		str	r2, [sp, #52]
 523:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           LWIP_ASSERT("tcp_write: ROM pbufs cannot be oversized", pos == 0);
 1017              		.loc 1 523 0 is_stmt 1
 1018 018c 1A7B     		ldrb	r2, [r3, #12]	@ zero_extendqisi2
 1019 018e 012A     		cmp	r2, #1
 1020 0190 05D1     		bne	.L84
 523:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           LWIP_ASSERT("tcp_write: ROM pbufs cannot be oversized", pos == 0);
 1021              		.loc 1 523 0 is_stmt 0 discriminator 1
 1022 0192 5A68     		ldr	r2, [r3, #4]
 1023 0194 5B89     		ldrh	r3, [r3, #10]
 1024              	.LVL136:
 1025 0196 1344     		add	r3, r3, r2
 1026 0198 079A     		ldr	r2, [sp, #28]
 1027 019a 9342     		cmp	r3, r2
 1028 019c 17D0     		beq	.L134
 1029              	.L84:
 527:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****             LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 1030              		.loc 1 527 0 is_stmt 1
 1031 019e 0122     		movs	r2, #1
 1032 01a0 2946     		mov	r1, r5
 1033 01a2 0420     		movs	r0, #4
 1034 01a4 FFF7FEFF 		bl	pbuf_alloc
 1035              	.LVL137:
 1036 01a8 0D90     		str	r0, [sp, #52]
 1037 01aa 0028     		cmp	r0, #0
 1038 01ac 00F0BF80 		beq	.L81
 533:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           queuelen += pbuf_clen(concat_p);
 1039              		.loc 1 533 0
 1040 01b0 079B     		ldr	r3, [sp, #28]
 1041 01b2 0B9A     		ldr	r2, [sp, #44]
 1042 01b4 1344     		add	r3, r3, r2
 1043 01b6 4360     		str	r3, [r0, #4]
 534:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         }
 1044              		.loc 1 534 0
 1045 01b8 FFF7FEFF 		bl	pbuf_clen
 1046              	.LVL138:
 1047 01bc 0644     		add	r6, r6, r0
 1048              	.LVL139:
 1049 01be B6B2     		uxth	r6, r6
 1050              	.LVL140:
 1051              	.LBE6:
 1052              	.LBE9:
 1053              	.LBE12:
 383:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 1054              		.loc 1 383 0
 1055 01c0 0023     		movs	r3, #0
 1056 01c2 0C93     		str	r3, [sp, #48]
 1057              	.LVL141:
 1058              	.L82:
 1059              	.LBB13:
 1060              	.LBB10:
 544:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 1061              		.loc 1 544 0
 1062 01c4 0B9B     		ldr	r3, [sp, #44]
 1063 01c6 5C19     		adds	r4, r3, r5
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 45


 1064 01c8 A4B2     		uxth	r4, r4
 1065              	.LVL142:
 497:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1066              		.loc 1 497 0
 1067 01ca 099F     		ldr	r7, [sp, #36]
 1068 01cc E4E0     		b	.L79
 1069              	.LVL143:
 1070              	.L134:
 1071              	.LBB7:
 524:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           extendlen = seglen;
 1072              		.loc 1 524 0
 1073 01ce 0B9B     		ldr	r3, [sp, #44]
 1074 01d0 0BB9     		cbnz	r3, .L135
 525:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         } else {
 1075              		.loc 1 525 0
 1076 01d2 0C95     		str	r5, [sp, #48]
 1077              	.LVL144:
 1078 01d4 F6E7     		b	.L82
 1079              	.LVL145:
 1080              	.L135:
 524:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           extendlen = seglen;
 1081              		.loc 1 524 0 discriminator 1
 1082 01d6 4A4B     		ldr	r3, .L149
 1083 01d8 4FF40372 		mov	r2, #524
 1084 01dc 4E49     		ldr	r1, .L149+24
 1085 01de 4A48     		ldr	r0, .L149+8
 1086 01e0 FFF7FEFF 		bl	printf
 1087              	.LVL146:
 525:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         } else {
 1088              		.loc 1 525 0 discriminator 1
 1089 01e4 0C95     		str	r5, [sp, #48]
 1090              	.LVL147:
 1091 01e6 EDE7     		b	.L82
 1092              	.LVL148:
 1093              	.L129:
 1094              	.LBE7:
 1095              	.LBE10:
 1096              	.LBE13:
 548:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unsent_oversize == 0);
 1097              		.loc 1 548 0
 1098 01e8 B8F86440 		ldrh	r4, [r8, #100]
 1099 01ec 2CB9     		cbnz	r4, .L136
 383:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 1100              		.loc 1 383 0
 1101 01ee 0C94     		str	r4, [sp, #48]
 378:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 1102              		.loc 1 378 0
 1103 01f0 0B94     		str	r4, [sp, #44]
 371:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t pos = 0; /* position in 'arg' data */
 1104              		.loc 1 371 0
 1105 01f2 099F     		ldr	r7, [sp, #36]
 370:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *last_unsent = NULL, *seg = NULL, *prev_seg = NULL, *queue = NULL;
 1106              		.loc 1 370 0
 1107 01f4 0023     		movs	r3, #0
 1108 01f6 0D93     		str	r3, [sp, #52]
 1109 01f8 CEE0     		b	.L79
 1110              	.L136:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 46


 548:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unsent_oversize == 0);
 1111              		.loc 1 548 0 discriminator 1
 1112 01fa 414B     		ldr	r3, .L149
 1113 01fc 40F22522 		movw	r2, #549
 1114 0200 4649     		ldr	r1, .L149+28
 1115 0202 4148     		ldr	r0, .L149+8
 1116              	.LVL149:
 1117 0204 FFF7FEFF 		bl	printf
 1118              	.LVL150:
 371:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t pos = 0; /* position in 'arg' data */
 1119              		.loc 1 371 0 discriminator 1
 1120 0208 099F     		ldr	r7, [sp, #36]
 383:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 1121              		.loc 1 383 0 discriminator 1
 1122 020a 0023     		movs	r3, #0
 1123 020c 0C93     		str	r3, [sp, #48]
 378:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 1124              		.loc 1 378 0 discriminator 1
 1125 020e 0B93     		str	r3, [sp, #44]
 372:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t queuelen;
 1126              		.loc 1 372 0 discriminator 1
 1127 0210 1C46     		mov	r4, r3
 370:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *last_unsent = NULL, *seg = NULL, *prev_seg = NULL, *queue = NULL;
 1128              		.loc 1 370 0 discriminator 1
 1129 0212 0D93     		str	r3, [sp, #52]
 1130 0214 C0E0     		b	.L79
 1131              	.LVL151:
 1132              	.L142:
 1133              	.LBB14:
 572:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write : could not allocate mem
 1134              		.loc 1 572 0
 1135 0216 B9FA89F3 		clz	r3, r9
 1136 021a 5B09     		lsrs	r3, r3, #5
 1137 021c 0293     		str	r3, [sp, #8]
 1138 021e 069B     		ldr	r3, [sp, #24]
 1139 0220 0193     		str	r3, [sp, #4]
 1140 0222 CDF80080 		str	r8, [sp]
 1141 0226 0DF13E03 		add	r3, sp, #62
 1142 022a 5A46     		mov	r2, fp
 1143 022c 2946     		mov	r1, r5
 1144 022e 0020     		movs	r0, #0
 1145 0230 FFF7FEFF 		bl	tcp_pbuf_prealloc
 1146              	.LVL152:
 1147 0234 0746     		mov	r7, r0
 1148              	.LVL153:
 1149 0236 0028     		cmp	r0, #0
 1150 0238 79D0     		beq	.L81
 576:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   (p->len >= seglen));
 1151              		.loc 1 576 0
 1152 023a 4389     		ldrh	r3, [r0, #10]
 1153 023c AB42     		cmp	r3, r5
 1154 023e 06D3     		bcc	.L137
 1155              	.LVL154:
 1156              	.L86:
 578:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     } else {
 1157              		.loc 1 578 0
 1158 0240 2A46     		mov	r2, r5
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 47


 1159 0242 079B     		ldr	r3, [sp, #28]
 1160 0244 1919     		adds	r1, r3, r4
 1161 0246 7868     		ldr	r0, [r7, #4]
 1162 0248 FFF7FEFF 		bl	memcpy
 1163              	.LVL155:
 1164 024c 1DE0     		b	.L87
 1165              	.LVL156:
 1166              	.L137:
 576:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   (p->len >= seglen));
 1167              		.loc 1 576 0 discriminator 1
 1168 024e 2C4B     		ldr	r3, .L149
 1169 0250 40F24122 		movw	r2, #577
 1170 0254 3249     		ldr	r1, .L149+32
 1171 0256 2C48     		ldr	r0, .L149+8
 1172              	.LVL157:
 1173 0258 FFF7FEFF 		bl	printf
 1174              	.LVL158:
 1175 025c F0E7     		b	.L86
 1176              	.LVL159:
 1177              	.L88:
 1178              	.LBB15:
 589:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write: could not allocate memo
 1179              		.loc 1 589 0
 1180 025e 0122     		movs	r2, #1
 1181 0260 2946     		mov	r1, r5
 1182 0262 0020     		movs	r0, #0
 1183 0264 FFF7FEFF 		bl	pbuf_alloc
 1184              	.LVL160:
 1185 0268 0890     		str	r0, [sp, #32]
 1186 026a 0028     		cmp	r0, #0
 1187 026c 5FD0     		beq	.L81
 602:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1188              		.loc 1 602 0
 1189 026e 079B     		ldr	r3, [sp, #28]
 1190 0270 2344     		add	r3, r3, r4
 1191 0272 4360     		str	r3, [r0, #4]
 605:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         /* If allocation fails, we have to deallocate the data pbuf as
 1192              		.loc 1 605 0
 1193 0274 0022     		movs	r2, #0
 1194 0276 1146     		mov	r1, r2
 1195 0278 1046     		mov	r0, r2
 1196              	.LVL161:
 1197 027a FFF7FEFF 		bl	pbuf_alloc
 1198              	.LVL162:
 1199 027e 0746     		mov	r7, r0
 1200              	.LVL163:
 1201 0280 0028     		cmp	r0, #0
 1202 0282 38D0     		beq	.L138
 613:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 1203              		.loc 1 613 0
 1204 0284 0899     		ldr	r1, [sp, #32]
 1205 0286 FFF7FEFF 		bl	pbuf_cat
 1206              	.LVL164:
 1207              	.L87:
 1208              	.LBE15:
 616:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1209              		.loc 1 616 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 48


 1210 028a 3846     		mov	r0, r7
 1211 028c FFF7FEFF 		bl	pbuf_clen
 1212              	.LVL165:
 1213 0290 0644     		add	r6, r6, r0
 1214              	.LVL166:
 1215 0292 B6B2     		uxth	r6, r6
 1216              	.LVL167:
 621:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write: queue too long %"U16_F" (
 1217              		.loc 1 621 0
 1218 0294 092E     		cmp	r6, #9
 1219 0296 47D8     		bhi	.L139
 628:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       goto memerr;
 1220              		.loc 1 628 0
 1221 0298 D8F85830 		ldr	r3, [r8, #88]
 1222 029c 0022     		movs	r2, #0
 1223 029e 0092     		str	r2, [sp]
 1224 02a0 2344     		add	r3, r3, r4
 1225 02a2 3946     		mov	r1, r7
 1226 02a4 4046     		mov	r0, r8
 1227 02a6 FFF7FEFF 		bl	tcp_create_segment
 1228              	.LVL168:
 1229 02aa 0746     		mov	r7, r0
 1230              	.LVL169:
 1231 02ac 0028     		cmp	r0, #0
 1232 02ae 3ED0     		beq	.L81
 641:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       queue = seg;
 1233              		.loc 1 641 0
 1234 02b0 B9F1000F 		cmp	r9, #0
 1235 02b4 6AD0     		beq	.L119
 645:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       prev_seg->next = seg;
 1236              		.loc 1 645 0
 1237 02b6 059B     		ldr	r3, [sp, #20]
 1238 02b8 002B     		cmp	r3, #0
 1239 02ba 5FD0     		beq	.L140
 1240              	.LVL170:
 1241              	.L92:
 646:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 1242              		.loc 1 646 0
 1243 02bc 059B     		ldr	r3, [sp, #20]
 1244 02be 1F60     		str	r7, [r3]
 1245              	.LVL171:
 1246              	.L91:
 655:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1247              		.loc 1 655 0
 1248 02c0 2C44     		add	r4, r4, r5
 1249              	.LVL172:
 1250 02c2 A4B2     		uxth	r4, r4
 1251              	.LVL173:
 649:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1252              		.loc 1 649 0
 1253 02c4 0597     		str	r7, [sp, #20]
 1254              	.LVL174:
 1255              	.L93:
 1256              	.LBE14:
 559:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct pbuf *p;
 1257              		.loc 1 559 0
 1258 02c6 5445     		cmp	r4, r10
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 49


 1259 02c8 74D2     		bcs	.L141
 1260              	.LBB17:
 561:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     u16_t max_len = mss_local - optlen;
 1261              		.loc 1 561 0
 1262 02ca AAEB0405 		sub	r5, r10, r4
 1263 02ce ADB2     		uxth	r5, r5
 1264              	.LVL175:
 563:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 1265              		.loc 1 563 0
 1266 02d0 5D45     		cmp	r5, fp
 1267 02d2 28BF     		it	cs
 1268 02d4 5D46     		movcs	r5, fp
 1269              	.LVL176:
 569:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* If copy is set, memory should be allocated and data copied
 1270              		.loc 1 569 0
 1271 02d6 069B     		ldr	r3, [sp, #24]
 1272 02d8 13F0010F 		tst	r3, #1
 1273 02dc 9BD1     		bne	.L142
 1274              	.LBB16:
 587:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 1275              		.loc 1 587 0
 1276 02de BDF83E30 		ldrh	r3, [sp, #62]
 1277 02e2 002B     		cmp	r3, #0
 1278 02e4 BBD0     		beq	.L88
 587:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 1279              		.loc 1 587 0 is_stmt 0 discriminator 1
 1280 02e6 064B     		ldr	r3, .L149
 1281 02e8 40F24B22 		movw	r2, #587
 1282 02ec 0D49     		ldr	r1, .L149+36
 1283 02ee 0648     		ldr	r0, .L149+8
 1284 02f0 FFF7FEFF 		bl	printf
 1285              	.LVL177:
 1286 02f4 B3E7     		b	.L88
 1287              	.LVL178:
 1288              	.L138:
 608:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         LWIP_DEBUGF(TCP_OUTPUT_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("tcp_write: could not allocate memo
 1289              		.loc 1 608 0 is_stmt 1
 1290 02f6 0898     		ldr	r0, [sp, #32]
 1291              	.LVL179:
 1292 02f8 FFF7FEFF 		bl	pbuf_free
 1293              	.LVL180:
 610:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 1294              		.loc 1 610 0
 1295 02fc 17E0     		b	.L81
 1296              	.L150:
 1297 02fe 00BF     		.align	2
 1298              	.L149:
 1299 0300 00000000 		.word	.LC0
 1300 0304 00000000 		.word	.LC7
 1301 0308 6C000000 		.word	.LC2
 1302 030c 34000000 		.word	.LC8
 1303 0310 4C000000 		.word	.LC9
 1304 0314 6C000000 		.word	.LC10
 1305 0318 8C000000 		.word	.LC11
 1306 031c B8000000 		.word	.LC12
 1307 0320 E8000000 		.word	.LC13
 1308 0324 28010000 		.word	.LC14
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 50


 1309              	.LVL181:
 1310              	.L139:
 1311              	.LBE16:
 624:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       goto memerr;
 1312              		.loc 1 624 0
 1313 0328 3846     		mov	r0, r7
 1314 032a FFF7FEFF 		bl	pbuf_free
 1315              	.LVL182:
 1316              	.L81:
 1317              	.LBE17:
 759:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   TCP_STATS_INC(tcp.memerr);
 1318              		.loc 1 759 0
 1319 032e 98F81A30 		ldrb	r3, [r8, #26]	@ zero_extendqisi2
 1320 0332 63F07F03 		orn	r3, r3, #127
 1321 0336 88F81A30 		strb	r3, [r8, #26]
 762:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pbuf_free(concat_p);
 1322              		.loc 1 762 0
 1323 033a 0D9B     		ldr	r3, [sp, #52]
 1324 033c 13B1     		cbz	r3, .L109
 763:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1325              		.loc 1 763 0
 1326 033e 1846     		mov	r0, r3
 1327 0340 FFF7FEFF 		bl	pbuf_free
 1328              	.LVL183:
 1329              	.L109:
 765:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_segs_free(queue);
 1330              		.loc 1 765 0
 1331 0344 B9F1000F 		cmp	r9, #0
 1332 0348 02D0     		beq	.L110
 766:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1333              		.loc 1 766 0
 1334 034a 4846     		mov	r0, r9
 1335 034c FFF7FEFF 		bl	tcp_segs_free
 1336              	.LVL184:
 1337              	.L110:
 768:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: valid queue length", pcb->unacked != NULL ||
 1338              		.loc 1 768 0
 1339 0350 B8F86230 		ldrh	r3, [r8, #98]
 1340 0354 002B     		cmp	r3, #0
 1341 0356 00F0CE80 		beq	.L120
 769:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unsent != NULL);
 1342              		.loc 1 769 0
 1343 035a D8F86C30 		ldr	r3, [r8, #108]
 1344 035e 002B     		cmp	r3, #0
 1345 0360 40F0CD80 		bne	.L121
 769:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unsent != NULL);
 1346              		.loc 1 769 0 is_stmt 0 discriminator 1
 1347 0364 D8F86830 		ldr	r3, [r8, #104]
 1348 0368 002B     		cmp	r3, #0
 1349 036a 00F0B980 		beq	.L143
 773:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1350              		.loc 1 773 0 is_stmt 1
 1351 036e 4FF0FF33 		mov	r3, #-1
 1352 0372 0A93     		str	r3, [sp, #40]
 1353              	.LVL185:
 1354              	.L70:
 774:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 51


 1355              		.loc 1 774 0
 1356 0374 0A98     		ldr	r0, [sp, #40]
 1357 0376 11B0     		add	sp, sp, #68
 1358              	.LCFI10:
 1359              		.cfi_remember_state
 1360              		.cfi_def_cfa_offset 36
 1361              		@ sp needed
 1362 0378 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1363              	.LVL186:
 1364              	.L140:
 1365              	.LCFI11:
 1366              		.cfi_restore_state
 1367              	.LBB18:
 645:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       prev_seg->next = seg;
 1368              		.loc 1 645 0 discriminator 1
 1369 037c 624B     		ldr	r3, .L151
 1370 037e 40F28522 		movw	r2, #645
 1371 0382 6249     		ldr	r1, .L151+4
 1372 0384 6248     		ldr	r0, .L151+8
 1373              	.LVL187:
 1374 0386 FFF7FEFF 		bl	printf
 1375              	.LVL188:
 1376 038a 97E7     		b	.L92
 1377              	.LVL189:
 1378              	.L119:
 642:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     } else {
 1379              		.loc 1 642 0
 1380 038c 8146     		mov	r9, r0
 1381              	.LVL190:
 1382 038e 97E7     		b	.L91
 1383              	.LVL191:
 1384              	.L113:
 1385              	.LBE18:
 1386              	.LBB19:
 1387 0390 0B9C     		ldr	r4, [sp, #44]
 1388              	.LBE19:
 383:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 1389              		.loc 1 383 0
 1390 0392 0023     		movs	r3, #0
 1391 0394 0C93     		str	r3, [sp, #48]
 1392              	.LVL192:
 370:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *last_unsent = NULL, *seg = NULL, *prev_seg = NULL, *queue = NULL;
 1393              		.loc 1 370 0
 1394 0396 0D93     		str	r3, [sp, #52]
 1395              	.LVL193:
 1396              	.L79:
 1397 0398 4FF00009 		mov	r9, #0
 1398 039c CDF81490 		str	r9, [sp, #20]
 1399 03a0 91E7     		b	.L93
 1400              	.LVL194:
 1401              	.L114:
 1402              	.LBB20:
 1403 03a2 0B9C     		ldr	r4, [sp, #44]
 1404              	.LBE20:
 1405 03a4 0023     		movs	r3, #0
 1406 03a6 0D93     		str	r3, [sp, #52]
 1407 03a8 F6E7     		b	.L79
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 52


 1408              	.L115:
 383:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_CHECKSUM_ON_COPY
 1409              		.loc 1 383 0
 1410 03aa 0C93     		str	r3, [sp, #48]
 1411              	.LVL195:
 1412              	.LBB21:
 1413 03ac 0B9C     		ldr	r4, [sp, #44]
 1414              	.LBE21:
 370:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *last_unsent = NULL, *seg = NULL, *prev_seg = NULL, *queue = NULL;
 1415              		.loc 1 370 0
 1416 03ae 0023     		movs	r3, #0
 1417 03b0 0D93     		str	r3, [sp, #52]
 1418 03b2 F1E7     		b	.L79
 1419              	.LVL196:
 1420              	.L141:
 673:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct pbuf *p;
 1421              		.loc 1 673 0
 1422 03b4 0B9D     		ldr	r5, [sp, #44]
 1423 03b6 D5B1     		cbz	r5, .L95
 1424              	.LBB22:
 676:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += oversize_used;
 1425              		.loc 1 676 0
 1426 03b8 099B     		ldr	r3, [sp, #36]
 1427 03ba 5C68     		ldr	r4, [r3, #4]
 1428              	.LVL197:
 1429 03bc 00E0     		b	.L96
 1430              	.L97:
 676:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += oversize_used;
 1431              		.loc 1 676 0 is_stmt 0 discriminator 2
 1432 03be 2468     		ldr	r4, [r4]
 1433              	.LVL198:
 1434              	.L96:
 676:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += oversize_used;
 1435              		.loc 1 676 0 discriminator 1
 1436 03c0 84B1     		cbz	r4, .L144
 677:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       if (p->next == NULL) {
 1437              		.loc 1 677 0 is_stmt 1
 1438 03c2 2389     		ldrh	r3, [r4, #8]
 1439 03c4 2B44     		add	r3, r3, r5
 1440 03c6 2381     		strh	r3, [r4, #8]	@ movhi
 678:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         TCP_DATA_COPY((char *)p->payload + p->len, arg, oversize_used, last_unsent);
 1441              		.loc 1 678 0
 1442 03c8 2368     		ldr	r3, [r4]
 1443 03ca 002B     		cmp	r3, #0
 1444 03cc F7D1     		bne	.L97
 679:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         p->len += oversize_used;
 1445              		.loc 1 679 0
 1446 03ce 6068     		ldr	r0, [r4, #4]
 1447 03d0 6389     		ldrh	r3, [r4, #10]
 1448 03d2 2A46     		mov	r2, r5
 1449 03d4 0799     		ldr	r1, [sp, #28]
 1450 03d6 1844     		add	r0, r0, r3
 1451 03d8 FFF7FEFF 		bl	memcpy
 1452              	.LVL199:
 680:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       }
 1453              		.loc 1 680 0
 1454 03dc 6389     		ldrh	r3, [r4, #10]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 53


 1455 03de 2B44     		add	r3, r3, r5
 1456 03e0 6381     		strh	r3, [r4, #10]	@ movhi
 1457 03e2 ECE7     		b	.L97
 1458              	.L144:
 683:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
 1459              		.loc 1 683 0
 1460 03e4 099A     		ldr	r2, [sp, #36]
 1461 03e6 1389     		ldrh	r3, [r2, #8]
 1462 03e8 0B99     		ldr	r1, [sp, #44]
 1463 03ea 1944     		add	r1, r1, r3
 1464 03ec 1181     		strh	r1, [r2, #8]	@ movhi
 1465              	.LVL200:
 1466              	.L95:
 1467              	.LBE22:
 690:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 1468              		.loc 1 690 0
 1469 03ee BDF83E30 		ldrh	r3, [sp, #62]
 1470 03f2 A8F86430 		strh	r3, [r8, #100]	@ movhi
 697:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: cannot concatenate when pcb->unsent is empty",
 1471              		.loc 1 697 0
 1472 03f6 0D9B     		ldr	r3, [sp, #52]
 1473 03f8 002B     		cmp	r3, #0
 1474 03fa 3DD0     		beq	.L99
 698:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       (last_unsent != NULL));
 1475              		.loc 1 698 0
 1476 03fc 099B     		ldr	r3, [sp, #36]
 1477 03fe 002B     		cmp	r3, #0
 1478 0400 32D0     		beq	.L145
 1479              	.L100:
 700:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->len += concat_p->tot_len;
 1480              		.loc 1 700 0
 1481 0402 0D9D     		ldr	r5, [sp, #52]
 1482 0404 2946     		mov	r1, r5
 1483 0406 099C     		ldr	r4, [sp, #36]
 1484 0408 6068     		ldr	r0, [r4, #4]
 1485 040a FFF7FEFF 		bl	pbuf_cat
 1486              	.LVL201:
 701:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else if (extendlen > 0) {
 1487              		.loc 1 701 0
 1488 040e 2B89     		ldrh	r3, [r5, #8]
 1489 0410 2289     		ldrh	r2, [r4, #8]
 1490 0412 1344     		add	r3, r3, r2
 1491 0414 2381     		strh	r3, [r4, #8]	@ movhi
 1492              	.L101:
 732:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent = queue;
 1493              		.loc 1 732 0
 1494 0416 099B     		ldr	r3, [sp, #36]
 1495 0418 002B     		cmp	r3, #0
 1496 041a 52D0     		beq	.L146
 735:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1497              		.loc 1 735 0
 1498 041c 099B     		ldr	r3, [sp, #36]
 1499 041e C3F80090 		str	r9, [r3]
 1500              	.L107:
 741:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->snd_buf -= len;
 1501              		.loc 1 741 0
 1502 0422 D8F85830 		ldr	r3, [r8, #88]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 54


 1503 0426 5344     		add	r3, r3, r10
 1504 0428 C8F85830 		str	r3, [r8, #88]
 742:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->snd_queuelen = queuelen;
 1505              		.loc 1 742 0
 1506 042c B8F86030 		ldrh	r3, [r8, #96]
 1507 0430 A3EB0A0A 		sub	r10, r3, r10
 1508 0434 A8F860A0 		strh	r10, [r8, #96]	@ movhi
 743:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1509              		.loc 1 743 0
 1510 0438 A8F86260 		strh	r6, [r8, #98]	@ movhi
 747:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_write: valid queue length",
 1511              		.loc 1 747 0
 1512 043c 1EB1     		cbz	r6, .L108
 748:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unacked != NULL || pcb->unsent != NULL);
 1513              		.loc 1 748 0
 1514 043e D8F86C30 		ldr	r3, [r8, #108]
 1515 0442 002B     		cmp	r3, #0
 1516 0444 40D0     		beq	.L147
 1517              	.L108:
 753:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_SET_FLAG(seg->tcphdr, TCP_PSH);
 1518              		.loc 1 753 0
 1519 0446 002F     		cmp	r7, #0
 1520 0448 94D0     		beq	.L70
 753:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_SET_FLAG(seg->tcphdr, TCP_PSH);
 1521              		.loc 1 753 0 is_stmt 0 discriminator 1
 1522 044a FB68     		ldr	r3, [r7, #12]
 1523 044c 002B     		cmp	r3, #0
 1524 044e 91D0     		beq	.L70
 753:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_SET_FLAG(seg->tcphdr, TCP_PSH);
 1525              		.loc 1 753 0 discriminator 2
 1526 0450 069A     		ldr	r2, [sp, #24]
 1527 0452 12F0020F 		tst	r2, #2
 1528 0456 8DD1     		bne	.L70
 754:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1529              		.loc 1 754 0 is_stmt 1
 1530 0458 9C89     		ldrh	r4, [r3, #12]	@ unaligned
 1531 045a 0820     		movs	r0, #8
 1532 045c FFF7FEFF 		bl	lwip_htons
 1533              	.LVL202:
 1534 0460 FB68     		ldr	r3, [r7, #12]
 1535 0462 2043     		orrs	r0, r0, r4
 1536 0464 9881     		strh	r0, [r3, #12]	@ unaligned
 1537 0466 85E7     		b	.L70
 1538              	.L145:
 698:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       (last_unsent != NULL));
 1539              		.loc 1 698 0 discriminator 1
 1540 0468 274B     		ldr	r3, .L151
 1541 046a 40F2BB22 		movw	r2, #699
 1542 046e 2949     		ldr	r1, .L151+12
 1543 0470 2748     		ldr	r0, .L151+8
 1544 0472 FFF7FEFF 		bl	printf
 1545              	.LVL203:
 1546 0476 C4E7     		b	.L100
 1547              	.L99:
 702:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct pbuf *p;
 1548              		.loc 1 702 0
 1549 0478 0C9B     		ldr	r3, [sp, #48]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 55


 1550 047a 002B     		cmp	r3, #0
 1551 047c CBD0     		beq	.L101
 1552              	.LBB23:
 704:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       last_unsent != NULL && last_unsent->p != NULL);
 1553              		.loc 1 704 0
 1554 047e 099B     		ldr	r3, [sp, #36]
 1555 0480 5BB1     		cbz	r3, .L102
 704:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       last_unsent != NULL && last_unsent->p != NULL);
 1556              		.loc 1 704 0 is_stmt 0 discriminator 2
 1557 0482 5B68     		ldr	r3, [r3, #4]
 1558 0484 4BB1     		cbz	r3, .L102
 1559              	.L103:
 706:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += extendlen;
 1560              		.loc 1 706 0 is_stmt 1
 1561 0486 099B     		ldr	r3, [sp, #36]
 1562 0488 5B68     		ldr	r3, [r3, #4]
 1563              	.LVL204:
 1564 048a 0C98     		ldr	r0, [sp, #48]
 1565              	.L104:
 706:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += extendlen;
 1566              		.loc 1 706 0 is_stmt 0 discriminator 1
 1567 048c 1968     		ldr	r1, [r3]
 1568 048e 61B1     		cbz	r1, .L148
 707:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 1569              		.loc 1 707 0 is_stmt 1 discriminator 3
 1570 0490 1A89     		ldrh	r2, [r3, #8]
 1571 0492 0244     		add	r2, r2, r0
 1572 0494 1A81     		strh	r2, [r3, #8]	@ movhi
 1573              	.LVL205:
 706:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       p->tot_len += extendlen;
 1574              		.loc 1 706 0 discriminator 3
 1575 0496 0B46     		mov	r3, r1
 1576 0498 F8E7     		b	.L104
 1577              	.LVL206:
 1578              	.L102:
 704:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       last_unsent != NULL && last_unsent->p != NULL);
 1579              		.loc 1 704 0 discriminator 3
 1580 049a 1B4B     		ldr	r3, .L151
 1581 049c 40F2C122 		movw	r2, #705
 1582 04a0 1D49     		ldr	r1, .L151+16
 1583 04a2 1B48     		ldr	r0, .L151+8
 1584 04a4 FFF7FEFF 		bl	printf
 1585              	.LVL207:
 1586 04a8 EDE7     		b	.L103
 1587              	.LVL208:
 1588              	.L148:
 709:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     p->len += extendlen;
 1589              		.loc 1 709 0
 1590 04aa 1A89     		ldrh	r2, [r3, #8]
 1591 04ac 0C99     		ldr	r1, [sp, #48]
 1592 04ae 0A44     		add	r2, r2, r1
 1593 04b0 1A81     		strh	r2, [r3, #8]	@ movhi
 710:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     last_unsent->len += extendlen;
 1594              		.loc 1 710 0
 1595 04b2 5A89     		ldrh	r2, [r3, #10]
 1596 04b4 0A44     		add	r2, r2, r1
 1597 04b6 5A81     		strh	r2, [r3, #10]	@ movhi
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 56


 711:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1598              		.loc 1 711 0
 1599 04b8 099A     		ldr	r2, [sp, #36]
 1600 04ba 1389     		ldrh	r3, [r2, #8]
 1601              	.LVL209:
 1602 04bc 0B44     		add	r3, r3, r1
 1603 04be 1381     		strh	r3, [r2, #8]	@ movhi
 1604 04c0 A9E7     		b	.L101
 1605              	.L146:
 1606              	.LBE23:
 733:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 1607              		.loc 1 733 0
 1608 04c2 C8F86890 		str	r9, [r8, #104]
 1609 04c6 ACE7     		b	.L107
 1610              	.L147:
 748:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unacked != NULL || pcb->unsent != NULL);
 1611              		.loc 1 748 0 discriminator 1
 1612 04c8 D8F86830 		ldr	r3, [r8, #104]
 1613 04cc 002B     		cmp	r3, #0
 1614 04ce BAD1     		bne	.L108
 748:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 pcb->unacked != NULL || pcb->unsent != NULL);
 1615              		.loc 1 748 0 is_stmt 0 discriminator 2
 1616 04d0 0D4B     		ldr	r3, .L151
 1617 04d2 40F2ED22 		movw	r2, #749
 1618 04d6 1149     		ldr	r1, .L151+20
 1619 04d8 0D48     		ldr	r0, .L151+8
 1620 04da FFF7FEFF 		bl	printf
 1621              	.LVL210:
 1622 04de B2E7     		b	.L108
 1623              	.LVL211:
 1624              	.L143:
 769:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unsent != NULL);
 1625              		.loc 1 769 0 is_stmt 1 discriminator 2
 1626 04e0 094B     		ldr	r3, .L151
 1627 04e2 40F20232 		movw	r2, #770
 1628 04e6 0D49     		ldr	r1, .L151+20
 1629 04e8 0948     		ldr	r0, .L151+8
 1630 04ea FFF7FEFF 		bl	printf
 1631              	.LVL212:
 773:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1632              		.loc 1 773 0 discriminator 2
 1633 04ee 4FF0FF33 		mov	r3, #-1
 1634 04f2 0A93     		str	r3, [sp, #40]
 1635 04f4 3EE7     		b	.L70
 1636              	.L120:
 773:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1637              		.loc 1 773 0 is_stmt 0
 1638 04f6 4FF0FF33 		mov	r3, #-1
 1639 04fa 0A93     		str	r3, [sp, #40]
 1640 04fc 3AE7     		b	.L70
 1641              	.L121:
 1642 04fe 4FF0FF33 		mov	r3, #-1
 1643 0502 0A93     		str	r3, [sp, #40]
 1644 0504 36E7     		b	.L70
 1645              	.L152:
 1646 0506 00BF     		.align	2
 1647              	.L151:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 57


 1648 0508 00000000 		.word	.LC0
 1649 050c 38010000 		.word	.LC15
 1650 0510 6C000000 		.word	.LC2
 1651 0514 4C010000 		.word	.LC16
 1652 0518 84010000 		.word	.LC17
 1653 051c BC010000 		.word	.LC18
 1654              		.cfi_endproc
 1655              	.LFE147:
 1657              		.section	.text.tcp_enqueue_flags,"ax",%progbits
 1658              		.align	1
 1659              		.global	tcp_enqueue_flags
 1660              		.syntax unified
 1661              		.thumb
 1662              		.thumb_func
 1663              		.fpu fpv4-sp-d16
 1665              	tcp_enqueue_flags:
 1666              	.LFB148:
 786:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
 1667              		.loc 1 786 0 is_stmt 1
 1668              		.cfi_startproc
 1669              		@ args = 0, pretend = 0, frame = 0
 1670              		@ frame_needed = 0, uses_anonymous_args = 0
 1671              	.LVL213:
 1672 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1673              	.LCFI12:
 1674              		.cfi_def_cfa_offset 28
 1675              		.cfi_offset 4, -28
 1676              		.cfi_offset 5, -24
 1677              		.cfi_offset 6, -20
 1678              		.cfi_offset 7, -16
 1679              		.cfi_offset 8, -12
 1680              		.cfi_offset 9, -8
 1681              		.cfi_offset 14, -4
 1682 0004 83B0     		sub	sp, sp, #12
 1683              	.LCFI13:
 1684              		.cfi_def_cfa_offset 40
 1685 0006 0446     		mov	r4, r0
 1686 0008 0D46     		mov	r5, r1
 1687              	.LVL214:
 794:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (flags & (TCP_SYN | TCP_FIN)) != 0);
 1688              		.loc 1 794 0
 1689 000a 11F00308 		ands	r8, r1, #3
 1690 000e 2AD0     		beq	.L173
 1691              	.LVL215:
 1692              	.L154:
 798:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((flags & TCP_FIN) == 0)) {
 1693              		.loc 1 798 0
 1694 0010 B4F86230 		ldrh	r3, [r4, #98]
 1695 0014 082B     		cmp	r3, #8
 1696 0016 02D9     		bls	.L155
 798:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((flags & TCP_FIN) == 0)) {
 1697              		.loc 1 798 0 is_stmt 0 discriminator 1
 1698 0018 15F0010F 		tst	r5, #1
 1699 001c 2BD0     		beq	.L174
 1700              	.L155:
 807:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     optflags = TF_SEG_OPTS_MSS;
 1701              		.loc 1 807 0 is_stmt 1
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 58


 1702 001e 15F0020F 		tst	r5, #2
 1703 0022 2FD1     		bne	.L167
 789:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t optlen = 0;
 1704              		.loc 1 789 0
 1705 0024 0026     		movs	r6, #0
 1706              	.L157:
 1707              	.LVL216:
 827:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 1708              		.loc 1 827 0
 1709 0026 B700     		lsls	r7, r6, #2
 1710 0028 0022     		movs	r2, #0
 1711 002a 3946     		mov	r1, r7
 1712 002c 1046     		mov	r0, r2
 1713 002e FFF7FEFF 		bl	pbuf_alloc
 1714              	.LVL217:
 1715 0032 8146     		mov	r9, r0
 1716 0034 40B3     		cbz	r0, .L175
 832:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (p->len >= optlen));
 1717              		.loc 1 832 0
 1718 0036 4389     		ldrh	r3, [r0, #10]
 1719 0038 9F42     		cmp	r7, r3
 1720 003a 2CD8     		bhi	.L176
 1721              	.LVL218:
 1722              	.L159:
 836:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_NAGLEMEMERR;
 1723              		.loc 1 836 0
 1724 003c 0096     		str	r6, [sp]
 1725 003e A36D     		ldr	r3, [r4, #88]
 1726 0040 2A46     		mov	r2, r5
 1727 0042 4946     		mov	r1, r9
 1728 0044 2046     		mov	r0, r4
 1729 0046 FFF7FEFF 		bl	tcp_create_segment
 1730              	.LVL219:
 1731 004a 0646     		mov	r6, r0
 1732              	.LVL220:
 1733 004c 58B3     		cbz	r0, .L177
 841:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("tcp_enqueue_flags: invalid segment length", seg->len == 0);
 1734              		.loc 1 841 0
 1735 004e C368     		ldr	r3, [r0, #12]
 1736 0050 13F0030F 		tst	r3, #3
 1737 0054 2ED1     		bne	.L178
 1738              	.LVL221:
 1739              	.L161:
 842:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1740              		.loc 1 842 0
 1741 0056 3389     		ldrh	r3, [r6, #8]
 1742 0058 002B     		cmp	r3, #0
 1743 005a 33D1     		bne	.L179
 1744              	.L162:
 851:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent = seg;
 1745              		.loc 1 851 0
 1746 005c A26E     		ldr	r2, [r4, #104]
 1747 005e 002A     		cmp	r2, #0
 1748 0060 39D1     		bne	.L163
 852:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 1749              		.loc 1 852 0
 1750 0062 A666     		str	r6, [r4, #104]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 59


 1751 0064 3BE0     		b	.L164
 1752              	.LVL222:
 1753              	.L173:
 794:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (flags & (TCP_SYN | TCP_FIN)) != 0);
 1754              		.loc 1 794 0 discriminator 1
 1755 0066 354B     		ldr	r3, .L182
 1756 0068 40F21B32 		movw	r2, #795
 1757 006c 3449     		ldr	r1, .L182+4
 1758              	.LVL223:
 1759 006e 3548     		ldr	r0, .L182+8
 1760              	.LVL224:
 1761 0070 FFF7FEFF 		bl	printf
 1762              	.LVL225:
 1763 0074 CCE7     		b	.L154
 1764              	.L174:
 803:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
 1765              		.loc 1 803 0
 1766 0076 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 1767 0078 63F07F03 		orn	r3, r3, #127
 1768 007c A376     		strb	r3, [r4, #26]
 804:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1769              		.loc 1 804 0
 1770 007e 4FF0FF30 		mov	r0, #-1
 1771 0082 58E0     		b	.L156
 1772              	.L167:
 808:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_WND_SCALE
 1773              		.loc 1 808 0
 1774 0084 0126     		movs	r6, #1
 1775 0086 CEE7     		b	.L157
 1776              	.LVL226:
 1777              	.L175:
 828:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.memerr);
 1778              		.loc 1 828 0
 1779 0088 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 1780 008a 63F07F03 		orn	r3, r3, #127
 1781 008e A376     		strb	r3, [r4, #26]
 830:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1782              		.loc 1 830 0
 1783 0090 4FF0FF30 		mov	r0, #-1
 1784              	.LVL227:
 1785 0094 4FE0     		b	.L156
 1786              	.LVL228:
 1787              	.L176:
 832:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (p->len >= optlen));
 1788              		.loc 1 832 0 discriminator 1
 1789 0096 294B     		ldr	r3, .L182
 1790 0098 40F24132 		movw	r2, #833
 1791 009c 2A49     		ldr	r1, .L182+12
 1792 009e 2948     		ldr	r0, .L182+8
 1793              	.LVL229:
 1794 00a0 FFF7FEFF 		bl	printf
 1795              	.LVL230:
 1796 00a4 CAE7     		b	.L159
 1797              	.LVL231:
 1798              	.L177:
 837:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.memerr);
 1799              		.loc 1 837 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 60


 1800 00a6 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 1801 00a8 63F07F03 		orn	r3, r3, #127
 1802 00ac A376     		strb	r3, [r4, #26]
 839:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1803              		.loc 1 839 0
 1804 00ae 4FF0FF30 		mov	r0, #-1
 1805              	.LVL232:
 1806 00b2 40E0     		b	.L156
 1807              	.LVL233:
 1808              	.L178:
 841:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("tcp_enqueue_flags: invalid segment length", seg->len == 0);
 1809              		.loc 1 841 0 discriminator 1
 1810 00b4 214B     		ldr	r3, .L182
 1811 00b6 40F24932 		movw	r2, #841
 1812 00ba 2449     		ldr	r1, .L182+16
 1813 00bc 2148     		ldr	r0, .L182+8
 1814              	.LVL234:
 1815 00be FFF7FEFF 		bl	printf
 1816              	.LVL235:
 1817 00c2 C8E7     		b	.L161
 1818              	.L179:
 842:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1819              		.loc 1 842 0 discriminator 1
 1820 00c4 1D4B     		ldr	r3, .L182
 1821 00c6 40F24A32 		movw	r2, #842
 1822 00ca 2149     		ldr	r1, .L182+20
 1823 00cc 1D48     		ldr	r0, .L182+8
 1824 00ce FFF7FEFF 		bl	printf
 1825              	.LVL236:
 1826 00d2 C3E7     		b	.L162
 1827              	.LVL237:
 1828              	.L168:
 1829              	.LBB24:
 855:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     useg->next = seg;
 1830              		.loc 1 855 0
 1831 00d4 1A46     		mov	r2, r3
 1832              	.LVL238:
 1833              	.L163:
 855:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     useg->next = seg;
 1834              		.loc 1 855 0 is_stmt 0 discriminator 1
 1835 00d6 1368     		ldr	r3, [r2]
 1836 00d8 002B     		cmp	r3, #0
 1837 00da FBD1     		bne	.L168
 856:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1838              		.loc 1 856 0 is_stmt 1
 1839 00dc 1660     		str	r6, [r2]
 1840              	.LVL239:
 1841              	.L164:
 1842              	.LBE24:
 860:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
 1843              		.loc 1 860 0
 1844 00de 0023     		movs	r3, #0
 1845 00e0 A4F86430 		strh	r3, [r4, #100]	@ movhi
 864:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->snd_lbb++;
 1846              		.loc 1 864 0
 1847 00e4 B8F1000F 		cmp	r8, #0
 1848 00e8 02D0     		beq	.L165
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 61


 865:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* optlen does not influence snd_buf */
 1849              		.loc 1 865 0
 1850 00ea A36D     		ldr	r3, [r4, #88]
 1851 00ec 0133     		adds	r3, r3, #1
 1852 00ee A365     		str	r3, [r4, #88]
 1853              	.L165:
 868:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_FIN;
 1854              		.loc 1 868 0
 1855 00f0 15F0010F 		tst	r5, #1
 1856 00f4 03D0     		beq	.L166
 869:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 1857              		.loc 1 869 0
 1858 00f6 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 1859 00f8 43F02003 		orr	r3, r3, #32
 1860 00fc A376     		strb	r3, [r4, #26]
 1861              	.L166:
 873:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_QLEN_DEBUG, ("tcp_enqueue_flags: %"S16_F" (after enqueued)\n", pcb->snd_queuelen)
 1862              		.loc 1 873 0
 1863 00fe 7068     		ldr	r0, [r6, #4]
 1864 0100 FFF7FEFF 		bl	pbuf_clen
 1865              	.LVL240:
 1866 0104 B4F86230 		ldrh	r3, [r4, #98]
 1867 0108 1844     		add	r0, r0, r3
 1868 010a 80B2     		uxth	r0, r0
 1869 010c A4F86200 		strh	r0, [r4, #98]	@ movhi
 875:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("tcp_enqueue_flags: invalid queue length",
 1870              		.loc 1 875 0
 1871 0110 80B1     		cbz	r0, .L169
 876:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked != NULL || pcb->unsent != NULL);
 1872              		.loc 1 876 0
 1873 0112 E36E     		ldr	r3, [r4, #108]
 1874 0114 0BB1     		cbz	r3, .L180
 880:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1875              		.loc 1 880 0
 1876 0116 0020     		movs	r0, #0
 1877 0118 0DE0     		b	.L156
 1878              	.L180:
 876:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked != NULL || pcb->unsent != NULL);
 1879              		.loc 1 876 0 discriminator 1
 1880 011a A36E     		ldr	r3, [r4, #104]
 1881 011c 0BB1     		cbz	r3, .L181
 880:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1882              		.loc 1 880 0
 1883 011e 0020     		movs	r0, #0
 1884 0120 09E0     		b	.L156
 1885              	.L181:
 876:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->unacked != NULL || pcb->unsent != NULL);
 1886              		.loc 1 876 0 discriminator 2
 1887 0122 064B     		ldr	r3, .L182
 1888 0124 40F26D32 		movw	r2, #877
 1889 0128 0A49     		ldr	r1, .L182+24
 1890 012a 0648     		ldr	r0, .L182+8
 1891 012c FFF7FEFF 		bl	printf
 1892              	.LVL241:
 880:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1893              		.loc 1 880 0 discriminator 2
 1894 0130 0020     		movs	r0, #0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 62


 1895 0132 00E0     		b	.L156
 1896              	.L169:
 880:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1897              		.loc 1 880 0 is_stmt 0
 1898 0134 0020     		movs	r0, #0
 1899              	.LVL242:
 1900              	.L156:
 881:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1901              		.loc 1 881 0 is_stmt 1
 1902 0136 03B0     		add	sp, sp, #12
 1903              	.LCFI14:
 1904              		.cfi_def_cfa_offset 28
 1905              		@ sp needed
 1906 0138 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1907              	.LVL243:
 1908              	.L183:
 1909              		.align	2
 1910              	.L182:
 1911 013c 00000000 		.word	.LC0
 1912 0140 00000000 		.word	.LC19
 1913 0144 6C000000 		.word	.LC2
 1914 0148 58000000 		.word	.LC20
 1915 014c 94000000 		.word	.LC21
 1916 0150 AC000000 		.word	.LC22
 1917 0154 D8000000 		.word	.LC23
 1918              		.cfi_endproc
 1919              	.LFE148:
 1921              		.section	.text.tcp_send_fin,"ax",%progbits
 1922              		.align	1
 1923              		.global	tcp_send_fin
 1924              		.syntax unified
 1925              		.thumb
 1926              		.thumb_func
 1927              		.fpu fpv4-sp-d16
 1929              	tcp_send_fin:
 1930              	.LFB143:
 140:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* first, try to add the fin to the last unsent segment */
 1931              		.loc 1 140 0
 1932              		.cfi_startproc
 1933              		@ args = 0, pretend = 0, frame = 0
 1934              		@ frame_needed = 0, uses_anonymous_args = 0
 1935              	.LVL244:
 1936 0000 70B5     		push	{r4, r5, r6, lr}
 1937              	.LCFI15:
 1938              		.cfi_def_cfa_offset 16
 1939              		.cfi_offset 4, -16
 1940              		.cfi_offset 5, -12
 1941              		.cfi_offset 6, -8
 1942              		.cfi_offset 14, -4
 1943 0002 0546     		mov	r5, r0
 142:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     struct tcp_seg *last_unsent;
 1944              		.loc 1 142 0
 1945 0004 846E     		ldr	r4, [r0, #104]
 1946 0006 0CB9     		cbnz	r4, .L186
 1947 0008 0AE0     		b	.L185
 1948              	.LVL245:
 1949              	.L188:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 63


 1950              	.LBB25:
 145:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1951              		.loc 1 145 0
 1952 000a 1C46     		mov	r4, r3
 1953              	.LVL246:
 1954              	.L186:
 144:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          last_unsent = last_unsent->next);
 1955              		.loc 1 144 0 discriminator 1
 1956 000c 2368     		ldr	r3, [r4]
 1957 000e 002B     		cmp	r3, #0
 1958 0010 FBD1     		bne	.L188
 147:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* no SYN/FIN/RST flag in the header, we can add the FIN flag */
 1959              		.loc 1 147 0
 1960 0012 E368     		ldr	r3, [r4, #12]
 1961 0014 9889     		ldrh	r0, [r3, #12]	@ unaligned
 1962              	.LVL247:
 1963 0016 FFF7FEFF 		bl	lwip_htons
 1964              	.LVL248:
 1965 001a 10F0070F 		tst	r0, #7
 1966 001e 04D0     		beq	.L190
 1967              	.LVL249:
 1968              	.L185:
 1969              	.LBE25:
 155:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 1970              		.loc 1 155 0
 1971 0020 0121     		movs	r1, #1
 1972 0022 2846     		mov	r0, r5
 1973 0024 FFF7FEFF 		bl	tcp_enqueue_flags
 1974              	.LVL250:
 1975              	.L187:
 156:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 1976              		.loc 1 156 0
 1977 0028 70BD     		pop	{r4, r5, r6, pc}
 1978              	.LVL251:
 1979              	.L190:
 1980              	.LBB26:
 149:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->flags |= TF_FIN;
 1981              		.loc 1 149 0
 1982 002a E368     		ldr	r3, [r4, #12]
 1983 002c 9E89     		ldrh	r6, [r3, #12]	@ unaligned
 1984 002e 0120     		movs	r0, #1
 1985 0030 FFF7FEFF 		bl	lwip_htons
 1986              	.LVL252:
 1987 0034 E368     		ldr	r3, [r4, #12]
 1988 0036 3043     		orrs	r0, r0, r6
 1989 0038 9881     		strh	r0, [r3, #12]	@ unaligned
 150:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       return ERR_OK;
 1990              		.loc 1 150 0
 1991 003a AB7E     		ldrb	r3, [r5, #26]	@ zero_extendqisi2
 1992 003c 43F02003 		orr	r3, r3, #32
 1993 0040 AB76     		strb	r3, [r5, #26]
 151:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 1994              		.loc 1 151 0
 1995 0042 0020     		movs	r0, #0
 1996 0044 F0E7     		b	.L187
 1997              	.LBE26:
 1998              		.cfi_endproc
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 64


 1999              	.LFE143:
 2001              		.section	.text.tcp_send_empty_ack,"ax",%progbits
 2002              		.align	1
 2003              		.global	tcp_send_empty_ack
 2004              		.syntax unified
 2005              		.thumb
 2006              		.thumb_func
 2007              		.fpu fpv4-sp-d16
 2009              	tcp_send_empty_ack:
 2010              	.LFB149:
 919:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
 2011              		.loc 1 919 0
 2012              		.cfi_startproc
 2013              		@ args = 0, pretend = 0, frame = 0
 2014              		@ frame_needed = 0, uses_anonymous_args = 0
 2015              	.LVL253:
 2016 0000 70B5     		push	{r4, r5, r6, lr}
 2017              	.LCFI16:
 2018              		.cfi_def_cfa_offset 16
 2019              		.cfi_offset 4, -16
 2020              		.cfi_offset 5, -12
 2021              		.cfi_offset 6, -8
 2022              		.cfi_offset 14, -4
 2023 0002 84B0     		sub	sp, sp, #16
 2024              	.LCFI17:
 2025              		.cfi_def_cfa_offset 32
 2026 0004 0446     		mov	r4, r0
 2027              	.LVL254:
 934:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 2028              		.loc 1 934 0
 2029 0006 C06C     		ldr	r0, [r0, #76]
 2030              	.LVL255:
 2031 0008 FFF7FEFF 		bl	lwip_htonl
 2032              	.LVL256:
 2033 000c 0346     		mov	r3, r0
 2034 000e 0022     		movs	r2, #0
 2035 0010 1146     		mov	r1, r2
 2036 0012 2046     		mov	r0, r4
 2037 0014 FFF7FEFF 		bl	tcp_output_alloc_header
 2038              	.LVL257:
 935:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* let tcp_fasttmr retry sending this ACK */
 2039              		.loc 1 935 0
 2040 0018 E0B1     		cbz	r0, .L198
 2041 001a 0646     		mov	r6, r0
 956:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif == NULL) {
 2042              		.loc 1 956 0
 2043 001c 251D     		adds	r5, r4, #4
 2044 001e 2846     		mov	r0, r5
 2045              	.LVL258:
 2046 0020 FFF7FEFF 		bl	ip4_route
 2047              	.LVL259:
 957:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ERR_RTE;
 2048              		.loc 1 957 0
 2049 0024 E8B1     		cbz	r0, .L196
 967:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->ttl, pcb->tos, IP_PROTO_TCP, netif);
 2050              		.loc 1 967 0
 2051 0026 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 65


 2052 0028 617A     		ldrb	r1, [r4, #9]	@ zero_extendqisi2
 2053 002a 0290     		str	r0, [sp, #8]
 2054 002c 0622     		movs	r2, #6
 2055 002e 0192     		str	r2, [sp, #4]
 2056 0030 0091     		str	r1, [sp]
 2057 0032 2A46     		mov	r2, r5
 2058 0034 2146     		mov	r1, r4
 2059 0036 3046     		mov	r0, r6
 2060              	.LVL260:
 2061 0038 FFF7FEFF 		bl	ip4_output_if
 2062              	.LVL261:
 2063 003c 0546     		mov	r5, r0
 2064              	.LVL262:
 2065              	.L194:
 971:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 2066              		.loc 1 971 0
 2067 003e 3046     		mov	r0, r6
 2068 0040 FFF7FEFF 		bl	pbuf_free
 2069              	.LVL263:
 973:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* let tcp_fasttmr retry sending this ACK */
 2070              		.loc 1 973 0
 2071 0044 85B9     		cbnz	r5, .L199
 978:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2072              		.loc 1 978 0
 2073 0046 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2074 0048 23F00303 		bic	r3, r3, #3
 2075 004c A376     		strb	r3, [r4, #26]
 2076              	.LVL264:
 2077              	.L193:
 982:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 2078              		.loc 1 982 0
 2079 004e 2846     		mov	r0, r5
 2080 0050 04B0     		add	sp, sp, #16
 2081              	.LCFI18:
 2082              		.cfi_remember_state
 2083              		.cfi_def_cfa_offset 16
 2084              		@ sp needed
 2085 0052 70BD     		pop	{r4, r5, r6, pc}
 2086              	.LVL265:
 2087              	.L198:
 2088              	.LCFI19:
 2089              		.cfi_restore_state
 937:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_OUTPUT_DEBUG, ("tcp_output: (ACK) could not allocate pbuf\n"));
 2090              		.loc 1 937 0
 2091 0054 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2092 0056 43F00303 		orr	r3, r3, #3
 2093 005a A376     		strb	r3, [r4, #26]
 939:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2094              		.loc 1 939 0
 2095 005c 6FF00105 		mvn	r5, #1
 2096 0060 F5E7     		b	.L193
 2097              	.LVL266:
 2098              	.L196:
 958:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 2099              		.loc 1 958 0
 2100 0062 6FF00305 		mvn	r5, #3
 2101 0066 EAE7     		b	.L194
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 66


 2102              	.LVL267:
 2103              	.L199:
 975:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 2104              		.loc 1 975 0
 2105 0068 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2106 006a 43F00303 		orr	r3, r3, #3
 2107 006e A376     		strb	r3, [r4, #26]
 2108 0070 EDE7     		b	.L193
 2109              		.cfi_endproc
 2110              	.LFE149:
 2112              		.section	.text.tcp_output,"ax",%progbits
 2113              		.align	1
 2114              		.global	tcp_output
 2115              		.syntax unified
 2116              		.thumb
 2117              		.thumb_func
 2118              		.fpu fpv4-sp-d16
 2120              	tcp_output:
 2121              	.LFB150:
 994:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg, *useg;
 2122              		.loc 1 994 0
 2123              		.cfi_startproc
 2124              		@ args = 0, pretend = 0, frame = 0
 2125              		@ frame_needed = 0, uses_anonymous_args = 0
 2126              	.LVL268:
 2127 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2128              	.LCFI20:
 2129              		.cfi_def_cfa_offset 32
 2130              		.cfi_offset 4, -32
 2131              		.cfi_offset 5, -28
 2132              		.cfi_offset 6, -24
 2133              		.cfi_offset 7, -20
 2134              		.cfi_offset 8, -16
 2135              		.cfi_offset 9, -12
 2136              		.cfi_offset 10, -8
 2137              		.cfi_offset 14, -4
 2138 0004 0546     		mov	r5, r0
1004:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->state != LISTEN);
 2139              		.loc 1 1004 0
 2140 0006 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 2141 0008 012B     		cmp	r3, #1
 2142 000a 1ED0     		beq	.L239
 2143              	.LVL269:
 2144              	.L201:
1011:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_OK;
 2145              		.loc 1 1011 0
 2146 000c 974B     		ldr	r3, .L248
 2147 000e 1B68     		ldr	r3, [r3]
 2148 0010 AB42     		cmp	r3, r5
 2149 0012 00F02381 		beq	.L232
1015:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 2150              		.loc 1 1015 0
 2151 0016 B5F85C30 		ldrh	r3, [r5, #92]
 2152 001a B5F84870 		ldrh	r7, [r5, #72]
 2153 001e BB42     		cmp	r3, r7
 2154 0020 00D2     		bcs	.L204
1015:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 67


 2155              		.loc 1 1015 0 is_stmt 0 discriminator 1
 2156 0022 1F46     		mov	r7, r3
 2157              	.L204:
 2158              	.LVL270:
1017:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 2159              		.loc 1 1017 0 is_stmt 1 discriminator 4
 2160 0024 AC6E     		ldr	r4, [r5, #104]
 2161              	.LVL271:
1025:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      (seg == NULL ||
 2162              		.loc 1 1025 0 discriminator 4
 2163 0026 AB7E     		ldrb	r3, [r5, #26]	@ zero_extendqisi2
 2164 0028 13F0020F 		tst	r3, #2
 2165 002c 0AD0     		beq	.L205
1025:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      (seg == NULL ||
 2166              		.loc 1 1025 0 is_stmt 0 discriminator 1
 2167 002e A4B1     		cbz	r4, .L206
1027:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      return tcp_send_empty_ack(pcb);
 2168              		.loc 1 1027 0 is_stmt 1
 2169 0030 E368     		ldr	r3, [r4, #12]
 2170 0032 5868     		ldr	r0, [r3, #4]	@ unaligned
 2171 0034 FFF7FEFF 		bl	lwip_htonl
 2172              	.LVL272:
 2173 0038 6B6C     		ldr	r3, [r5, #68]
 2174 003a C31A     		subs	r3, r0, r3
 2175 003c 2089     		ldrh	r0, [r4, #8]
 2176 003e 0344     		add	r3, r3, r0
1026:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len > wnd)) {
 2177              		.loc 1 1026 0
 2178 0040 BB42     		cmp	r3, r7
 2179 0042 0AD8     		bhi	.L206
 2180              	.L205:
1032:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (useg != NULL) {
 2181              		.loc 1 1032 0
 2182 0044 EE6E     		ldr	r6, [r5, #108]
 2183              	.LVL273:
1033:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     for (; useg->next != NULL; useg = useg->next);
 2184              		.loc 1 1033 0
 2185 0046 76B9     		cbnz	r6, .L208
 2186 0048 10E0     		b	.L207
 2187              	.LVL274:
 2188              	.L239:
1004:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->state != LISTEN);
 2189              		.loc 1 1004 0 discriminator 1
 2190 004a 894B     		ldr	r3, .L248+4
 2191 004c 40F2ED32 		movw	r2, #1005
 2192 0050 8849     		ldr	r1, .L248+8
 2193 0052 8948     		ldr	r0, .L248+12
 2194              	.LVL275:
 2195 0054 FFF7FEFF 		bl	printf
 2196              	.LVL276:
 2197 0058 D8E7     		b	.L201
 2198              	.LVL277:
 2199              	.L206:
1028:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2200              		.loc 1 1028 0
 2201 005a 2846     		mov	r0, r5
 2202 005c FFF7FEFF 		bl	tcp_send_empty_ack
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 68


 2203              	.LVL278:
 2204 0060 0346     		mov	r3, r0
 2205 0062 52E0     		b	.L202
 2206              	.LVL279:
 2207              	.L233:
1034:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2208              		.loc 1 1034 0
 2209 0064 1E46     		mov	r6, r3
 2210              	.LVL280:
 2211              	.L208:
1034:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2212              		.loc 1 1034 0 is_stmt 0 discriminator 1
 2213 0066 3368     		ldr	r3, [r6]
 2214 0068 002B     		cmp	r3, #0
 2215 006a FBD1     		bne	.L233
 2216              	.L207:
1037:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif == NULL) {
 2217              		.loc 1 1037 0 is_stmt 1
 2218 006c 281D     		adds	r0, r5, #4
 2219 006e FFF7FEFF 		bl	ip4_route
 2220              	.LVL281:
1038:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_RTE;
 2221              		.loc 1 1038 0
 2222 0072 8046     		mov	r8, r0
 2223 0074 0028     		cmp	r0, #0
 2224 0076 00F0F380 		beq	.L234
1043:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     const ip_addr_t *local_ip = ip_netif_get_local_ip(netif, &pcb->remote_ip);
 2225              		.loc 1 1043 0
 2226 007a 0DB1     		cbz	r5, .L209
1043:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     const ip_addr_t *local_ip = ip_netif_get_local_ip(netif, &pcb->remote_ip);
 2227              		.loc 1 1043 0 is_stmt 0 discriminator 1
 2228 007c 2B68     		ldr	r3, [r5]
 2229 007e 33B9     		cbnz	r3, .L210
 2230              	.L209:
 2231              	.LVL282:
 2232              	.LBB27:
1045:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       return ERR_RTE;
 2233              		.loc 1 1045 0 is_stmt 1 discriminator 1
 2234 0080 18F1040F 		cmn	r8, #4
 2235 0084 00F0EF80 		beq	.L235
1048:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2236              		.loc 1 1048 0
 2237 0088 D8F80430 		ldr	r3, [r8, #4]
 2238 008c 2B60     		str	r3, [r5]
 2239              	.LVL283:
 2240              	.L210:
 2241              	.LBE27:
1080:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len > wnd &&
 2242              		.loc 1 1080 0
 2243 008e 002C     		cmp	r4, #0
 2244 0090 76D0     		beq	.L229
1081:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       wnd > 0 && wnd == pcb->snd_wnd && pcb->unacked == NULL) {
 2245              		.loc 1 1081 0 discriminator 1
 2246 0092 E368     		ldr	r3, [r4, #12]
 2247 0094 5868     		ldr	r0, [r3, #4]	@ unaligned
 2248              	.LVL284:
 2249 0096 FFF7FEFF 		bl	lwip_htonl
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 69


 2250              	.LVL285:
 2251 009a 6B6C     		ldr	r3, [r5, #68]
 2252 009c C31A     		subs	r3, r0, r3
 2253 009e 2089     		ldrh	r0, [r4, #8]
 2254 00a0 0344     		add	r3, r3, r0
1080:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len > wnd &&
 2255              		.loc 1 1080 0 discriminator 1
 2256 00a2 BB42     		cmp	r3, r7
 2257 00a4 6CD9     		bls	.L229
1081:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       wnd > 0 && wnd == pcb->snd_wnd && pcb->unacked == NULL) {
 2258              		.loc 1 1081 0
 2259 00a6 002F     		cmp	r7, #0
 2260 00a8 6AD0     		beq	.L229
1082:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Start the persist timer */
 2261              		.loc 1 1082 0
 2262 00aa B5F85C30 		ldrh	r3, [r5, #92]
 2263 00ae BB42     		cmp	r3, r7
 2264 00b0 66D1     		bne	.L229
1082:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Start the persist timer */
 2265              		.loc 1 1082 0 is_stmt 0 discriminator 1
 2266 00b2 EB6E     		ldr	r3, [r5, #108]
 2267 00b4 002B     		cmp	r3, #0
 2268 00b6 63D1     		bne	.L229
1084:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->persist_cnt = 0;
 2269              		.loc 1 1084 0 is_stmt 1
 2270 00b8 95F89530 		ldrb	r3, [r5, #149]	@ zero_extendqisi2
 2271 00bc E3B9     		cbnz	r3, .L212
1085:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->persist_backoff = 1;
 2272              		.loc 1 1085 0
 2273 00be 85F89430 		strb	r3, [r5, #148]
1086:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 2274              		.loc 1 1086 0
 2275 00c2 0123     		movs	r3, #1
 2276 00c4 85F89530 		strb	r3, [r5, #149]
 2277 00c8 16E0     		b	.L212
 2278              	.L241:
1093:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 (TCPH_FLAGS(seg->tcphdr) & TCP_RST) == 0);
 2279              		.loc 1 1093 0 discriminator 1
 2280 00ca 694B     		ldr	r3, .L248+4
 2281 00cc 40F24642 		movw	r2, #1094
 2282 00d0 6A49     		ldr	r1, .L248+16
 2283 00d2 6948     		ldr	r0, .L248+12
 2284 00d4 FFF7FEFF 		bl	printf
 2285              	.LVL286:
 2286 00d8 65E0     		b	.L213
 2287              	.L242:
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2288              		.loc 1 1102 0 discriminator 8
 2289 00da 1189     		ldrh	r1, [r2, #8]
 2290 00dc 6A8E     		ldrh	r2, [r5, #50]
 2291 00de 9142     		cmp	r1, r2
 2292 00e0 6DD2     		bcs	.L214
 2293              	.L215:
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2294              		.loc 1 1102 0 is_stmt 0 discriminator 10
 2295 00e2 B5F86020 		ldrh	r2, [r5, #96]
 2296 00e6 002A     		cmp	r2, #0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 70


 2297 00e8 69D0     		beq	.L214
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2298              		.loc 1 1102 0 discriminator 12
 2299 00ea B5F86220 		ldrh	r2, [r5, #98]
 2300 00ee 082A     		cmp	r2, #8
 2301 00f0 65D8     		bhi	.L214
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2302              		.loc 1 1102 0
 2303 00f2 13F0A00F 		tst	r3, #160
 2304 00f6 62D1     		bne	.L214
 2305              	.L212:
1171:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* last unsent has been removed, reset unsent_oversize */
 2306              		.loc 1 1171 0 is_stmt 1
 2307 00f8 AB6E     		ldr	r3, [r5, #104]
 2308 00fa 002B     		cmp	r3, #0
 2309 00fc 00F0AB80 		beq	.L240
 2310              	.L231:
1177:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return ERR_OK;
 2311              		.loc 1 1177 0
 2312 0100 AB7E     		ldrb	r3, [r5, #26]	@ zero_extendqisi2
 2313 0102 03F07F03 		and	r3, r3, #127
 2314 0106 AB76     		strb	r3, [r5, #26]
1178:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 2315              		.loc 1 1178 0
 2316 0108 0023     		movs	r3, #0
 2317              	.LVL287:
 2318              	.L202:
1179:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 2319              		.loc 1 1179 0
 2320 010a 1846     		mov	r0, r3
 2321 010c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2322              	.LVL288:
 2323              	.L243:
1116:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 2324              		.loc 1 1116 0
 2325 0110 E368     		ldr	r3, [r4, #12]
 2326 0112 B3F80C90 		ldrh	r9, [r3, #12]	@ unaligned
 2327 0116 1020     		movs	r0, #16
 2328 0118 FFF7FEFF 		bl	lwip_htons
 2329              	.LVL289:
 2330 011c E368     		ldr	r3, [r4, #12]
 2331 011e 49EA0000 		orr	r0, r9, r0
 2332 0122 9881     		strh	r0, [r3, #12]	@ unaligned
 2333 0124 4EE0     		b	.L216
 2334              	.LVL290:
 2335              	.L244:
1125:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       return err;
 2336              		.loc 1 1125 0
 2337 0126 AA7E     		ldrb	r2, [r5, #26]	@ zero_extendqisi2
 2338 0128 62F07F02 		orn	r2, r2, #127
 2339 012c AA76     		strb	r2, [r5, #26]
1126:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 2340              		.loc 1 1126 0
 2341 012e ECE7     		b	.L202
 2342              	.LVL291:
 2343              	.L236:
1132:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (TCP_SEQ_LT(pcb->snd_nxt, snd_nxt)) {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 71


 2344              		.loc 1 1132 0
 2345 0130 0020     		movs	r0, #0
 2346 0132 67E0     		b	.L219
 2347              	.LVL292:
 2348              	.L245:
1134:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 2349              		.loc 1 1134 0
 2350 0134 E864     		str	r0, [r5, #76]
 2351 0136 6BE0     		b	.L220
 2352              	.LVL293:
 2353              	.L237:
1137:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->next = NULL;
 2354              		.loc 1 1137 0
 2355 0138 0023     		movs	r3, #0
 2356 013a 73E0     		b	.L221
 2357              	.L246:
1141:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         useg = seg;
 2358              		.loc 1 1141 0
 2359 013c EC66     		str	r4, [r5, #108]
 2360              	.LVL294:
1142:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* unacked list is not empty? */
 2361              		.loc 1 1142 0
 2362 013e 2646     		mov	r6, r4
 2363 0140 1DE0     		b	.L224
 2364              	.LVL295:
 2365              	.L247:
 2366              	.LBB28:
1150:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           while (*cur_seg &&
 2367              		.loc 1 1150 0
 2368 0142 05F16C0A 		add	r10, r5, #108
 2369              	.LVL296:
 2370              	.L226:
1151:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****             TCP_SEQ_LT(lwip_ntohl((*cur_seg)->tcphdr->seqno), lwip_ntohl(seg->tcphdr->seqno))) {
 2371              		.loc 1 1151 0
 2372 0146 DAF80030 		ldr	r3, [r10]
 2373 014a 7BB1     		cbz	r3, .L227
1152:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               cur_seg = &((*cur_seg)->next );
 2374              		.loc 1 1152 0 discriminator 1
 2375 014c DB68     		ldr	r3, [r3, #12]
 2376 014e 5868     		ldr	r0, [r3, #4]	@ unaligned
 2377 0150 FFF7FEFF 		bl	lwip_htonl
 2378              	.LVL297:
 2379 0154 8146     		mov	r9, r0
 2380 0156 E368     		ldr	r3, [r4, #12]
 2381 0158 5868     		ldr	r0, [r3, #4]	@ unaligned
 2382 015a FFF7FEFF 		bl	lwip_htonl
 2383              	.LVL298:
 2384 015e A9EB0000 		sub	r0, r9, r0
1151:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****             TCP_SEQ_LT(lwip_ntohl((*cur_seg)->tcphdr->seqno), lwip_ntohl(seg->tcphdr->seqno))) {
 2385              		.loc 1 1151 0 discriminator 1
 2386 0162 0028     		cmp	r0, #0
 2387 0164 02DA     		bge	.L227
1153:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           }
 2388              		.loc 1 1153 0
 2389 0166 DAF800A0 		ldr	r10, [r10]
 2390              	.LVL299:
 2391 016a ECE7     		b	.L226
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 72


 2392              	.L227:
1155:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           (*cur_seg) = seg;
 2393              		.loc 1 1155 0
 2394 016c DAF80030 		ldr	r3, [r10]
 2395 0170 2360     		str	r3, [r4]
1156:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         } else {
 2396              		.loc 1 1156 0
 2397 0172 CAF80040 		str	r4, [r10]
 2398              	.LBE28:
 2399 0176 02E0     		b	.L224
 2400              	.LVL300:
 2401              	.L222:
1165:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 2402              		.loc 1 1165 0
 2403 0178 2046     		mov	r0, r4
 2404 017a FFF7FEFF 		bl	tcp_seg_free
 2405              	.LVL301:
 2406              	.L224:
1167:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2407              		.loc 1 1167 0
 2408 017e AC6E     		ldr	r4, [r5, #104]
 2409              	.LVL302:
 2410              	.L229:
1091:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len <= wnd) {
 2411              		.loc 1 1091 0
 2412 0180 002C     		cmp	r4, #0
 2413 0182 B9D0     		beq	.L212
1092:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_ASSERT("RST not expected here!",
 2414              		.loc 1 1092 0 discriminator 1
 2415 0184 E368     		ldr	r3, [r4, #12]
 2416 0186 5868     		ldr	r0, [r3, #4]	@ unaligned
 2417 0188 FFF7FEFF 		bl	lwip_htonl
 2418              	.LVL303:
 2419 018c 6B6C     		ldr	r3, [r5, #68]
 2420 018e C01A     		subs	r0, r0, r3
 2421 0190 2389     		ldrh	r3, [r4, #8]
 2422 0192 1844     		add	r0, r0, r3
1091:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****          lwip_ntohl(seg->tcphdr->seqno) - pcb->lastack + seg->len <= wnd) {
 2423              		.loc 1 1091 0 discriminator 1
 2424 0194 B842     		cmp	r0, r7
 2425 0196 AFD8     		bhi	.L212
1093:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 (TCPH_FLAGS(seg->tcphdr) & TCP_RST) == 0);
 2426              		.loc 1 1093 0
 2427 0198 E368     		ldr	r3, [r4, #12]
 2428 019a 9889     		ldrh	r0, [r3, #12]	@ unaligned
 2429 019c FFF7FEFF 		bl	lwip_htons
 2430              	.LVL304:
 2431 01a0 10F0040F 		tst	r0, #4
 2432 01a4 91D1     		bne	.L241
 2433              	.L213:
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2434              		.loc 1 1102 0
 2435 01a6 EB6E     		ldr	r3, [r5, #108]
 2436 01a8 4BB1     		cbz	r3, .L214
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2437              		.loc 1 1102 0 is_stmt 0 discriminator 2
 2438 01aa AB7E     		ldrb	r3, [r5, #26]	@ zero_extendqisi2
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 73


 2439 01ac 13F0440F 		tst	r3, #68
 2440 01b0 05D1     		bne	.L214
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2441              		.loc 1 1102 0 discriminator 4
 2442 01b2 AA6E     		ldr	r2, [r5, #104]
 2443 01b4 002A     		cmp	r2, #0
 2444 01b6 94D0     		beq	.L215
1102:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       ((pcb->flags & (TF_NAGLEMEMERR | TF_FIN)) == 0)) {
 2445              		.loc 1 1102 0 discriminator 5
 2446 01b8 1168     		ldr	r1, [r2]
 2447 01ba 0029     		cmp	r1, #0
 2448 01bc 8DD0     		beq	.L242
 2449              	.L214:
1115:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       TCPH_SET_FLAG(seg->tcphdr, TCP_ACK);
 2450              		.loc 1 1115 0 is_stmt 1
 2451 01be 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 2452 01c0 022B     		cmp	r3, #2
 2453 01c2 A5D1     		bne	.L243
 2454              	.L216:
1122:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (err != ERR_OK) {
 2455              		.loc 1 1122 0
 2456 01c4 4246     		mov	r2, r8
 2457 01c6 2946     		mov	r1, r5
 2458 01c8 2046     		mov	r0, r4
 2459 01ca FFF7FEFF 		bl	tcp_output_segment
 2460              	.LVL305:
1123:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* segment could not be sent, for whatever reason */
 2461              		.loc 1 1123 0
 2462 01ce 0346     		mov	r3, r0
 2463 01d0 0028     		cmp	r0, #0
 2464 01d2 A8D1     		bne	.L244
1128:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (pcb->state != SYN_SENT) {
 2465              		.loc 1 1128 0
 2466 01d4 2368     		ldr	r3, [r4]
 2467 01d6 AB66     		str	r3, [r5, #104]
1129:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->flags &= ~(TF_ACK_DELAY | TF_ACK_NOW);
 2468              		.loc 1 1129 0
 2469 01d8 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 2470 01da 022B     		cmp	r3, #2
 2471 01dc 03D0     		beq	.L218
1130:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 2472              		.loc 1 1130 0
 2473 01de AB7E     		ldrb	r3, [r5, #26]	@ zero_extendqisi2
 2474 01e0 23F00303 		bic	r3, r3, #3
 2475 01e4 AB76     		strb	r3, [r5, #26]
 2476              	.L218:
1132:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (TCP_SEQ_LT(pcb->snd_nxt, snd_nxt)) {
 2477              		.loc 1 1132 0
 2478 01e6 E368     		ldr	r3, [r4, #12]
 2479 01e8 5868     		ldr	r0, [r3, #4]	@ unaligned
 2480              	.LVL306:
 2481 01ea FFF7FEFF 		bl	lwip_htonl
 2482              	.LVL307:
 2483 01ee 8146     		mov	r9, r0
 2484 01f0 B4F808A0 		ldrh	r10, [r4, #8]
 2485 01f4 E368     		ldr	r3, [r4, #12]
 2486 01f6 9889     		ldrh	r0, [r3, #12]	@ unaligned
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 74


 2487 01f8 FFF7FEFF 		bl	lwip_htons
 2488              	.LVL308:
 2489 01fc 10F0030F 		tst	r0, #3
 2490 0200 96D0     		beq	.L236
 2491 0202 0120     		movs	r0, #1
 2492              	.L219:
1132:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (TCP_SEQ_LT(pcb->snd_nxt, snd_nxt)) {
 2493              		.loc 1 1132 0 is_stmt 0 discriminator 4
 2494 0204 5044     		add	r0, r0, r10
 2495 0206 4844     		add	r0, r0, r9
 2496              	.LVL309:
1133:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->snd_nxt = snd_nxt;
 2497              		.loc 1 1133 0 is_stmt 1 discriminator 4
 2498 0208 EB6C     		ldr	r3, [r5, #76]
 2499 020a 1B1A     		subs	r3, r3, r0
 2500 020c 002B     		cmp	r3, #0
 2501 020e 91DB     		blt	.L245
 2502              	.L220:
1137:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->next = NULL;
 2503              		.loc 1 1137 0
 2504 0210 B4F80890 		ldrh	r9, [r4, #8]
 2505 0214 E368     		ldr	r3, [r4, #12]
 2506 0216 9889     		ldrh	r0, [r3, #12]	@ unaligned
 2507              	.LVL310:
 2508 0218 FFF7FEFF 		bl	lwip_htons
 2509              	.LVL311:
 2510 021c 10F0030F 		tst	r0, #3
 2511 0220 8AD0     		beq	.L237
 2512 0222 0123     		movs	r3, #1
 2513              	.L221:
1137:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       seg->next = NULL;
 2514              		.loc 1 1137 0 is_stmt 0 discriminator 4
 2515 0224 19EB030F 		cmn	r9, r3
 2516 0228 A6D0     		beq	.L222
1138:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       /* unacked list is empty? */
 2517              		.loc 1 1138 0 is_stmt 1
 2518 022a 0023     		movs	r3, #0
 2519 022c 2360     		str	r3, [r4]
1140:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         pcb->unacked = seg;
 2520              		.loc 1 1140 0
 2521 022e EB6E     		ldr	r3, [r5, #108]
 2522 0230 002B     		cmp	r3, #0
 2523 0232 83D0     		beq	.L246
1148:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           /* add segment to before tail of unacked list, keeping the list sorted */
 2524              		.loc 1 1148 0
 2525 0234 E368     		ldr	r3, [r4, #12]
 2526 0236 5868     		ldr	r0, [r3, #4]	@ unaligned
 2527 0238 FFF7FEFF 		bl	lwip_htonl
 2528              	.LVL312:
 2529 023c 8146     		mov	r9, r0
 2530 023e F368     		ldr	r3, [r6, #12]
 2531 0240 5868     		ldr	r0, [r3, #4]	@ unaligned
 2532 0242 FFF7FEFF 		bl	lwip_htonl
 2533              	.LVL313:
 2534 0246 A9EB0000 		sub	r0, r9, r0
 2535 024a 0028     		cmp	r0, #0
 2536 024c FFF679AF 		blt	.L247
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 75


1159:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****           useg = useg->next;
 2537              		.loc 1 1159 0
 2538 0250 3460     		str	r4, [r6]
 2539              	.LVL314:
1160:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         }
 2540              		.loc 1 1160 0
 2541 0252 2646     		mov	r6, r4
 2542              	.LVL315:
 2543 0254 93E7     		b	.L224
 2544              	.L240:
1173:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2545              		.loc 1 1173 0
 2546 0256 A5F86430 		strh	r3, [r5, #100]	@ movhi
 2547 025a 51E7     		b	.L231
 2548              	.LVL316:
 2549              	.L232:
1012:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2550              		.loc 1 1012 0
 2551 025c 0023     		movs	r3, #0
 2552 025e 54E7     		b	.L202
 2553              	.LVL317:
 2554              	.L234:
1039:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2555              		.loc 1 1039 0
 2556 0260 6FF00303 		mvn	r3, #3
 2557 0264 51E7     		b	.L202
 2558              	.LVL318:
 2559              	.L235:
 2560              	.LBB29:
1046:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
 2561              		.loc 1 1046 0
 2562 0266 6FF00303 		mvn	r3, #3
 2563 026a 4EE7     		b	.L202
 2564              	.L249:
 2565              		.align	2
 2566              	.L248:
 2567 026c 00000000 		.word	tcp_input_pcb
 2568 0270 00000000 		.word	.LC0
 2569 0274 00000000 		.word	.LC24
 2570 0278 6C000000 		.word	.LC2
 2571 027c 28000000 		.word	.LC25
 2572              	.LBE29:
 2573              		.cfi_endproc
 2574              	.LFE150:
 2576              		.section	.text.tcp_rst,"ax",%progbits
 2577              		.align	1
 2578              		.global	tcp_rst
 2579              		.syntax unified
 2580              		.thumb
 2581              		.thumb_func
 2582              		.fpu fpv4-sp-d16
 2584              	tcp_rst:
 2585              	.LFB152:
1322:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1323:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1324:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Send a TCP RESET packet (empty segment with RST flag set) either to
1325:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * abort a connection or to show that there is no matching local connection
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 76


1326:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * for a received segment.
1327:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1328:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_abort() (to abort a local connection), tcp_input() (if no
1329:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * matching local pcb was found), tcp_listen_input() (if incoming segment
1330:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * has ACK flag set) and tcp_process() (received segment in the wrong state)
1331:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1332:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Since a RST segment is in most cases not sent for an active connection,
1333:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * tcp_rst() has a number of arguments that are taken from a tcp_pcb for
1334:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * most other segment output functions.
1335:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1336:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param seqno the sequence number to use for the outgoing segment
1337:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param ackno the acknowledge number to use for the outgoing segment
1338:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param local_ip the local IP address to send the segment from
1339:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param remote_ip the remote IP address to send the segment to
1340:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param local_port the local TCP port to send the segment from
1341:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param remote_port the remote TCP port to send the segment to
1342:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1343:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** void
1344:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_rst(u32_t seqno, u32_t ackno,
1345:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   const ip_addr_t *local_ip, const ip_addr_t *remote_ip,
1346:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t local_port, u16_t remote_port)
1347:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 2586              		.loc 1 1347 0
 2587              		.cfi_startproc
 2588              		@ args = 8, pretend = 0, frame = 0
 2589              		@ frame_needed = 0, uses_anonymous_args = 0
 2590              	.LVL319:
 2591 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 2592              	.LCFI21:
 2593              		.cfi_def_cfa_offset 28
 2594              		.cfi_offset 4, -28
 2595              		.cfi_offset 5, -24
 2596              		.cfi_offset 6, -20
 2597              		.cfi_offset 7, -16
 2598              		.cfi_offset 8, -12
 2599              		.cfi_offset 9, -8
 2600              		.cfi_offset 14, -4
 2601 0004 85B0     		sub	sp, sp, #20
 2602              	.LCFI22:
 2603              		.cfi_def_cfa_offset 48
 2604 0006 8046     		mov	r8, r0
 2605 0008 0F46     		mov	r7, r1
 2606 000a 9146     		mov	r9, r2
 2607 000c 1E46     		mov	r6, r3
1348:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
1349:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_hdr *tcphdr;
1350:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct netif *netif;
1351:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   p = pbuf_alloc(PBUF_IP, TCP_HLEN, PBUF_RAM);
 2608              		.loc 1 1351 0
 2609 000e 0022     		movs	r2, #0
 2610              	.LVL320:
 2611 0010 1421     		movs	r1, #20
 2612              	.LVL321:
 2613 0012 0120     		movs	r0, #1
 2614              	.LVL322:
 2615 0014 FFF7FEFF 		bl	pbuf_alloc
 2616              	.LVL323:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 77


1352:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 2617              		.loc 1 1352 0
 2618 0018 B0B3     		cbz	r0, .L250
 2619 001a 0546     		mov	r5, r0
1353:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_rst: could not allocate memory for pbuf\n"));
1354:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return;
1355:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1356:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_ASSERT("check that first pbuf can hold struct tcp_hdr",
 2620              		.loc 1 1356 0
 2621 001c 4389     		ldrh	r3, [r0, #10]
 2622 001e 132B     		cmp	r3, #19
 2623 0020 35D9     		bls	.L255
 2624              	.LVL324:
 2625              	.L252:
1357:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (p->len >= sizeof(struct tcp_hdr)));
1358:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1359:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr = (struct tcp_hdr *)p->payload;
 2626              		.loc 1 1359 0
 2627 0022 6C68     		ldr	r4, [r5, #4]
 2628              	.LVL325:
1360:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->src = lwip_htons(local_port);
 2629              		.loc 1 1360 0
 2630 0024 BDF83000 		ldrh	r0, [sp, #48]
 2631 0028 FFF7FEFF 		bl	lwip_htons
 2632              	.LVL326:
 2633 002c 2080     		strh	r0, [r4]	@ unaligned
1361:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->dest = lwip_htons(remote_port);
 2634              		.loc 1 1361 0
 2635 002e BDF83400 		ldrh	r0, [sp, #52]
 2636 0032 FFF7FEFF 		bl	lwip_htons
 2637              	.LVL327:
 2638 0036 6080     		strh	r0, [r4, #2]	@ unaligned
1362:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->seqno = lwip_htonl(seqno);
 2639              		.loc 1 1362 0
 2640 0038 4046     		mov	r0, r8
 2641 003a FFF7FEFF 		bl	lwip_htonl
 2642              	.LVL328:
 2643 003e 6060     		str	r0, [r4, #4]	@ unaligned
1363:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->ackno = lwip_htonl(ackno);
 2644              		.loc 1 1363 0
 2645 0040 3846     		mov	r0, r7
 2646 0042 FFF7FEFF 		bl	lwip_htonl
 2647              	.LVL329:
 2648 0046 A060     		str	r0, [r4, #8]	@ unaligned
1364:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   TCPH_HDRLEN_FLAGS_SET(tcphdr, TCP_HLEN/4, TCP_RST | TCP_ACK);
 2649              		.loc 1 1364 0
 2650 0048 45F21400 		movw	r0, #20500
 2651 004c FFF7FEFF 		bl	lwip_htons
 2652              	.LVL330:
 2653 0050 A081     		strh	r0, [r4, #12]	@ unaligned
1365:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if LWIP_WND_SCALE
1366:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->wnd = PP_HTONS(((TCP_WND >> TCP_RCV_SCALE) & 0xFFFF));
1367:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #else
1368:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->wnd = PP_HTONS(TCP_WND);
 2654              		.loc 1 1368 0
 2655 0052 0023     		movs	r3, #0
 2656 0054 0822     		movs	r2, #8
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 78


 2657 0056 A273     		strb	r2, [r4, #14]
 2658 0058 6022     		movs	r2, #96
 2659 005a E273     		strb	r2, [r4, #15]
1369:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
1370:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->chksum = 0;
 2660              		.loc 1 1370 0
 2661 005c 2374     		strb	r3, [r4, #16]
 2662 005e 6374     		strb	r3, [r4, #17]
1371:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr->urgp = 0;
 2663              		.loc 1 1371 0
 2664 0060 A374     		strb	r3, [r4, #18]
 2665 0062 E374     		strb	r3, [r4, #19]
1372:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1373:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   TCP_STATS_INC(tcp.xmit);
1374:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   MIB2_STATS_INC(mib2.tcpoutrsts);
1375:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1376:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   netif = ip_route(local_ip, remote_ip);
 2666              		.loc 1 1376 0
 2667 0064 3046     		mov	r0, r6
 2668 0066 FFF7FEFF 		bl	ip4_route
 2669              	.LVL331:
1377:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif != NULL) {
 2670              		.loc 1 1377 0
 2671 006a 50B1     		cbz	r0, .L253
1378:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if CHECKSUM_GEN_TCP
1379:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_TCP) {
1380:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       tcphdr->chksum = ip_chksum_pseudo(p, IP_PROTO_TCP, p->tot_len,
1381:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                                         local_ip, remote_ip);
1382:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1383:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
1384:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Send output with hardcoded TTL/HL since we have no access to the pcb */
1385:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     ip_output_if(p, local_ip, remote_ip, TCP_TTL, 0, IP_PROTO_TCP, netif);
 2672              		.loc 1 1385 0
 2673 006c 0290     		str	r0, [sp, #8]
 2674 006e 0623     		movs	r3, #6
 2675 0070 0193     		str	r3, [sp, #4]
 2676 0072 0023     		movs	r3, #0
 2677 0074 0093     		str	r3, [sp]
 2678 0076 FF23     		movs	r3, #255
 2679 0078 3246     		mov	r2, r6
 2680 007a 4946     		mov	r1, r9
 2681 007c 2846     		mov	r0, r5
 2682              	.LVL332:
 2683 007e FFF7FEFF 		bl	ip4_output_if
 2684              	.LVL333:
 2685              	.L253:
1386:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1387:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pbuf_free(p);
 2686              		.loc 1 1387 0
 2687 0082 2846     		mov	r0, r5
 2688 0084 FFF7FEFF 		bl	pbuf_free
 2689              	.LVL334:
 2690              	.L250:
1388:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_RST_DEBUG, ("tcp_rst: seqno %"U32_F" ackno %"U32_F".\n", seqno, ackno));
1389:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 2691              		.loc 1 1389 0
 2692 0088 05B0     		add	sp, sp, #20
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 79


 2693              	.LCFI23:
 2694              		.cfi_remember_state
 2695              		.cfi_def_cfa_offset 28
 2696              		@ sp needed
 2697 008a BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 2698              	.LVL335:
 2699              	.L255:
 2700              	.LCFI24:
 2701              		.cfi_restore_state
1356:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               (p->len >= sizeof(struct tcp_hdr)));
 2702              		.loc 1 1356 0 discriminator 1
 2703 008e 044B     		ldr	r3, .L256
 2704 0090 40F24D52 		movw	r2, #1357
 2705 0094 0349     		ldr	r1, .L256+4
 2706 0096 0448     		ldr	r0, .L256+8
 2707              	.LVL336:
 2708 0098 FFF7FEFF 		bl	printf
 2709              	.LVL337:
 2710 009c C1E7     		b	.L252
 2711              	.L257:
 2712 009e 00BF     		.align	2
 2713              	.L256:
 2714 00a0 00000000 		.word	.LC0
 2715 00a4 00000000 		.word	.LC6
 2716 00a8 6C000000 		.word	.LC2
 2717              		.cfi_endproc
 2718              	.LFE152:
 2720              		.section	.text.tcp_rexmit_rto,"ax",%progbits
 2721              		.align	1
 2722              		.global	tcp_rexmit_rto
 2723              		.syntax unified
 2724              		.thumb
 2725              		.thumb_func
 2726              		.fpu fpv4-sp-d16
 2728              	tcp_rexmit_rto:
 2729              	.LFB153:
1390:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1391:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1392:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Requeue all unacked segments for retransmission
1393:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1394:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_slowtmr() for slow retransmission.
1395:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1396:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb for which to re-enqueue all unacked segments
1397:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1398:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** void
1399:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_rexmit_rto(struct tcp_pcb *pcb)
1400:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 2730              		.loc 1 1400 0
 2731              		.cfi_startproc
 2732              		@ args = 0, pretend = 0, frame = 0
 2733              		@ frame_needed = 0, uses_anonymous_args = 0
 2734              	.LVL338:
1401:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
1402:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1403:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unacked == NULL) {
 2735              		.loc 1 1403 0
 2736 0000 C26E     		ldr	r2, [r0, #108]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 80


 2737 0002 0AB1     		cbz	r2, .L266
1400:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
 2738              		.loc 1 1400 0
 2739 0004 08B5     		push	{r3, lr}
 2740              	.LCFI25:
 2741              		.cfi_def_cfa_offset 8
 2742              		.cfi_offset 3, -8
 2743              		.cfi_offset 14, -4
 2744 0006 01E0     		b	.L260
 2745              	.L266:
 2746              	.LCFI26:
 2747              		.cfi_def_cfa_offset 0
 2748              		.cfi_restore 3
 2749              		.cfi_restore 14
 2750 0008 7047     		bx	lr
 2751              	.LVL339:
 2752              	.L262:
 2753              	.LCFI27:
 2754              		.cfi_def_cfa_offset 8
 2755              		.cfi_offset 3, -8
 2756              		.cfi_offset 14, -4
1404:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return;
1405:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1406:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1407:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Move all unacked segments to the head of the unsent queue */
1408:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   for (seg = pcb->unacked; seg->next != NULL; seg = seg->next);
 2757              		.loc 1 1408 0
 2758 000a 1A46     		mov	r2, r3
 2759              	.LVL340:
 2760              	.L260:
 2761              		.loc 1 1408 0 is_stmt 0 discriminator 1
 2762 000c 1368     		ldr	r3, [r2]
 2763 000e 002B     		cmp	r3, #0
 2764 0010 FBD1     		bne	.L262
1409:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* concatenate unsent queue after unacked queue */
1410:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->next = pcb->unsent;
 2765              		.loc 1 1410 0 is_stmt 1
 2766 0012 836E     		ldr	r3, [r0, #104]
 2767 0014 1360     		str	r3, [r2]
1411:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE_DBGCHECK
1412:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* if last unsent changed, we need to update unsent_oversize */
1413:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unsent == NULL) {
1414:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent_oversize = seg->oversize_left;
1415:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1416:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE_DBGCHECK */
1417:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* unsent queue is the concatenated queue (of unacked, unsent) */
1418:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->unsent = pcb->unacked;
 2768              		.loc 1 1418 0
 2769 0016 C36E     		ldr	r3, [r0, #108]
 2770 0018 8366     		str	r3, [r0, #104]
1419:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* unacked queue is now empty */
1420:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->unacked = NULL;
 2771              		.loc 1 1420 0
 2772 001a 0023     		movs	r3, #0
 2773 001c C366     		str	r3, [r0, #108]
1421:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1422:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* increment number of retransmissions */
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 81


1423:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->nrtx < 0xFF) {
 2774              		.loc 1 1423 0
 2775 001e 90F84230 		ldrb	r3, [r0, #66]	@ zero_extendqisi2
 2776 0022 FF2B     		cmp	r3, #255
 2777 0024 02D0     		beq	.L261
1424:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     ++pcb->nrtx;
 2778              		.loc 1 1424 0
 2779 0026 0133     		adds	r3, r3, #1
 2780 0028 80F84230 		strb	r3, [r0, #66]
 2781              	.L261:
1425:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1426:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1427:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Don't take any RTT measurements after retransmitting. */
1428:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->rttest = 0;
 2782              		.loc 1 1428 0
 2783 002c 0023     		movs	r3, #0
 2784 002e 4363     		str	r3, [r0, #52]
1429:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1430:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Do the actual retransmission */
1431:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcp_output(pcb);
 2785              		.loc 1 1431 0
 2786 0030 FFF7FEFF 		bl	tcp_output
 2787              	.LVL341:
1432:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 2788              		.loc 1 1432 0
 2789 0034 08BD     		pop	{r3, pc}
 2790              		.cfi_endproc
 2791              	.LFE153:
 2793              		.section	.text.tcp_rexmit,"ax",%progbits
 2794              		.align	1
 2795              		.global	tcp_rexmit
 2796              		.syntax unified
 2797              		.thumb
 2798              		.thumb_func
 2799              		.fpu fpv4-sp-d16
 2801              	tcp_rexmit:
 2802              	.LFB154:
1433:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1434:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1435:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Requeue the first unacked segment for retransmission
1436:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1437:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_receive() for fast retransmit.
1438:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1439:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb for which to retransmit the first unacked segment
1440:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1441:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** void
1442:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_rexmit(struct tcp_pcb *pcb)
1443:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 2803              		.loc 1 1443 0
 2804              		.cfi_startproc
 2805              		@ args = 0, pretend = 0, frame = 0
 2806              		@ frame_needed = 0, uses_anonymous_args = 0
 2807              	.LVL342:
 2808 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2809              	.LCFI28:
 2810              		.cfi_def_cfa_offset 24
 2811              		.cfi_offset 3, -24
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 82


 2812              		.cfi_offset 4, -20
 2813              		.cfi_offset 5, -16
 2814              		.cfi_offset 6, -12
 2815              		.cfi_offset 7, -8
 2816              		.cfi_offset 14, -4
1444:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
1445:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg **cur_seg;
1446:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1447:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unacked == NULL) {
 2817              		.loc 1 1447 0
 2818 0002 C66E     		ldr	r6, [r0, #108]
 2819 0004 16B3     		cbz	r6, .L267
 2820 0006 0746     		mov	r7, r0
 2821              	.LVL343:
1448:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return;
1449:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1450:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1451:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Move the first unacked segment to the unsent queue */
1452:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Keep the unsent queue sorted. */
1453:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg = pcb->unacked;
1454:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->unacked = seg->next;
 2822              		.loc 1 1454 0
 2823 0008 3368     		ldr	r3, [r6]
 2824 000a C366     		str	r3, [r0, #108]
1455:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1456:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   cur_seg = &(pcb->unsent);
 2825              		.loc 1 1456 0
 2826 000c 00F16805 		add	r5, r0, #104
 2827              	.LVL344:
1457:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   while (*cur_seg &&
 2828              		.loc 1 1457 0
 2829 0010 00E0     		b	.L269
 2830              	.LVL345:
 2831              	.L271:
1458:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_SEQ_LT(lwip_ntohl((*cur_seg)->tcphdr->seqno), lwip_ntohl(seg->tcphdr->seqno))) {
1459:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       cur_seg = &((*cur_seg)->next );
 2832              		.loc 1 1459 0
 2833 0012 2D68     		ldr	r5, [r5]
 2834              	.LVL346:
 2835              	.L269:
1457:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   while (*cur_seg &&
 2836              		.loc 1 1457 0
 2837 0014 2B68     		ldr	r3, [r5]
 2838 0016 5BB1     		cbz	r3, .L270
1458:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_SEQ_LT(lwip_ntohl((*cur_seg)->tcphdr->seqno), lwip_ntohl(seg->tcphdr->seqno))) {
 2839              		.loc 1 1458 0 discriminator 1
 2840 0018 DB68     		ldr	r3, [r3, #12]
 2841 001a 5868     		ldr	r0, [r3, #4]	@ unaligned
 2842 001c FFF7FEFF 		bl	lwip_htonl
 2843              	.LVL347:
 2844 0020 0446     		mov	r4, r0
 2845 0022 F368     		ldr	r3, [r6, #12]
 2846 0024 5868     		ldr	r0, [r3, #4]	@ unaligned
 2847 0026 FFF7FEFF 		bl	lwip_htonl
 2848              	.LVL348:
 2849 002a 201A     		subs	r0, r4, r0
1457:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   while (*cur_seg &&
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 83


 2850              		.loc 1 1457 0 discriminator 1
 2851 002c 0028     		cmp	r0, #0
 2852 002e F0DB     		blt	.L271
 2853              	.L270:
1460:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1461:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg->next = *cur_seg;
 2854              		.loc 1 1461 0
 2855 0030 2B68     		ldr	r3, [r5]
 2856 0032 3360     		str	r3, [r6]
1462:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   *cur_seg = seg;
 2857              		.loc 1 1462 0
 2858 0034 2E60     		str	r6, [r5]
1463:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if TCP_OVERSIZE
1464:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg->next == NULL) {
 2859              		.loc 1 1464 0
 2860 0036 3368     		ldr	r3, [r6]
 2861 0038 4BB1     		cbz	r3, .L275
 2862              	.L272:
1465:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* the retransmitted segment is last in unsent, so reset unsent_oversize */
1466:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->unsent_oversize = 0;
1467:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1468:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* TCP_OVERSIZE */
1469:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1470:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->nrtx < 0xFF) {
 2863              		.loc 1 1470 0
 2864 003a 97F84230 		ldrb	r3, [r7, #66]	@ zero_extendqisi2
 2865 003e FF2B     		cmp	r3, #255
 2866 0040 02D0     		beq	.L273
1471:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     ++pcb->nrtx;
 2867              		.loc 1 1471 0
 2868 0042 0133     		adds	r3, r3, #1
 2869 0044 87F84230 		strb	r3, [r7, #66]
 2870              	.L273:
1472:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1473:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1474:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Don't take any rtt measurements after retransmitting. */
1475:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pcb->rttest = 0;
 2871              		.loc 1 1475 0
 2872 0048 0023     		movs	r3, #0
 2873 004a 7B63     		str	r3, [r7, #52]
 2874              	.LVL349:
 2875              	.L267:
1476:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1477:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* Do the actual retransmission. */
1478:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   MIB2_STATS_INC(mib2.tcpretranssegs);
1479:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* No need to call tcp_output: we are always called from tcp_input()
1480:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      and thus tcp_output directly returns. */
1481:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 2876              		.loc 1 1481 0
 2877 004c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2878              	.LVL350:
 2879              	.L275:
1466:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 2880              		.loc 1 1466 0
 2881 004e A7F86430 		strh	r3, [r7, #100]	@ movhi
 2882 0052 F2E7     		b	.L272
 2883              		.cfi_endproc
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 84


 2884              	.LFE154:
 2886              		.section	.text.tcp_rexmit_fast,"ax",%progbits
 2887              		.align	1
 2888              		.global	tcp_rexmit_fast
 2889              		.syntax unified
 2890              		.thumb
 2891              		.thumb_func
 2892              		.fpu fpv4-sp-d16
 2894              	tcp_rexmit_fast:
 2895              	.LFB155:
1482:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1483:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1484:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1485:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Handle retransmission after three dupacks received
1486:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1487:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb for which to retransmit the first unacked segment
1488:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1489:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** void
1490:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_rexmit_fast(struct tcp_pcb *pcb)
1491:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 2896              		.loc 1 1491 0
 2897              		.cfi_startproc
 2898              		@ args = 0, pretend = 0, frame = 0
 2899              		@ frame_needed = 0, uses_anonymous_args = 0
 2900              	.LVL351:
1492:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unacked != NULL && !(pcb->flags & TF_INFR)) {
 2901              		.loc 1 1492 0
 2902 0000 C36E     		ldr	r3, [r0, #108]
 2903 0002 1BB1     		cbz	r3, .L282
 2904              		.loc 1 1492 0 is_stmt 0 discriminator 1
 2905 0004 837E     		ldrb	r3, [r0, #26]	@ zero_extendqisi2
 2906 0006 13F0040F 		tst	r3, #4
 2907 000a 00D0     		beq	.L285
 2908              	.L282:
 2909 000c 7047     		bx	lr
 2910              	.L285:
1491:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (pcb->unacked != NULL && !(pcb->flags & TF_INFR)) {
 2911              		.loc 1 1491 0 is_stmt 1
 2912 000e 10B5     		push	{r4, lr}
 2913              	.LCFI29:
 2914              		.cfi_def_cfa_offset 8
 2915              		.cfi_offset 4, -8
 2916              		.cfi_offset 14, -4
 2917 0010 0446     		mov	r4, r0
1493:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* This is fast retransmit. Retransmit the first unacked segment. */
1494:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_FR_DEBUG,
1495:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 ("tcp_receive: dupacks %"U16_F" (%"U32_F
1496:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  "), fast retransmit %"U32_F"\n",
1497:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  (u16_t)pcb->dupacks, pcb->lastack,
1498:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                  lwip_ntohl(pcb->unacked->tcphdr->seqno)));
1499:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     tcp_rexmit(pcb);
 2918              		.loc 1 1499 0
 2919 0012 FFF7FEFF 		bl	tcp_rexmit
 2920              	.LVL352:
1500:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1501:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Set ssthresh to half of the minimum of the current
1502:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****      * cwnd and the advertised window */
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 85


1503:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->ssthresh = LWIP_MIN(pcb->cwnd, pcb->snd_wnd) / 2;
 2921              		.loc 1 1503 0
 2922 0016 B4F84830 		ldrh	r3, [r4, #72]
 2923 001a B4F85C20 		ldrh	r2, [r4, #92]
 2924 001e 9342     		cmp	r3, r2
 2925 0020 17D2     		bcs	.L278
 2926              		.loc 1 1503 0 is_stmt 0 discriminator 1
 2927 0022 5A08     		lsrs	r2, r3, #1
 2928              	.L279:
 2929              		.loc 1 1503 0 discriminator 4
 2930 0024 A4F84A20 		strh	r2, [r4, #74]	@ movhi
1504:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1505:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* The minimum value for ssthresh should be 2 MSS */
1506:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     if (pcb->ssthresh < (2U * pcb->mss)) {
 2931              		.loc 1 1506 0 is_stmt 1 discriminator 4
 2932 0028 638E     		ldrh	r3, [r4, #50]
 2933 002a B2EB430F 		cmp	r2, r3, lsl #1
 2934 002e 02D2     		bcs	.L280
1507:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       LWIP_DEBUGF(TCP_FR_DEBUG,
1508:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                   ("tcp_receive: The minimum value for ssthresh %"TCPWNDSIZE_F
1509:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                    " should be min 2 mss %"U16_F"...\n",
1510:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                    pcb->ssthresh, (u16_t)(2*pcb->mss)));
1511:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       pcb->ssthresh = 2*pcb->mss;
 2935              		.loc 1 1511 0
 2936 0030 5A00     		lsls	r2, r3, #1
 2937 0032 A4F84A20 		strh	r2, [r4, #74]	@ movhi
 2938              	.L280:
1512:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1513:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1514:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->cwnd = pcb->ssthresh + 3 * pcb->mss;
 2939              		.loc 1 1514 0
 2940 0036 B4F84A20 		ldrh	r2, [r4, #74]
 2941 003a 03EB4303 		add	r3, r3, r3, lsl #1
 2942 003e 1344     		add	r3, r3, r2
 2943 0040 A4F84830 		strh	r3, [r4, #72]	@ movhi
1515:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->flags |= TF_INFR;
 2944              		.loc 1 1515 0
 2945 0044 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 2946 0046 43F00403 		orr	r3, r3, #4
 2947 004a A376     		strb	r3, [r4, #26]
1516:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1517:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Reset the retransmission timer to prevent immediate rto retransmissions */
1518:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->rtime = 0;
 2948              		.loc 1 1518 0
 2949 004c 0023     		movs	r3, #0
 2950 004e 2386     		strh	r3, [r4, #48]	@ movhi
1519:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1520:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 2951              		.loc 1 1520 0
 2952 0050 10BD     		pop	{r4, pc}
 2953              	.LVL353:
 2954              	.L278:
1503:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
 2955              		.loc 1 1503 0 discriminator 2
 2956 0052 5208     		lsrs	r2, r2, #1
 2957 0054 E6E7     		b	.L279
 2958              		.cfi_endproc
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 86


 2959              	.LFE155:
 2961              		.section	.text.tcp_keepalive,"ax",%progbits
 2962              		.align	1
 2963              		.global	tcp_keepalive
 2964              		.syntax unified
 2965              		.thumb
 2966              		.thumb_func
 2967              		.fpu fpv4-sp-d16
 2969              	tcp_keepalive:
 2970              	.LFB156:
1521:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1522:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1523:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1524:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Send keepalive packets to keep a connection active although
1525:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * no data is sent over it.
1526:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1527:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_slowtmr()
1528:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1529:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb for which to send a keepalive packet
1530:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1531:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
1532:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_keepalive(struct tcp_pcb *pcb)
1533:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 2971              		.loc 1 1533 0
 2972              		.cfi_startproc
 2973              		@ args = 0, pretend = 0, frame = 0
 2974              		@ frame_needed = 0, uses_anonymous_args = 0
 2975              	.LVL354:
 2976 0000 70B5     		push	{r4, r5, r6, lr}
 2977              	.LCFI30:
 2978              		.cfi_def_cfa_offset 16
 2979              		.cfi_offset 4, -16
 2980              		.cfi_offset 5, -12
 2981              		.cfi_offset 6, -8
 2982              		.cfi_offset 14, -4
 2983 0002 84B0     		sub	sp, sp, #16
 2984              	.LCFI31:
 2985              		.cfi_def_cfa_offset 32
 2986 0004 0446     		mov	r4, r0
1534:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
1535:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
1536:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct netif *netif;
1537:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1538:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_keepalive: sending KEEPALIVE probe to "));
1539:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   ip_addr_debug_print(TCP_DEBUG, &pcb->remote_ip);
1540:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("\n"));
1541:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1542:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_keepalive: tcp_ticks %"U32_F"   pcb->tmr %"U32_F" pcb->keep_cnt_sent
1543:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                           tcp_ticks, pcb->tmr, (u16_t)pcb->keep_cnt_sent));
1544:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1545:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   p = tcp_output_alloc_header(pcb, 0, 0, lwip_htonl(pcb->snd_nxt - 1));
 2987              		.loc 1 1545 0
 2988 0006 C06C     		ldr	r0, [r0, #76]
 2989              	.LVL355:
 2990 0008 0138     		subs	r0, r0, #1
 2991 000a FFF7FEFF 		bl	lwip_htonl
 2992              	.LVL356:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 87


 2993 000e 0346     		mov	r3, r0
 2994 0010 0022     		movs	r2, #0
 2995 0012 1146     		mov	r1, r2
 2996 0014 2046     		mov	r0, r4
 2997 0016 FFF7FEFF 		bl	tcp_output_alloc_header
 2998              	.LVL357:
1546:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 2999              		.loc 1 1546 0
 3000 001a D0B1     		cbz	r0, .L289
 3001 001c 0546     		mov	r5, r0
1547:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_DEBUG,
1548:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                 ("tcp_keepalive: could not allocate memory for pbuf\n"));
1549:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
1550:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1551:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   netif = ip_route(&pcb->local_ip, &pcb->remote_ip);
 3002              		.loc 1 1551 0
 3003 001e 261D     		adds	r6, r4, #4
 3004 0020 3046     		mov	r0, r6
 3005              	.LVL358:
 3006 0022 FFF7FEFF 		bl	ip4_route
 3007              	.LVL359:
1552:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif == NULL) {
 3008              		.loc 1 1552 0
 3009 0026 88B1     		cbz	r0, .L290
1553:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ERR_RTE;
1554:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
1555:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if CHECKSUM_GEN_TCP
1556:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_TCP) {
1557:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       struct tcp_hdr *tcphdr = (struct tcp_hdr *)p->payload;
1558:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       tcphdr->chksum = ip_chksum_pseudo(p, IP_PROTO_TCP, p->tot_len,
1559:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         &pcb->local_ip, &pcb->remote_ip);
1560:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1561:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif /* CHECKSUM_GEN_TCP */
1562:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.xmit);
1563:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1564:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Send output to IP */
1565:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     NETIF_SET_HWADDRHINT(netif, &(pcb->addr_hint));
1566:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ip_output_if(p, &pcb->local_ip, &pcb->remote_ip, pcb->ttl, 0, IP_PROTO_TCP, netif);
 3010              		.loc 1 1566 0
 3011 0028 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 3012 002a 0290     		str	r0, [sp, #8]
 3013 002c 0622     		movs	r2, #6
 3014 002e 0192     		str	r2, [sp, #4]
 3015 0030 0022     		movs	r2, #0
 3016 0032 0092     		str	r2, [sp]
 3017 0034 3246     		mov	r2, r6
 3018 0036 2146     		mov	r1, r4
 3019 0038 2846     		mov	r0, r5
 3020              	.LVL360:
 3021 003a FFF7FEFF 		bl	ip4_output_if
 3022              	.LVL361:
 3023 003e 0446     		mov	r4, r0
 3024              	.LVL362:
 3025              	.L288:
1567:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     NETIF_SET_HWADDRHINT(netif, NULL);
1568:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1569:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pbuf_free(p);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 88


 3026              		.loc 1 1569 0
 3027 0040 2846     		mov	r0, r5
 3028 0042 FFF7FEFF 		bl	pbuf_free
 3029              	.LVL363:
 3030              	.L287:
1570:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1571:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_keepalive: seqno %"U32_F" ackno %"U32_F" err %d.\n",
1572:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                           pcb->snd_nxt - 1, pcb->rcv_nxt, (int)err));
1573:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return err;
1574:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 3031              		.loc 1 1574 0
 3032 0046 2046     		mov	r0, r4
 3033 0048 04B0     		add	sp, sp, #16
 3034              	.LCFI32:
 3035              		.cfi_remember_state
 3036              		.cfi_def_cfa_offset 16
 3037              		@ sp needed
 3038 004a 70BD     		pop	{r4, r5, r6, pc}
 3039              	.LVL364:
 3040              	.L290:
 3041              	.LCFI33:
 3042              		.cfi_restore_state
1553:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 3043              		.loc 1 1553 0
 3044 004c 6FF00304 		mvn	r4, #3
 3045              	.LVL365:
 3046 0050 F6E7     		b	.L288
 3047              	.LVL366:
 3048              	.L289:
1549:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 3049              		.loc 1 1549 0
 3050 0052 4FF0FF34 		mov	r4, #-1
 3051              	.LVL367:
 3052 0056 F6E7     		b	.L287
 3053              		.cfi_endproc
 3054              	.LFE156:
 3056              		.section	.text.tcp_zero_window_probe,"ax",%progbits
 3057              		.align	1
 3058              		.global	tcp_zero_window_probe
 3059              		.syntax unified
 3060              		.thumb
 3061              		.thumb_func
 3062              		.fpu fpv4-sp-d16
 3064              	tcp_zero_window_probe:
 3065              	.LFB157:
1575:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1576:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1577:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** /**
1578:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Send persist timer zero-window probes to keep a connection active
1579:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * when a window update is lost.
1580:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1581:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * Called by tcp_slowtmr()
1582:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  *
1583:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  * @param pcb the tcp_pcb for which to send a zero-window probe packet
1584:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****  */
1585:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** err_t
1586:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** tcp_zero_window_probe(struct tcp_pcb *pcb)
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 89


1587:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** {
 3066              		.loc 1 1587 0
 3067              		.cfi_startproc
 3068              		@ args = 0, pretend = 0, frame = 0
 3069              		@ frame_needed = 0, uses_anonymous_args = 0
 3070              	.LVL368:
 3071 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3072              	.LCFI34:
 3073              		.cfi_def_cfa_offset 24
 3074              		.cfi_offset 4, -24
 3075              		.cfi_offset 5, -20
 3076              		.cfi_offset 6, -16
 3077              		.cfi_offset 7, -12
 3078              		.cfi_offset 8, -8
 3079              		.cfi_offset 14, -4
 3080 0004 84B0     		sub	sp, sp, #16
 3081              	.LCFI35:
 3082              		.cfi_def_cfa_offset 40
1588:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   err_t err;
1589:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct pbuf *p;
1590:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_hdr *tcphdr;
1591:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct tcp_seg *seg;
1592:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u16_t len;
1593:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u8_t is_fin;
1594:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   u32_t snd_nxt;
1595:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   struct netif *netif;
1596:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1597:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_zero_window_probe: sending ZERO WINDOW probe to "));
1598:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   ip_addr_debug_print(TCP_DEBUG, &pcb->remote_ip);
1599:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("\n"));
1600:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1601:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG,
1602:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****               ("tcp_zero_window_probe: tcp_ticks %"U32_F
1603:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                "   pcb->tmr %"U32_F" pcb->keep_cnt_sent %"U16_F"\n",
1604:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                tcp_ticks, pcb->tmr, (u16_t)pcb->keep_cnt_sent));
1605:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1606:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   seg = pcb->unacked;
 3083              		.loc 1 1606 0
 3084 0006 C56E     		ldr	r5, [r0, #108]
 3085              	.LVL369:
1607:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1608:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg == NULL) {
 3086              		.loc 1 1608 0
 3087 0008 75B1     		cbz	r5, .L306
 3088              	.L293:
1609:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg = pcb->unsent;
1610:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1611:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (seg == NULL) {
 3089              		.loc 1 1611 0
 3090 000a 002D     		cmp	r5, #0
 3091 000c 5DD0     		beq	.L300
 3092 000e 0446     		mov	r4, r0
1612:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* nothing to send, zero window probe not needed */
1613:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_OK;
1614:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1615:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1616:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   is_fin = ((TCPH_FLAGS(seg->tcphdr) & TCP_FIN) != 0) && (seg->len == 0);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 90


 3093              		.loc 1 1616 0
 3094 0010 EB68     		ldr	r3, [r5, #12]
 3095 0012 9889     		ldrh	r0, [r3, #12]	@ unaligned
 3096              	.LVL370:
 3097 0014 FFF7FEFF 		bl	lwip_htons
 3098              	.LVL371:
 3099 0018 10F0010F 		tst	r0, #1
 3100 001c 06D0     		beq	.L301
 3101              		.loc 1 1616 0 is_stmt 0 discriminator 1
 3102 001e 2B89     		ldrh	r3, [r5, #8]
 3103 0020 002B     		cmp	r3, #0
 3104 0022 40D0     		beq	.L302
 3105              		.loc 1 1616 0
 3106 0024 0022     		movs	r2, #0
 3107 0026 02E0     		b	.L295
 3108              	.LVL372:
 3109              	.L306:
1609:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     seg = pcb->unsent;
 3110              		.loc 1 1609 0 is_stmt 1
 3111 0028 856E     		ldr	r5, [r0, #104]
 3112              	.LVL373:
 3113 002a EEE7     		b	.L293
 3114              	.LVL374:
 3115              	.L301:
 3116              		.loc 1 1616 0
 3117 002c 0022     		movs	r2, #0
 3118              	.L295:
 3119              	.LVL375:
1617:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* we want to send one seqno: either FIN or data (no options) */
1618:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   len = is_fin ? 0 : 1;
 3120              		.loc 1 1618 0 discriminator 6
 3121 002e 02F0FF06 		and	r6, r2, #255
 3122              	.LVL376:
1619:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1620:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   p = tcp_output_alloc_header(pcb, 0, len, seg->tcphdr->seqno);
 3123              		.loc 1 1620 0 discriminator 6
 3124 0032 EB68     		ldr	r3, [r5, #12]
 3125 0034 5B68     		ldr	r3, [r3, #4]	@ unaligned
 3126 0036 82F00102 		eor	r2, r2, #1
 3127              	.LVL377:
 3128 003a 0021     		movs	r1, #0
 3129 003c 2046     		mov	r0, r4
 3130 003e FFF7FEFF 		bl	tcp_output_alloc_header
 3131              	.LVL378:
1621:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (p == NULL) {
 3132              		.loc 1 1621 0 discriminator 6
 3133 0042 0746     		mov	r7, r0
 3134 0044 0028     		cmp	r0, #0
 3135 0046 42D0     		beq	.L303
1622:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_zero_window_probe: no memory for pbuf\n"));
1623:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     return ERR_MEM;
1624:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1625:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   tcphdr = (struct tcp_hdr *)p->payload;
 3136              		.loc 1 1625 0
 3137 0048 D0F80480 		ldr	r8, [r0, #4]
 3138              	.LVL379:
1626:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 91


1627:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (is_fin) {
 3139              		.loc 1 1627 0
 3140 004c 6EB3     		cbz	r6, .L296
1628:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* FIN segment, no data */
1629:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCPH_FLAGS_SET(tcphdr, TCP_ACK | TCP_FIN);
 3141              		.loc 1 1629 0
 3142 004e B8F80C60 		ldrh	r6, [r8, #12]	@ unaligned
 3143 0052 26F47C56 		bic	r6, r6, #16128
 3144 0056 B6B2     		uxth	r6, r6
 3145 0058 1120     		movs	r0, #17
 3146              	.LVL380:
 3147 005a FFF7FEFF 		bl	lwip_htons
 3148              	.LVL381:
 3149 005e 3043     		orrs	r0, r0, r6
 3150 0060 A8F80C00 		strh	r0, [r8, #12]	@ unaligned
 3151              	.L297:
1630:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
1631:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Data segment, copy in one byte from the head of the unacked queue */
1632:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     char *d = ((char *)p->payload + TCP_HLEN);
1633:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Depending on whether the segment has already been sent (unacked) or not
1634:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        (unsent), seg->p->payload points to the IP header or TCP header.
1635:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****        Ensure we copy the first TCP data byte: */
1636:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pbuf_copy_partial(seg->p, d, 1, seg->p->tot_len - seg->len);
1637:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1638:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1639:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* The byte may be acknowledged without the window being opened. */
1640:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   snd_nxt = lwip_ntohl(seg->tcphdr->seqno) + 1;
 3152              		.loc 1 1640 0
 3153 0064 EB68     		ldr	r3, [r5, #12]
 3154 0066 5868     		ldr	r0, [r3, #4]	@ unaligned
 3155 0068 FFF7FEFF 		bl	lwip_htonl
 3156              	.LVL382:
 3157 006c 0130     		adds	r0, r0, #1
 3158              	.LVL383:
1641:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (TCP_SEQ_LT(pcb->snd_nxt, snd_nxt)) {
 3159              		.loc 1 1641 0
 3160 006e E36C     		ldr	r3, [r4, #76]
 3161 0070 1B1A     		subs	r3, r3, r0
 3162 0072 002B     		cmp	r3, #0
 3163 0074 24DB     		blt	.L307
 3164              	.L298:
1642:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     pcb->snd_nxt = snd_nxt;
1643:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1644:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1645:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   netif = ip_route(&pcb->local_ip, &pcb->remote_ip);
 3165              		.loc 1 1645 0
 3166 0076 251D     		adds	r5, r4, #4
 3167              	.LVL384:
 3168 0078 2846     		mov	r0, r5
 3169              	.LVL385:
 3170 007a FFF7FEFF 		bl	ip4_route
 3171              	.LVL386:
1646:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   if (netif == NULL) {
 3172              		.loc 1 1646 0
 3173 007e 08B3     		cbz	r0, .L304
1647:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ERR_RTE;
1648:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 92


1649:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #if CHECKSUM_GEN_TCP
1650:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_TCP) {
1651:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       tcphdr->chksum = ip_chksum_pseudo(p, IP_PROTO_TCP, p->tot_len,
1652:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****         &pcb->local_ip, &pcb->remote_ip);
1653:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     }
1654:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** #endif
1655:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     TCP_STATS_INC(tcp.xmit);
1656:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1657:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     /* Send output to IP */
1658:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     NETIF_SET_HWADDRHINT(netif, &(pcb->addr_hint));
1659:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     err = ip_output_if(p, &pcb->local_ip, &pcb->remote_ip, pcb->ttl,
 3174              		.loc 1 1659 0
 3175 0080 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 3176 0082 0290     		str	r0, [sp, #8]
 3177 0084 0622     		movs	r2, #6
 3178 0086 0192     		str	r2, [sp, #4]
 3179 0088 0022     		movs	r2, #0
 3180 008a 0092     		str	r2, [sp]
 3181 008c 2A46     		mov	r2, r5
 3182 008e 2146     		mov	r1, r4
 3183 0090 3846     		mov	r0, r7
 3184              	.LVL387:
 3185 0092 FFF7FEFF 		bl	ip4_output_if
 3186              	.LVL388:
 3187 0096 0446     		mov	r4, r0
 3188              	.LVL389:
 3189              	.L299:
1660:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****       0, IP_PROTO_TCP, netif);
1661:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****     NETIF_SET_HWADDRHINT(netif, NULL);
1662:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
1663:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1664:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   pbuf_free(p);
 3190              		.loc 1 1664 0
 3191 0098 3846     		mov	r0, r7
 3192 009a FFF7FEFF 		bl	pbuf_free
 3193              	.LVL390:
 3194              	.L294:
1665:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** 
1666:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_zero_window_probe: seqno %"U32_F
1667:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                           " ackno %"U32_F" err %d.\n",
1668:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****                           pcb->snd_nxt - 1, pcb->rcv_nxt, (int)err));
1669:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   return err;
1670:Middlewares/Third_Party/LwIP/src/core/tcp_out.c **** }
 3195              		.loc 1 1670 0
 3196 009e 2046     		mov	r0, r4
 3197 00a0 04B0     		add	sp, sp, #16
 3198              	.LCFI36:
 3199              		.cfi_remember_state
 3200              		.cfi_def_cfa_offset 24
 3201              		@ sp needed
 3202 00a2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3203              	.LVL391:
 3204              	.L302:
 3205              	.LCFI37:
 3206              		.cfi_restore_state
1616:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   /* we want to send one seqno: either FIN or data (no options) */
 3207              		.loc 1 1616 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 93


 3208 00a6 0122     		movs	r2, #1
 3209 00a8 C1E7     		b	.L295
 3210              	.LVL392:
 3211              	.L296:
 3212              	.LBB30:
1636:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 3213              		.loc 1 1636 0
 3214 00aa 6868     		ldr	r0, [r5, #4]
 3215              	.LVL393:
 3216 00ac 0389     		ldrh	r3, [r0, #8]
 3217 00ae 2A89     		ldrh	r2, [r5, #8]
 3218 00b0 9B1A     		subs	r3, r3, r2
 3219 00b2 9BB2     		uxth	r3, r3
 3220 00b4 0122     		movs	r2, #1
 3221 00b6 08F11401 		add	r1, r8, #20
 3222              	.LVL394:
 3223 00ba FFF7FEFF 		bl	pbuf_copy_partial
 3224              	.LVL395:
 3225 00be D1E7     		b	.L297
 3226              	.LVL396:
 3227              	.L307:
 3228              	.LBE30:
1642:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 3229              		.loc 1 1642 0
 3230 00c0 E064     		str	r0, [r4, #76]
 3231 00c2 D8E7     		b	.L298
 3232              	.LVL397:
 3233              	.L304:
1647:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   } else {
 3234              		.loc 1 1647 0
 3235 00c4 6FF00304 		mvn	r4, #3
 3236              	.LVL398:
 3237 00c8 E6E7     		b	.L299
 3238              	.LVL399:
 3239              	.L300:
1613:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 3240              		.loc 1 1613 0
 3241 00ca 0024     		movs	r4, #0
 3242 00cc E7E7     		b	.L294
 3243              	.LVL400:
 3244              	.L303:
1623:Middlewares/Third_Party/LwIP/src/core/tcp_out.c ****   }
 3245              		.loc 1 1623 0
 3246 00ce 4FF0FF34 		mov	r4, #-1
 3247              	.LVL401:
 3248 00d2 E4E7     		b	.L294
 3249              		.cfi_endproc
 3250              	.LFE157:
 3252              		.section	.rodata.tcp_create_segment.str1.4,"aMS",%progbits,1
 3253              		.align	2
 3254              	.LC5:
 3255 0000 702D3E74 		.ascii	"p->tot_len >= optlen\000"
 3255      6F745F6C 
 3255      656E203E 
 3255      3D206F70 
 3255      746C656E 
 3256              		.section	.rodata.tcp_enqueue_flags.str1.4,"aMS",%progbits,1
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 94


 3257              		.align	2
 3258              	.LC19:
 3259 0000 7463705F 		.ascii	"tcp_enqueue_flags: need either TCP_SYN or TCP_FIN i"
 3259      656E7175 
 3259      6575655F 
 3259      666C6167 
 3259      733A206E 
 3260 0033 6E20666C 		.ascii	"n flags (programmer violates API)\000"
 3260      61677320 
 3260      2870726F 
 3260      6772616D 
 3260      6D657220 
 3261 0055 000000   		.space	3
 3262              	.LC20:
 3263 0058 7463705F 		.ascii	"tcp_enqueue_flags: check that first pbuf can hold o"
 3263      656E7175 
 3263      6575655F 
 3263      666C6167 
 3263      733A2063 
 3264 008b 70746C65 		.ascii	"ptlen\000"
 3264      6E00
 3265 0091 000000   		.space	3
 3266              	.LC21:
 3267 0094 7365672D 		.ascii	"seg->tcphdr not aligned\000"
 3267      3E746370 
 3267      68647220 
 3267      6E6F7420 
 3267      616C6967 
 3268              	.LC22:
 3269 00ac 7463705F 		.ascii	"tcp_enqueue_flags: invalid segment length\000"
 3269      656E7175 
 3269      6575655F 
 3269      666C6167 
 3269      733A2069 
 3270 00d6 0000     		.space	2
 3271              	.LC23:
 3272 00d8 7463705F 		.ascii	"tcp_enqueue_flags: invalid queue length\000"
 3272      656E7175 
 3272      6575655F 
 3272      666C6167 
 3272      733A2069 
 3273              		.section	.rodata.tcp_output.str1.4,"aMS",%progbits,1
 3274              		.align	2
 3275              	.LC24:
 3276 0000 646F6E27 		.ascii	"don't call tcp_output for listen-pcbs\000"
 3276      74206361 
 3276      6C6C2074 
 3276      63705F6F 
 3276      75747075 
 3277 0026 0000     		.space	2
 3278              	.LC25:
 3279 0028 52535420 		.ascii	"RST not expected here!\000"
 3279      6E6F7420 
 3279      65787065 
 3279      63746564 
 3279      20686572 
 3280              		.section	.rodata.tcp_output_alloc_header.str1.4,"aMS",%progbits,1
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 95


 3281              		.align	2
 3282              	.LC6:
 3283 0000 63686563 		.ascii	"check that first pbuf can hold struct tcp_hdr\000"
 3283      6B207468 
 3283      61742066 
 3283      69727374 
 3283      20706275 
 3284              		.section	.rodata.tcp_pbuf_prealloc.str1.4,"aMS",%progbits,1
 3285              		.align	2
 3286              	.LC4:
 3287 0000 6E656564 		.ascii	"need unchained pbuf\000"
 3287      20756E63 
 3287      6861696E 
 3287      65642070 
 3287      62756600 
 3288              		.section	.rodata.tcp_write.str1.4,"aMS",%progbits,1
 3289              		.align	2
 3290              	.LC7:
 3291 0000 7463705F 		.ascii	"tcp_write: arg == NULL (programmer violates API)\000"
 3291      77726974 
 3291      653A2061 
 3291      7267203D 
 3291      3D204E55 
 3292 0031 000000   		.space	3
 3293              	.LC8:
 3294 0034 6D73735F 		.ascii	"mss_local is too small\000"
 3294      6C6F6361 
 3294      6C206973 
 3294      20746F6F 
 3294      20736D61 
 3295 004b 00       		.space	1
 3296              	.LC9:
 3297 004c 696E636F 		.ascii	"inconsistent oversize vs. space\000"
 3297      6E736973 
 3297      74656E74 
 3297      206F7665 
 3297      7273697A 
 3298              	.LC10:
 3299 006c 696E636F 		.ascii	"inconsistent oversize vs. len\000"
 3299      6E736973 
 3299      74656E74 
 3299      206F7665 
 3299      7273697A 
 3300 008a 0000     		.space	2
 3301              	.LC11:
 3302 008c 7463705F 		.ascii	"tcp_write: ROM pbufs cannot be oversized\000"
 3302      77726974 
 3302      653A2052 
 3302      4F4D2070 
 3302      62756673 
 3303 00b5 000000   		.space	3
 3304              	.LC12:
 3305 00b8 756E7365 		.ascii	"unsent_oversize mismatch (pcb->unsent is NULL)\000"
 3305      6E745F6F 
 3305      76657273 
 3305      697A6520 
 3305      6D69736D 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 96


 3306 00e7 00       		.space	1
 3307              	.LC13:
 3308 00e8 7463705F 		.ascii	"tcp_write: check that first pbuf can hold the compl"
 3308      77726974 
 3308      653A2063 
 3308      6865636B 
 3308      20746861 
 3309 011b 65746520 		.ascii	"ete seglen\000"
 3309      7365676C 
 3309      656E00
 3310 0126 0000     		.space	2
 3311              	.LC14:
 3312 0128 6F766572 		.ascii	"oversize == 0\000"
 3312      73697A65 
 3312      203D3D20 
 3312      3000
 3313 0136 0000     		.space	2
 3314              	.LC15:
 3315 0138 70726576 		.ascii	"prev_seg != NULL\000"
 3315      5F736567 
 3315      20213D20 
 3315      4E554C4C 
 3315      00
 3316 0149 000000   		.space	3
 3317              	.LC16:
 3318 014c 7463705F 		.ascii	"tcp_write: cannot concatenate when pcb->unsent is e"
 3318      77726974 
 3318      653A2063 
 3318      616E6E6F 
 3318      7420636F 
 3319 017f 6D707479 		.ascii	"mpty\000"
 3319      00
 3320              	.LC17:
 3321 0184 7463705F 		.ascii	"tcp_write: extension of reference requires referenc"
 3321      77726974 
 3321      653A2065 
 3321      7874656E 
 3321      73696F6E 
 3322 01b7 6500     		.ascii	"e\000"
 3323 01b9 000000   		.space	3
 3324              	.LC18:
 3325 01bc 7463705F 		.ascii	"tcp_write: valid queue length\000"
 3325      77726974 
 3325      653A2076 
 3325      616C6964 
 3325      20717565 
 3326              		.section	.rodata.tcp_write_checks.str1.4,"aMS",%progbits,1
 3327              		.align	2
 3328              	.LC0:
 3329 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/tcp_out.c\000"
 3329      6C657761 
 3329      7265732F 
 3329      54686972 
 3329      645F5061 
 3330              	.LC1:
 3331 0030 7463705F 		.ascii	"tcp_write: pbufs on queue => at least one queue non"
 3331      77726974 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 97


 3331      653A2070 
 3331      62756673 
 3331      206F6E20 
 3332 0063 2D656D70 		.ascii	"-empty\000"
 3332      747900
 3333 006a 0000     		.space	2
 3334              	.LC2:
 3335 006c 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 3335      7274696F 
 3335      6E202225 
 3335      73222066 
 3335      61696C65 
 3336              	.LC3:
 3337 0094 7463705F 		.ascii	"tcp_write: no pbufs on queue => both queues empty\000"
 3337      77726974 
 3337      653A206E 
 3337      6F207062 
 3337      75667320 
 3338              		.text
 3339              	.Letext0:
 3340              		.file 2 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/machine/_defau
 3341              		.file 3 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/_stdint.h"
 3342              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 3343              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 3344              		.file 6 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/lock.h"
 3345              		.file 7 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/_types.h"
 3346              		.file 8 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/lib/gcc/arm-none-eabi/7.2.1/include/
 3347              		.file 9 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/reent.h"
 3348              		.file 10 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/stdlib.h"
 3349              		.file 11 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/time.h"
 3350              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 3351              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 3352              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 3353              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 3354              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 3355              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 3356              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 3357              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 3358              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 3359              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 3360              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 3361              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/tcp_priv.h"
 3362              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/tcp.h"
 3363              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
 3364              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4.h"
 3365              		.file 27 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/stdio.h"
 3366              		.file 28 "<built-in>"
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 98


DEFINED SYMBOLS
                            *ABS*:0000000000000000 tcp_out.c
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:18     .text.tcp_write_checks:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:24     .text.tcp_write_checks:0000000000000000 tcp_write_checks
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:159    .text.tcp_write_checks:0000000000000094 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:167    .text.tcp_pbuf_prealloc:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:173    .text.tcp_pbuf_prealloc:0000000000000000 tcp_pbuf_prealloc
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:270    .text.tcp_pbuf_prealloc:0000000000000074 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:277    .text.tcp_create_segment:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:283    .text.tcp_create_segment:0000000000000000 tcp_create_segment
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:416    .text.tcp_create_segment:00000000000000b0 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:423    .text.tcp_output_alloc_header:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:429    .text.tcp_output_alloc_header:0000000000000000 tcp_output_alloc_header
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:535    .text.tcp_output_alloc_header:0000000000000088 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:542    .text.tcp_output_segment:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:548    .text.tcp_output_segment:0000000000000000 tcp_output_segment
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:704    .text.tcp_output_segment:00000000000000b8 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:709    .text.tcp_write:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:716    .text.tcp_write:0000000000000000 tcp_write
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:1299   .text.tcp_write:0000000000000300 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:1313   .text.tcp_write:0000000000000328 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:1648   .text.tcp_write:0000000000000508 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:1658   .text.tcp_enqueue_flags:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:1665   .text.tcp_enqueue_flags:0000000000000000 tcp_enqueue_flags
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:1911   .text.tcp_enqueue_flags:000000000000013c $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:1922   .text.tcp_send_fin:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:1929   .text.tcp_send_fin:0000000000000000 tcp_send_fin
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:2002   .text.tcp_send_empty_ack:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:2009   .text.tcp_send_empty_ack:0000000000000000 tcp_send_empty_ack
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:2113   .text.tcp_output:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:2120   .text.tcp_output:0000000000000000 tcp_output
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:2567   .text.tcp_output:000000000000026c $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:2577   .text.tcp_rst:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:2584   .text.tcp_rst:0000000000000000 tcp_rst
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:2714   .text.tcp_rst:00000000000000a0 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:2721   .text.tcp_rexmit_rto:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:2728   .text.tcp_rexmit_rto:0000000000000000 tcp_rexmit_rto
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:2794   .text.tcp_rexmit:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:2801   .text.tcp_rexmit:0000000000000000 tcp_rexmit
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:2887   .text.tcp_rexmit_fast:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:2894   .text.tcp_rexmit_fast:0000000000000000 tcp_rexmit_fast
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:2962   .text.tcp_keepalive:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:2969   .text.tcp_keepalive:0000000000000000 tcp_keepalive
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:3057   .text.tcp_zero_window_probe:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:3064   .text.tcp_zero_window_probe:0000000000000000 tcp_zero_window_probe
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:3253   .rodata.tcp_create_segment.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:3257   .rodata.tcp_enqueue_flags.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:3274   .rodata.tcp_output.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:3281   .rodata.tcp_output_alloc_header.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:3285   .rodata.tcp_pbuf_prealloc.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:3289   .rodata.tcp_write.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s:3327   .rodata.tcp_write_checks.str1.4:0000000000000000 $d

UNDEFINED SYMBOLS
printf
pbuf_alloc
memp_malloc
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJMS9xr.s 			page 99


pbuf_header
lwip_htons
lwip_htonl
pbuf_free
tcp_seg_free
ip4_output_if
tcp_eff_send_mss_impl
tcp_ticks
memcpy
pbuf_clen
pbuf_cat
tcp_segs_free
ip4_route
tcp_input_pcb
pbuf_copy_partial

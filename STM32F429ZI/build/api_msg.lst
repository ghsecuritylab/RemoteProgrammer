ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"api_msg.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.recv_udp,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	recv_udp:
  25              	.LFB147:
  26              		.file 1 "Middlewares/Third_Party/LwIP/src/api/api_msg.c"
   1:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
   2:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Sequential API Internal module
   4:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
   5:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
   6:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
   7:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /*
   8:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
   9:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * All rights reserved.
  10:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  11:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Redistribution and use in source and binary forms, with or without modification,
  12:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * are permitted provided that the following conditions are met:
  13:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  14:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  15:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    this list of conditions and the following disclaimer.
  16:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  17:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    this list of conditions and the following disclaimer in the documentation
  18:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    and/or other materials provided with the distribution.
  19:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * 3. The name of the author may not be used to endorse or promote products
  20:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    derived from this software without specific prior written permission.
  21:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  22:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  23:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  24:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  25:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  26:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  27:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  30:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  31:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * OF SUCH DAMAGE.
  32:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 2


  33:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * This file is part of the lwIP TCP/IP stack.
  34:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  35:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Author: Adam Dunkels <adam@sics.se>
  36:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  37:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
  38:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  39:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/opt.h"
  40:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  41:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN /* don't build if not configured for use in lwipopts.h */
  42:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  43:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/priv/api_msg.h"
  44:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  45:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/ip.h"
  46:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/ip_addr.h"
  47:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/udp.h"
  48:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/tcp.h"
  49:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/raw.h"
  50:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  51:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/memp.h"
  52:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/igmp.h"
  53:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/dns.h"
  54:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/mld6.h"
  55:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/priv/tcpip_priv.h"
  56:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  57:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include <string.h>
  58:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  59:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /* netconns are polled once per second (e.g. continue write on memory error) */
  60:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define NETCONN_TCP_POLL_INTERVAL 2
  61:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  62:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define SET_NONBLOCKING_CONNECT(conn, val)  do { if (val) { \
  63:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   (conn)->flags |= NETCONN_FLAG_IN_NONBLOCKING_CONNECT; \
  64:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** } else { \
  65:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   (conn)->flags &= ~ NETCONN_FLAG_IN_NONBLOCKING_CONNECT; }} while(0)
  66:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define IN_NONBLOCKING_CONNECT(conn) (((conn)->flags & NETCONN_FLAG_IN_NONBLOCKING_CONNECT) != 0)
  67:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  68:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /* forward declarations */
  69:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
  70:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
  71:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED         , 1
  72:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED_PARAM   , u8_t delayed
  73:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
  74:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED
  75:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED_PARAM
  76:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
  77:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t lwip_netconn_do_writemore(struct netconn *conn  WRITE_DELAYED_PARAM);
  78:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t lwip_netconn_do_close_internal(struct netconn *conn  WRITE_DELAYED_PARAM);
  79:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
  80:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  81:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
  82:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define TCPIP_APIMSG_ACK(m)   NETCONN_SET_SAFE_ERR((m)->conn, (m)->err)
  83:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
  84:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define TCPIP_APIMSG_ACK(m)   do { NETCONN_SET_SAFE_ERR((m)->conn, (m)->err); sys_sem_signal(LWIP_A
  85:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
  86:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  87:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
  88:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** u8_t netconn_aborted;
  89:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 3


  90:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  91:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
  92:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
  93:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Receive callback function for RAW netconns.
  94:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Doesn't 'eat' the packet, only copies it and sends it to
  95:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * conn->recvmbox
  96:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  97:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see raw.h (struct raw_pcb.recv) for parameters and return value
  98:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
  99:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static u8_t
 100:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** recv_raw(void *arg, struct raw_pcb *pcb, struct pbuf *p,
 101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     const ip_addr_t *addr)
 102:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 103:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct pbuf *q;
 104:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netbuf *buf;
 105:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 106:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 107:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(addr);
 108:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 109:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 110:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((conn != NULL) && sys_mbox_valid(&conn->recvmbox)) {
 111:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 112:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     int recv_avail;
 113:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_GET(conn->recv_avail, recv_avail);
 114:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((recv_avail + (int)(p->tot_len)) > conn->recv_bufsize) {
 115:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return 0;
 116:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 117:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* copy the whole packet into new pbufs */
 119:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     q = pbuf_alloc(PBUF_RAW, p->tot_len, PBUF_RAM);
 120:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (q != NULL) {
 121:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (pbuf_copy(q, p) != ERR_OK) {
 122:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         pbuf_free(q);
 123:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         q = NULL;
 124:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 126:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 127:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (q != NULL) {
 128:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       u16_t len;
 129:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf = (struct netbuf *)memp_malloc(MEMP_NETBUF);
 130:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (buf == NULL) {
 131:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         pbuf_free(q);
 132:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return 0;
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 134:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 135:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->p = q;
 136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->ptr = q;
 137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(buf->addr, *ip_current_src_addr());
 138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->port = pcb->protocol;
 139:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 140:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       len = q->tot_len;
 141:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (sys_mbox_trypost(&conn->recvmbox, buf) != ERR_OK) {
 142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netbuf_delete(buf);
 143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return 0;
 144:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 145:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         SYS_ARCH_INC(conn->recv_avail, len);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 4


 147:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 148:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Register event with callback */
 149:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 150:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 151:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 152:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 153:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 154:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return 0; /* do not eat the packet */
 155:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 156:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW*/
 157:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 158:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
 159:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 160:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Receive callback function for UDP netconns.
 161:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Posts the packet to conn->recvmbox or deletes it on memory error.
 162:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 163:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see udp.h (struct udp_pcb.recv) for parameters
 164:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 165:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 166:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** recv_udp(void *arg, struct udp_pcb *pcb, struct pbuf *p,
 167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****    const ip_addr_t *addr, u16_t port)
 168:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
  27              		.loc 1 168 0
  28              		.cfi_startproc
  29              		@ args = 4, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              	.LVL0:
  32 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 24
  35              		.cfi_offset 4, -24
  36              		.cfi_offset 5, -20
  37              		.cfi_offset 6, -16
  38              		.cfi_offset 7, -12
  39              		.cfi_offset 8, -8
  40              		.cfi_offset 14, -4
  41 0004 0446     		mov	r4, r0
  42 0006 1546     		mov	r5, r2
  43 0008 9846     		mov	r8, r3
 169:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netbuf *buf;
 170:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 171:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len;
 172:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int recv_avail;
 174:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 175:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 176:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb); /* only used for asserts... */
 177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have a pcb argument", pcb != NULL);
  44              		.loc 1 177 0
  45 000a 0E46     		mov	r6, r1
  46 000c 79B3     		cbz	r1, .L13
  47              	.LVL1:
  48              	.L2:
 178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
  49              		.loc 1 178 0
  50 000e 002C     		cmp	r4, #0
  51 0010 34D0     		beq	.L14
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 5


  52              	.L3:
  53              	.LVL2:
 179:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 180:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 181:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
  54              		.loc 1 181 0
  55 0012 002C     		cmp	r4, #0
  56 0014 39D0     		beq	.L15
 182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
 183:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 184:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 185:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 186:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp: recv for wrong pcb!", conn->pcb.udp == pcb);
  57              		.loc 1 186 0
  58 0016 6368     		ldr	r3, [r4, #4]
  59 0018 B342     		cmp	r3, r6
  60 001a 05D0     		beq	.L6
  61              		.loc 1 186 0 is_stmt 0 discriminator 1
  62 001c 244B     		ldr	r3, .L19
  63 001e BA22     		movs	r2, #186
  64 0020 2449     		ldr	r1, .L19+4
  65 0022 2548     		ldr	r0, .L19+8
  66 0024 FFF7FEFF 		bl	printf
  67              	.LVL3:
  68              	.L6:
 187:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 188:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 189:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_GET(conn->recv_avail, recv_avail);
 190:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!sys_mbox_valid(&conn->recvmbox) ||
 191:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((recv_avail + (int)(p->tot_len)) > conn->recv_bufsize)) {
 192:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else  /* LWIP_SO_RCVBUF */
 193:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!sys_mbox_valid(&conn->recvmbox)) {
  69              		.loc 1 193 0 is_stmt 1
  70 0028 04F11007 		add	r7, r4, #16
  71 002c 3846     		mov	r0, r7
  72 002e FFF7FEFF 		bl	sys_mbox_valid
  73              	.LVL4:
  74 0032 70B3     		cbz	r0, .L16
 194:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 195:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
 196:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 197:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 198:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 199:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   buf = (struct netbuf *)memp_malloc(MEMP_NETBUF);
  75              		.loc 1 199 0
  76 0034 0620     		movs	r0, #6
  77 0036 FFF7FEFF 		bl	memp_malloc
  78              	.LVL5:
 200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (buf == NULL) {
  79              		.loc 1 200 0
  80 003a 0646     		mov	r6, r0
  81              	.LVL6:
  82 003c 70B3     		cbz	r0, .L17
 201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
 202:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 204:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->p = p;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 6


  83              		.loc 1 204 0
  84 003e 0560     		str	r5, [r0]
 205:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->ptr = p;
  85              		.loc 1 205 0
  86 0040 4560     		str	r5, [r0, #4]
 206:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     ip_addr_set(&buf->addr, addr);
  87              		.loc 1 206 0
  88 0042 B8F1000F 		cmp	r8, #0
  89 0046 2DD0     		beq	.L11
  90              		.loc 1 206 0 is_stmt 0 discriminator 1
  91 0048 D8F80030 		ldr	r3, [r8]
  92              	.L9:
  93              		.loc 1 206 0 discriminator 4
  94 004c B360     		str	r3, [r6, #8]
 207:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->port = port;
  95              		.loc 1 207 0 is_stmt 1 discriminator 4
  96 004e BDF81830 		ldrh	r3, [sp, #24]
  97 0052 B381     		strh	r3, [r6, #12]	@ movhi
 208:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETBUF_RECVINFO
 209:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
 210:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* get the UDP header - always in the first pbuf, ensured by udp_input */
 211:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       const struct udp_hdr* udphdr = (const struct udp_hdr*)ip_next_header_ptr();
 212:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_CHECKSUM_ON_COPY
 213:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->flags = NETBUF_FLAG_DESTADDR;
 214:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
 215:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_set(&buf->toaddr, ip_current_dest_addr());
 216:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->toport_chksum = udphdr->dest;
 217:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 218:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETBUF_RECVINFO */
 219:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 220:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   len = p->tot_len;
  98              		.loc 1 221 0 discriminator 4
  99 0054 2D89     		ldrh	r5, [r5, #8]
 100              	.LVL7:
 222:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_trypost(&conn->recvmbox, buf) != ERR_OK) {
 101              		.loc 1 222 0 discriminator 4
 102 0056 3146     		mov	r1, r6
 103 0058 3846     		mov	r0, r7
 104              	.LVL8:
 105 005a FFF7FEFF 		bl	sys_mbox_trypost
 106              	.LVL9:
 107 005e 18BB     		cbnz	r0, .L18
 223:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netbuf_delete(buf);
 224:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 225:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 226:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 227:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_INC(conn->recv_avail, len);
 228:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Register event with callback */
 230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 108              		.loc 1 230 0
 109 0060 A36A     		ldr	r3, [r4, #40]
 110 0062 CBB1     		cbz	r3, .L1
 111              		.loc 1 230 0 is_stmt 0 discriminator 1
 112 0064 2A46     		mov	r2, r5
 113 0066 0021     		movs	r1, #0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 7


 114 0068 2046     		mov	r0, r4
 115 006a 9847     		blx	r3
 116              	.LVL10:
 117 006c 14E0     		b	.L1
 118              	.LVL11:
 119              	.L13:
 177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 120              		.loc 1 177 0 is_stmt 1 discriminator 1
 121 006e 104B     		ldr	r3, .L19
 122              	.LVL12:
 123 0070 B122     		movs	r2, #177
 124              	.LVL13:
 125 0072 1249     		ldr	r1, .L19+12
 126              	.LVL14:
 127 0074 1048     		ldr	r0, .L19+8
 128              	.LVL15:
 129 0076 FFF7FEFF 		bl	printf
 130              	.LVL16:
 131 007a C8E7     		b	.L2
 132              	.L14:
 178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 133              		.loc 1 178 0 discriminator 1
 134 007c 0C4B     		ldr	r3, .L19
 135 007e B222     		movs	r2, #178
 136 0080 0F49     		ldr	r1, .L19+16
 137 0082 0D48     		ldr	r0, .L19+8
 138 0084 FFF7FEFF 		bl	printf
 139              	.LVL17:
 140 0088 C3E7     		b	.L3
 141              	.LVL18:
 142              	.L15:
 182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 143              		.loc 1 182 0
 144 008a 2846     		mov	r0, r5
 145 008c FFF7FEFF 		bl	pbuf_free
 146              	.LVL19:
 183:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 147              		.loc 1 183 0
 148 0090 02E0     		b	.L1
 149              	.L16:
 195:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 150              		.loc 1 195 0
 151 0092 2846     		mov	r0, r5
 152 0094 FFF7FEFF 		bl	pbuf_free
 153              	.LVL20:
 154              	.L1:
 231:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 232:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 155              		.loc 1 232 0
 156 0098 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 157              	.LVL21:
 158              	.L17:
 201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 159              		.loc 1 201 0
 160 009c 2846     		mov	r0, r5
 161              	.LVL22:
 162 009e FFF7FEFF 		bl	pbuf_free
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 8


 163              	.LVL23:
 202:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 164              		.loc 1 202 0
 165 00a2 F9E7     		b	.L1
 166              	.LVL24:
 167              	.L11:
 206:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->port = port;
 168              		.loc 1 206 0
 169 00a4 0023     		movs	r3, #0
 170 00a6 D1E7     		b	.L9
 171              	.LVL25:
 172              	.L18:
 223:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 173              		.loc 1 223 0
 174 00a8 3046     		mov	r0, r6
 175 00aa FFF7FEFF 		bl	netbuf_delete
 176              	.LVL26:
 224:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 177              		.loc 1 224 0
 178 00ae F3E7     		b	.L1
 179              	.L20:
 180              		.align	2
 181              	.L19:
 182 00b0 00000000 		.word	.LC0
 183 00b4 9C000000 		.word	.LC4
 184 00b8 54000000 		.word	.LC2
 185 00bc 30000000 		.word	.LC1
 186 00c0 7C000000 		.word	.LC3
 187              		.cfi_endproc
 188              	.LFE147:
 190              		.section	.text.setup_tcp,"ax",%progbits
 191              		.align	1
 192              		.syntax unified
 193              		.thumb
 194              		.thumb_func
 195              		.fpu fpv4-sp-d16
 197              	setup_tcp:
 198              	.LFB152:
 233:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 234:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 235:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 236:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 237:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Receive callback function for TCP netconns.
 238:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Posts the packet to conn->recvmbox, but doesn't delete it on errors.
 239:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 240:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.recv) for parameters and return value
 241:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 242:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 243:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** recv_tcp(void *arg, struct tcp_pcb *pcb, struct pbuf *p, err_t err)
 244:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 246:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len;
 247:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 248:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have a pcb argument", pcb != NULL);
 250:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 251:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 9


 252:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 255:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 256:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp: recv for wrong pcb!", conn->pcb.tcp == pcb);
 257:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!sys_mbox_valid(&conn->recvmbox)) {
 259:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 260:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (p != NULL) {
 261:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recved(pcb, p->tot_len);
 262:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       pbuf_free(p);
 263:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_OK;
 265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Unlike for UDP or RAW pcbs, don't check for available space
 267:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      using recv_avail since that could break the connection
 268:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      (data is already ACKed) */
 269:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 270:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* don't overwrite fatal errors! */
 271:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err != ERR_OK) {
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, err);
 273:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 274:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 275:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (p != NULL) {
 276:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = p->tot_len;
 277:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 278:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = 0;
 279:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 280:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 281:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_trypost(&conn->recvmbox, p) != ERR_OK) {
 282:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 283:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 284:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 285:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 286:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_INC(conn->recv_avail, len);
 287:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 288:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Register event with callback */
 289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 290:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 291:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 292:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 293:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 294:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 295:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 296:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Poll callback function for TCP netconns.
 297:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Wakes up an application thread that waits for a connection to close
 298:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * or data to be sent. The application thread then takes the
 299:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * appropriate action to go on.
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Signals the conn->sem.
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * netconn_close waits for conn->sem if closing failed.
 303:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 304:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.poll) for parameters and return value
 305:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 306:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 307:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** poll_tcp(void *arg, struct tcp_pcb *pcb)
 308:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 10


 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 310:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 312:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 313:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 314:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn->state == NETCONN_WRITE) {
 315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (conn->state == NETCONN_CLOSE) {
 317:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER
 318:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->current_msg && conn->current_msg->msg.sd.polls_left) {
 319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 320:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 321:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER */
 322:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 324:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* @todo: implement connect timeout here? */
 325:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 326:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Did a nonblocking write fail before? Then check available write-space. */
 327:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn->flags & NETCONN_FLAG_CHECK_WRITESPACE) {
 328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 329:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        let select mark this pcb as writable again. */
 330:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((conn->pcb.tcp != NULL) && (tcp_sndbuf(conn->pcb.tcp) > TCP_SNDLOWAT) &&
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 332:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->flags &= ~NETCONN_FLAG_CHECK_WRITESPACE;
 333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 334:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 335:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 336:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 337:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 338:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 339:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 340:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 341:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Sent callback function for TCP netconns.
 342:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Signals the conn->sem and calls API_EVENT.
 343:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * netconn_write waits for conn->sem if send buffer is low.
 344:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 345:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.sent) for parameters and return value
 346:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 347:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 348:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** sent_tcp(void *arg, struct tcp_pcb *pcb, u16_t len)
 349:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 350:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 351:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 353:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 354:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn) {
 356:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->state == NETCONN_WRITE) {
 357:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (conn->state == NETCONN_CLOSE) {
 359:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 360:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 361:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 363:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        let select mark this pcb as writable again. */
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((conn->pcb.tcp != NULL) && (tcp_sndbuf(conn->pcb.tcp) > TCP_SNDLOWAT) &&
 365:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 11


 366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->flags &= ~NETCONN_FLAG_CHECK_WRITESPACE;
 367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 369:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 370:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 371:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 372:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 373:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 374:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 375:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Error callback function for TCP netconns.
 376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Signals conn->sem, posts to all conn mboxes and calls API_EVENT.
 377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * The application thread has then to decide what to do.
 378:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.err) for parameters
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 381:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 382:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_tcp(void *arg, err_t err)
 383:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state old_state;
 386:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 387:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 389:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 390:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 391:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* reset conn->state now before waking up other threads */
 393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   old_state = conn->state;
 394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 395:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 396:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (old_state == NETCONN_CLOSE) {
 397:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* RST during close: let close return success & dealloc the netconn */
 398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, ERR_OK);
 400:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 401:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* no check since this is always fatal! */
 402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_SET(conn->last_err, err);
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 404:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* @todo: the type of NETCONN_EVT created should depend on 'old_state' */
 406:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 407:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Notify the user layer about a connection error. Used to signal select. */
 408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_ERROR, 0);
 409:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 410:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      They will get an error if they actually try to read or write. */
 411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 412:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 413:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* pass NULL-message to recvmbox to wake up pending recv */
 415:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_valid(&conn->recvmbox)) {
 416:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_trypost(&conn->recvmbox, NULL);
 418:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 419:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* pass NULL-message to acceptmbox to wake up pending accept */
 420:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_valid(&conn->acceptmbox)) {
 421:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 422:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_trypost(&conn->acceptmbox, NULL);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 12


 423:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 424:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((old_state == NETCONN_WRITE) || (old_state == NETCONN_CLOSE) ||
 426:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 427:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* calling lwip_netconn_do_writemore/lwip_netconn_do_close_internal is not necessary
 428:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        since the pcb has already been deleted! */
 429:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     int was_nonblocking_connect = IN_NONBLOCKING_CONNECT(conn);
 430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SET_NONBLOCKING_CONNECT(conn, 0);
 431:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 432:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (!was_nonblocking_connect) {
 433:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t* op_completed_sem;
 434:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* set error return code */
 435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->err = err;
 437:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 438:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 439:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the waiting task */
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       NETCONN_SET_SAFE_ERR(conn, err);
 442:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 443:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 444:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("conn->current_msg == NULL", conn->current_msg == NULL);
 446:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 447:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 448:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 449:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 450:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Setup a tcp_pcb with the correct callback function pointers
 451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * and their arguments.
 452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 453:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the TCP netconn to setup
 454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 455:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 456:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** setup_tcp(struct netconn *conn)
 457:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 199              		.loc 1 457 0
 200              		.cfi_startproc
 201              		@ args = 0, pretend = 0, frame = 0
 202              		@ frame_needed = 0, uses_anonymous_args = 0
 203              	.LVL27:
 204 0000 10B5     		push	{r4, lr}
 205              	.LCFI1:
 206              		.cfi_def_cfa_offset 8
 207              		.cfi_offset 4, -8
 208              		.cfi_offset 14, -4
 209 0002 0146     		mov	r1, r0
 458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct tcp_pcb *pcb;
 459:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 460:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   pcb = conn->pcb.tcp;
 210              		.loc 1 460 0
 211 0004 4468     		ldr	r4, [r0, #4]
 212              	.LVL28:
 461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_arg(pcb, conn);
 213              		.loc 1 461 0
 214 0006 2046     		mov	r0, r4
 215              	.LVL29:
 216 0008 FFF7FEFF 		bl	tcp_arg
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 13


 217              	.LVL30:
 462:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_recv(pcb, recv_tcp);
 218              		.loc 1 462 0
 219 000c 0849     		ldr	r1, .L23
 220 000e 2046     		mov	r0, r4
 221 0010 FFF7FEFF 		bl	tcp_recv
 222              	.LVL31:
 463:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_sent(pcb, sent_tcp);
 223              		.loc 1 463 0
 224 0014 0749     		ldr	r1, .L23+4
 225 0016 2046     		mov	r0, r4
 226 0018 FFF7FEFF 		bl	tcp_sent
 227              	.LVL32:
 464:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_poll(pcb, poll_tcp, NETCONN_TCP_POLL_INTERVAL);
 228              		.loc 1 464 0
 229 001c 0222     		movs	r2, #2
 230 001e 0649     		ldr	r1, .L23+8
 231 0020 2046     		mov	r0, r4
 232 0022 FFF7FEFF 		bl	tcp_poll
 233              	.LVL33:
 465:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_err(pcb, err_tcp);
 234              		.loc 1 465 0
 235 0026 0549     		ldr	r1, .L23+12
 236 0028 2046     		mov	r0, r4
 237 002a FFF7FEFF 		bl	tcp_err
 238              	.LVL34:
 466:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 239              		.loc 1 466 0
 240 002e 10BD     		pop	{r4, pc}
 241              	.LVL35:
 242              	.L24:
 243              		.align	2
 244              	.L23:
 245 0030 00000000 		.word	recv_tcp
 246 0034 00000000 		.word	sent_tcp
 247 0038 00000000 		.word	poll_tcp
 248 003c 00000000 		.word	err_tcp
 249              		.cfi_endproc
 250              	.LFE152:
 252              		.section	.text.pcb_new,"ax",%progbits
 253              		.align	1
 254              		.syntax unified
 255              		.thumb
 256              		.thumb_func
 257              		.fpu fpv4-sp-d16
 259              	pcb_new:
 260              	.LFB154:
 467:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 468:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 469:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Accept callback function for TCP netconns.
 470:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Allocates a new netconn and posts that to conn->acceptmbox.
 471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 472:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb_listen.accept) for parameters and return value
 473:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 474:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 475:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** accept_function(void *arg, struct tcp_pcb *newpcb, err_t err)
 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 14


 477:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *newconn;
 478:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 479:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 482:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!sys_mbox_valid(&conn->acceptmbox)) {
 484:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 485:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 487:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newpcb == NULL) {
 489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* out-of-pcbs during connect: pass on this error to the application */
 490:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (sys_mbox_trypost(&conn->acceptmbox, &netconn_aborted) == ERR_OK) {
 491:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 496:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: newpcb->tate: %s\n", tcp_debug_state_str(newpcb->st
 498:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* We have to set the callback here even though
 500:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****    * the new socket is unknown. newconn->socket is marked as -1. */
 501:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   newconn = netconn_alloc(conn->type, conn->callback);
 502:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newconn == NULL) {
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
 504:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (sys_mbox_trypost(&conn->acceptmbox, &netconn_aborted) == ERR_OK) {
 505:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 506:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   newconn->pcb.tcp = newpcb;
 511:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   setup_tcp(newconn);
 512:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* no protection: when creating the pcb, the netconn is not yet known
 513:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      to the application thread */
 514:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   newconn->last_err = err;
 515:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 516:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* handle backlog counter */
 517:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_backlog_delayed(newpcb);
 518:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 519:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_trypost(&conn->acceptmbox, newconn) != ERR_OK) {
 520:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 521:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        so do nothing here! */
 522:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* remove all references to this netconn from the pcb */
 523:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     struct tcp_pcb* pcb = newconn->pcb.tcp;
 524:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(pcb, NULL);
 525:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_recv(pcb, NULL);
 526:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_sent(pcb, NULL);
 527:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_poll(pcb, NULL, 0);
 528:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(pcb, NULL);
 529:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* remove reference from to the pcb from this netconn */
 530:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     newconn->pcb.tcp = NULL;
 531:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* no need to drain since we know the recvmbox is empty. */
 532:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&newconn->recvmbox);
 533:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&newconn->recvmbox);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 15


 534:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_free(newconn);
 535:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 537:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Register event with callback */
 538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 539:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 540:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 542:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 543:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 544:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 545:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Create a new pcb of a specific type.
 547:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from lwip_netconn_do_newconn().
 548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 549:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param msg the api_msg_msg describing the connection type
 550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 551:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 552:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** pcb_new(struct api_msg *msg)
 553:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 261              		.loc 1 553 0
 262              		.cfi_startproc
 263              		@ args = 0, pretend = 0, frame = 0
 264              		@ frame_needed = 0, uses_anonymous_args = 0
 265              	.LVL36:
 266 0000 38B5     		push	{r3, r4, r5, lr}
 267              	.LCFI2:
 268              		.cfi_def_cfa_offset 16
 269              		.cfi_offset 3, -16
 270              		.cfi_offset 4, -12
 271              		.cfi_offset 5, -8
 272              		.cfi_offset 14, -4
 273 0002 0446     		mov	r4, r0
 274              	.LVL37:
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum lwip_ip_addr_type iptype = IPADDR_TYPE_V4;
 555:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 556:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb_new: pcb already allocated", msg->conn->pcb.tcp == NULL);
 275              		.loc 1 556 0
 276 0004 0368     		ldr	r3, [r0]
 277 0006 5B68     		ldr	r3, [r3, #4]
 278 0008 33B1     		cbz	r3, .L26
 279              		.loc 1 556 0 is_stmt 0 discriminator 1
 280 000a 1B4B     		ldr	r3, .L37
 281 000c 4FF40B72 		mov	r2, #556
 282 0010 1A49     		ldr	r1, .L37+4
 283 0012 1B48     		ldr	r0, .L37+8
 284              	.LVL38:
 285 0014 FFF7FEFF 		bl	printf
 286              	.LVL39:
 287              	.L26:
 557:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  
 558:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV6 && LWIP_IPV4
 559:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* IPv6: Dual-stack by default, unless netconn_set_ipv6only() is called */
 560:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if(NETCONNTYPE_ISIPV6(netconn_type(msg->conn))) {
 561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     iptype = IPADDR_TYPE_ANY;
 562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 563:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 16


 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   
 565:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Allocate a PCB for this connection */
 566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch(NETCONNTYPE_GROUP(msg->conn->type)) {
 288              		.loc 1 566 0 is_stmt 1
 289 0018 2568     		ldr	r5, [r4]
 290 001a 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 291 001c 03F0F003 		and	r3, r3, #240
 292 0020 102B     		cmp	r3, #16
 293 0022 18D0     		beq	.L28
 294 0024 202B     		cmp	r3, #32
 295 0026 21D1     		bne	.L33
 567:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 568:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   case NETCONN_RAW:
 569:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->conn->pcb.raw = raw_new_ip_type(iptype, msg->msg.n.proto);
 570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.raw != NULL) {
 571:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV6
 572:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* ICMPv6 packets should always have checksum calculated by the stack as per RFC 3542 chapter
 573:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (NETCONNTYPE_ISIPV6(msg->conn->type) && msg->conn->pcb.raw->protocol == IP6_NEXTH_ICMP6) {
 574:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->pcb.raw->chksum_reqd = 1;
 575:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->pcb.raw->chksum_offset = 2;
 576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 577:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IPV6 */
 578:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       raw_recv(msg->conn->pcb.raw, recv_raw, msg->conn);
 579:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 580:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     break;
 581:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
 582:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
 583:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   case NETCONN_UDP:
 584:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->conn->pcb.udp = udp_new_ip_type(iptype);
 296              		.loc 1 584 0
 297 0028 0020     		movs	r0, #0
 298 002a FFF7FEFF 		bl	udp_new_ip_type
 299              	.LVL40:
 300 002e 6860     		str	r0, [r5, #4]
 585:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.udp != NULL) {
 301              		.loc 1 585 0
 302 0030 2368     		ldr	r3, [r4]
 303 0032 5A68     		ldr	r2, [r3, #4]
 304 0034 42B1     		cbz	r2, .L30
 586:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDPLITE
 587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (NETCONNTYPE_ISUDPLITE(msg->conn->type)) {
 588:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         udp_setflags(msg->conn->pcb.udp, UDP_FLAGS_UDPLITE);
 589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 590:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDPLITE */
 591:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (NETCONNTYPE_ISUDPNOCHKSUM(msg->conn->type)) {
 305              		.loc 1 591 0
 306 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 307 0038 222B     		cmp	r3, #34
 308 003a 09D0     		beq	.L35
 309              	.L31:
 592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         udp_setflags(msg->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 593:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       udp_recv(msg->conn->pcb.udp, recv_udp, msg->conn);
 310              		.loc 1 594 0
 311 003c 2368     		ldr	r3, [r4]
 312 003e 1A46     		mov	r2, r3
 313 0040 1049     		ldr	r1, .L37+12
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 17


 314 0042 5868     		ldr	r0, [r3, #4]
 315 0044 FFF7FEFF 		bl	udp_recv
 316              	.LVL41:
 317              	.L30:
 595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     break;
 597:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 598:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   case NETCONN_TCP:
 600:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->conn->pcb.tcp = tcp_new_ip_type(iptype);
 601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 602:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       setup_tcp(msg->conn);
 603:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 604:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     break;
 605:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 606:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   default:
 607:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Unsupported netconn type, e.g. protocol disabled */
 608:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_VAL;
 609:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 610:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 611:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.ip == NULL) {
 318              		.loc 1 611 0
 319 0048 2368     		ldr	r3, [r4]
 320 004a 5B68     		ldr	r3, [r3, #4]
 321 004c 8BB1     		cbz	r3, .L36
 322              	.L25:
 612:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_MEM;
 613:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 614:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 323              		.loc 1 614 0
 324 004e 38BD     		pop	{r3, r4, r5, pc}
 325              	.LVL42:
 326              	.L35:
 592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 327              		.loc 1 592 0
 328 0050 0123     		movs	r3, #1
 329 0052 1374     		strb	r3, [r2, #16]
 330 0054 F2E7     		b	.L31
 331              	.L28:
 600:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 332              		.loc 1 600 0
 333 0056 0020     		movs	r0, #0
 334 0058 FFF7FEFF 		bl	tcp_new_ip_type
 335              	.LVL43:
 336 005c 6860     		str	r0, [r5, #4]
 601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       setup_tcp(msg->conn);
 337              		.loc 1 601 0
 338 005e 2068     		ldr	r0, [r4]
 339 0060 4368     		ldr	r3, [r0, #4]
 340 0062 002B     		cmp	r3, #0
 341 0064 F0D0     		beq	.L30
 602:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 342              		.loc 1 602 0
 343 0066 FFF7FEFF 		bl	setup_tcp
 344              	.LVL44:
 345 006a EDE7     		b	.L30
 346              	.L33:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 18


 608:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 347              		.loc 1 608 0
 348 006c FA23     		movs	r3, #250
 349 006e 2371     		strb	r3, [r4, #4]
 609:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 350              		.loc 1 609 0
 351 0070 EDE7     		b	.L25
 352              	.L36:
 612:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 353              		.loc 1 612 0
 354 0072 FF23     		movs	r3, #255
 355 0074 2371     		strb	r3, [r4, #4]
 356 0076 EAE7     		b	.L25
 357              	.L38:
 358              		.align	2
 359              	.L37:
 360 0078 00000000 		.word	.LC0
 361 007c 00000000 		.word	.LC5
 362 0080 54000000 		.word	.LC2
 363 0084 00000000 		.word	recv_udp
 364              		.cfi_endproc
 365              	.LFE154:
 367              		.section	.text.err_tcp,"ax",%progbits
 368              		.align	1
 369              		.syntax unified
 370              		.thumb
 371              		.thumb_func
 372              		.fpu fpv4-sp-d16
 374              	err_tcp:
 375              	.LFB151:
 383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 376              		.loc 1 383 0
 377              		.cfi_startproc
 378              		@ args = 0, pretend = 0, frame = 0
 379              		@ frame_needed = 0, uses_anonymous_args = 0
 380              	.LVL45:
 381 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 382              	.LCFI3:
 383              		.cfi_def_cfa_offset 24
 384              		.cfi_offset 3, -24
 385              		.cfi_offset 4, -20
 386              		.cfi_offset 5, -16
 387              		.cfi_offset 6, -12
 388              		.cfi_offset 7, -8
 389              		.cfi_offset 14, -4
 390 0002 0E46     		mov	r6, r1
 391              	.LVL46:
 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 392              		.loc 1 388 0
 393 0004 0446     		mov	r4, r0
 394 0006 A0B1     		cbz	r0, .L58
 395              	.LVL47:
 396              	.L40:
 390:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 397              		.loc 1 390 0
 398 0008 0023     		movs	r3, #0
 399 000a 6360     		str	r3, [r4, #4]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 19


 393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 400              		.loc 1 393 0
 401 000c 6578     		ldrb	r5, [r4, #1]	@ zero_extendqisi2
 402              	.LVL48:
 394:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 403              		.loc 1 394 0
 404 000e 6370     		strb	r3, [r4, #1]
 396:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* RST during close: let close return success & dealloc the netconn */
 405              		.loc 1 396 0
 406 0010 042D     		cmp	r5, #4
 407 0012 16D1     		bne	.L41
 408              	.LVL49:
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 409              		.loc 1 399 0
 410 0014 002C     		cmp	r4, #0
 411 0016 47D0     		beq	.L56
 412              	.LBB2:
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 413              		.loc 1 399 0 is_stmt 0 discriminator 1
 414 0018 FFF7FEFF 		bl	sys_arch_protect
 415              	.LVL50:
 416 001c 94F90830 		ldrsb	r3, [r4, #8]
 417 0020 13F10C0F 		cmn	r3, #12
 418 0024 01DB     		blt	.L43
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 419              		.loc 1 399 0 discriminator 2
 420 0026 0023     		movs	r3, #0
 421 0028 2372     		strb	r3, [r4, #8]
 422              	.L43:
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 423              		.loc 1 399 0 discriminator 4
 424 002a FFF7FEFF 		bl	sys_arch_unprotect
 425              	.LVL51:
 426              	.LBE2:
 398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, ERR_OK);
 427              		.loc 1 398 0 is_stmt 1 discriminator 4
 428 002e 0026     		movs	r6, #0
 429 0030 0CE0     		b	.L42
 430              	.LVL52:
 431              	.L58:
 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 432              		.loc 1 388 0 discriminator 1
 433 0032 3D4B     		ldr	r3, .L63
 434 0034 4FF4C272 		mov	r2, #388
 435 0038 3C49     		ldr	r1, .L63+4
 436              	.LVL53:
 437 003a 3D48     		ldr	r0, .L63+8
 438              	.LVL54:
 439 003c FFF7FEFF 		bl	printf
 440              	.LVL55:
 441 0040 E2E7     		b	.L40
 442              	.LVL56:
 443              	.L41:
 444              	.LBB3:
 402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 445              		.loc 1 402 0
 446 0042 FFF7FEFF 		bl	sys_arch_protect
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 20


 447              	.LVL57:
 448 0046 2672     		strb	r6, [r4, #8]
 449 0048 FFF7FEFF 		bl	sys_arch_unprotect
 450              	.LVL58:
 451              	.L42:
 452              	.LBE3:
 408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 453              		.loc 1 408 0
 454 004c A36A     		ldr	r3, [r4, #40]
 455 004e 1BB1     		cbz	r3, .L44
 408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 456              		.loc 1 408 0 is_stmt 0 discriminator 1
 457 0050 0022     		movs	r2, #0
 458 0052 0421     		movs	r1, #4
 459 0054 2046     		mov	r0, r4
 460 0056 9847     		blx	r3
 461              	.LVL59:
 462              	.L44:
 411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 463              		.loc 1 411 0 is_stmt 1
 464 0058 A36A     		ldr	r3, [r4, #40]
 465 005a 1BB1     		cbz	r3, .L45
 411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 466              		.loc 1 411 0 is_stmt 0 discriminator 1
 467 005c 0022     		movs	r2, #0
 468 005e 1146     		mov	r1, r2
 469 0060 2046     		mov	r0, r4
 470 0062 9847     		blx	r3
 471              	.LVL60:
 472              	.L45:
 412:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 473              		.loc 1 412 0 is_stmt 1
 474 0064 A36A     		ldr	r3, [r4, #40]
 475 0066 1BB1     		cbz	r3, .L46
 412:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 476              		.loc 1 412 0 is_stmt 0 discriminator 1
 477 0068 0022     		movs	r2, #0
 478 006a 0221     		movs	r1, #2
 479 006c 2046     		mov	r0, r4
 480 006e 9847     		blx	r3
 481              	.LVL61:
 482              	.L46:
 415:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 483              		.loc 1 415 0 is_stmt 1
 484 0070 04F11007 		add	r7, r4, #16
 485 0074 3846     		mov	r0, r7
 486 0076 FFF7FEFF 		bl	sys_mbox_valid
 487              	.LVL62:
 488 007a B8B9     		cbnz	r0, .L59
 489              	.L47:
 420:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 490              		.loc 1 420 0
 491 007c 04F11407 		add	r7, r4, #20
 492 0080 3846     		mov	r0, r7
 493 0082 FFF7FEFF 		bl	sys_mbox_valid
 494              	.LVL63:
 495 0086 B0B9     		cbnz	r0, .L60
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 21


 496              	.L48:
 425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 497              		.loc 1 425 0
 498 0088 012D     		cmp	r5, #1
 499 008a 19D0     		beq	.L49
 425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 500              		.loc 1 425 0 is_stmt 0 discriminator 1
 501 008c 042D     		cmp	r5, #4
 502 008e 17D0     		beq	.L49
 425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 503              		.loc 1 425 0 discriminator 2
 504 0090 032D     		cmp	r5, #3
 505 0092 15D0     		beq	.L49
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 506              		.loc 1 445 0 is_stmt 1
 507 0094 636A     		ldr	r3, [r4, #36]
 508 0096 ABB3     		cbz	r3, .L39
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 509              		.loc 1 445 0 is_stmt 0 discriminator 1
 510 0098 234B     		ldr	r3, .L63
 511 009a 40F2BD12 		movw	r2, #445
 512 009e 2549     		ldr	r1, .L63+12
 513 00a0 2348     		ldr	r0, .L63+8
 514 00a2 FFF7FEFF 		bl	printf
 515              	.LVL64:
 447:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 516              		.loc 1 447 0 is_stmt 1 discriminator 1
 517 00a6 2DE0     		b	.L39
 518              	.LVL65:
 519              	.L56:
 398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, ERR_OK);
 520              		.loc 1 398 0
 521 00a8 0026     		movs	r6, #0
 522 00aa CFE7     		b	.L42
 523              	.LVL66:
 524              	.L59:
 417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 525              		.loc 1 417 0
 526 00ac 0021     		movs	r1, #0
 527 00ae 3846     		mov	r0, r7
 528 00b0 FFF7FEFF 		bl	sys_mbox_trypost
 529              	.LVL67:
 530 00b4 E2E7     		b	.L47
 531              	.L60:
 422:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 532              		.loc 1 422 0
 533 00b6 0021     		movs	r1, #0
 534 00b8 3846     		mov	r0, r7
 535 00ba FFF7FEFF 		bl	sys_mbox_trypost
 536              	.LVL68:
 537 00be E3E7     		b	.L48
 538              	.L49:
 539              	.LBB4:
 429:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SET_NONBLOCKING_CONNECT(conn, 0);
 540              		.loc 1 429 0
 541 00c0 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 542              	.LVL69:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 22


 430:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 543              		.loc 1 430 0
 544 00c2 23F00402 		bic	r2, r3, #4
 545 00c6 2277     		strb	r2, [r4, #28]
 432:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t* op_completed_sem;
 546              		.loc 1 432 0
 547 00c8 13F0040F 		tst	r3, #4
 548 00cc 1AD1     		bne	.L39
 549              	.LBB5:
 435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->err = err;
 550              		.loc 1 435 0
 551 00ce 636A     		ldr	r3, [r4, #36]
 552              	.LVL70:
 553 00d0 CBB1     		cbz	r3, .L61
 554              	.L52:
 436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 555              		.loc 1 436 0
 556 00d2 636A     		ldr	r3, [r4, #36]
 557 00d4 1E71     		strb	r6, [r3, #4]
 437:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 558              		.loc 1 437 0
 559 00d6 636A     		ldr	r3, [r4, #36]
 560 00d8 1D68     		ldr	r5, [r3]
 561              	.LVL71:
 562 00da 0C35     		adds	r5, r5, #12
 563              	.LVL72:
 438:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 564              		.loc 1 438 0
 565 00dc 2846     		mov	r0, r5
 566 00de FFF7FEFF 		bl	sys_sem_valid
 567              	.LVL73:
 568 00e2 C0B1     		cbz	r0, .L62
 569              	.L53:
 439:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the waiting task */
 570              		.loc 1 439 0
 571 00e4 0023     		movs	r3, #0
 572 00e6 6362     		str	r3, [r4, #36]
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 573              		.loc 1 441 0
 574 00e8 4CB1     		cbz	r4, .L54
 575              	.LBB6:
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 576              		.loc 1 441 0 is_stmt 0 discriminator 1
 577 00ea FFF7FEFF 		bl	sys_arch_protect
 578              	.LVL74:
 579 00ee 94F90830 		ldrsb	r3, [r4, #8]
 580 00f2 13F10C0F 		cmn	r3, #12
 581 00f6 00DB     		blt	.L55
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 582              		.loc 1 441 0 discriminator 2
 583 00f8 2672     		strb	r6, [r4, #8]
 584              	.L55:
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 585              		.loc 1 441 0 discriminator 4
 586 00fa FFF7FEFF 		bl	sys_arch_unprotect
 587              	.LVL75:
 588              	.L54:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 23


 589              	.LBE6:
 442:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 590              		.loc 1 442 0 is_stmt 1
 591 00fe 2846     		mov	r0, r5
 592 0100 FFF7FEFF 		bl	sys_sem_signal
 593              	.LVL76:
 594              	.L39:
 595              	.LBE5:
 596              	.LBE4:
 447:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 597              		.loc 1 447 0
 598 0104 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 599              	.LVL77:
 600              	.L61:
 601              	.LBB8:
 602              	.LBB7:
 435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->err = err;
 603              		.loc 1 435 0 discriminator 1
 604 0106 084B     		ldr	r3, .L63
 605 0108 40F2B312 		movw	r2, #435
 606 010c 0A49     		ldr	r1, .L63+16
 607 010e 0848     		ldr	r0, .L63+8
 608 0110 FFF7FEFF 		bl	printf
 609              	.LVL78:
 610 0114 DDE7     		b	.L52
 611              	.LVL79:
 612              	.L62:
 438:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 613              		.loc 1 438 0 discriminator 1
 614 0116 044B     		ldr	r3, .L63
 615 0118 4FF4DB72 		mov	r2, #438
 616 011c 0749     		ldr	r1, .L63+20
 617 011e 0448     		ldr	r0, .L63+8
 618 0120 FFF7FEFF 		bl	printf
 619              	.LVL80:
 620 0124 DEE7     		b	.L53
 621              	.L64:
 622 0126 00BF     		.align	2
 623              	.L63:
 624 0128 00000000 		.word	.LC0
 625 012c 00000000 		.word	.LC6
 626 0130 54000000 		.word	.LC2
 627 0134 48000000 		.word	.LC9
 628 0138 10000000 		.word	.LC7
 629 013c 2C000000 		.word	.LC8
 630              	.LBE7:
 631              	.LBE8:
 632              		.cfi_endproc
 633              	.LFE151:
 635              		.section	.text.lwip_netconn_do_connected,"ax",%progbits
 636              		.align	1
 637              		.syntax unified
 638              		.thumb
 639              		.thumb_func
 640              		.fpu fpv4-sp-d16
 642              	lwip_netconn_do_connected:
 643              	.LFB162:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 24


 615:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 616:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 617:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Create a new pcb of a specific type inside a netconn.
 618:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_new_with_proto_and_callback.
 619:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 620:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg describing the connection type
 621:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 622:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
 623:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_newconn(void *m)
 624:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 625:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 626:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 627:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_OK;
 628:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 629:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 630:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 631:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Else? This "new" connection already has a PCB allocated. */
 632:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Is this an error condition? Should it be deleted? */
 633:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* We currently just are happy and return. */
 634:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 636:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 637:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 638:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 639:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Create a new netconn (of a specific type) that has a callback function.
 640:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * The corresponding pcb is NOT created!
 641:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 642:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param t the type of 'connection' to create (@see enum netconn_type)
 643:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param callback a function to call on status changes (RX available, TX'ed)
 644:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @return a newly allocated struct netconn or
 645:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *         NULL on memory error
 646:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 647:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** struct netconn*
 648:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_alloc(enum netconn_type t, netconn_callback callback)
 649:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 650:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int size;
 652:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)memp_malloc(MEMP_NETCONN);
 654:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 655:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return NULL;
 656:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 657:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->last_err = ERR_OK;
 659:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->type = t;
 660:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 661:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 662:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* If all sizes are the same, every compiler should optimize this switch to nothing */
 663:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch(NETCONNTYPE_GROUP(t)) {
 664:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 665:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   case NETCONN_RAW:
 666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     size = DEFAULT_RAW_RECVMBOX_SIZE;
 667:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     break;
 668:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
 669:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
 670:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   case NETCONN_UDP:
 671:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     size = DEFAULT_UDP_RECVMBOX_SIZE;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 25


 672:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     break;
 673:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 674:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 675:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   case NETCONN_TCP:
 676:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     size = DEFAULT_TCP_RECVMBOX_SIZE;
 677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     break;
 678:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 679:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   default:
 680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("netconn_alloc: undefined netconn_type", 0);
 681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 682:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 683:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_new(&conn->recvmbox, size) != ERR_OK) {
 685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 687:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_NETCONN_SEM_PER_THREAD
 688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_sem_new(&conn->op_completed, 0) != ERR_OK) {
 689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 690:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 691:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 692:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 693:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 694:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 695:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_mbox_set_invalid(&conn->acceptmbox);
 696:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 697:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state        = NETCONN_NONE;
 698:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SOCKET
 699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* initialize socket to -1 since 0 is a valid socket */
 700:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->socket       = -1;
 701:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SOCKET */
 702:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->callback     = callback;
 703:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 704:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->current_msg  = NULL;
 705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->write_offset = 0;
 706:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 707:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
 708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->send_timeout = 0;
 709:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
 710:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVTIMEO
 711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->recv_timeout = 0;
 712:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVTIMEO */
 713:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->recv_bufsize = RECV_BUFSIZE_DEFAULT;
 715:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->recv_avail   = 0;
 716:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 717:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->linger = -1;
 719:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
 720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->flags = 0;
 721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return conn;
 722:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** free_and_return:
 723:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   memp_free(MEMP_NETCONN, conn);
 724:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return NULL;
 725:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 726:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 727:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 728:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Delete a netconn and all its resources.
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 26


 729:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * The pcb is NOT freed (since we might not be in the right thread context do this).
 730:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 731:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the netconn to free
 732:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 733:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
 734:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_free(struct netconn *conn)
 735:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("PCB must be deallocated outside this function", conn->pcb.tcp == NULL);
 737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recvmbox must be deallocated before calling this function",
 738:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->recvmbox));
 739:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("acceptmbox must be deallocated before calling this function",
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->acceptmbox));
 742:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 743:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 744:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_NETCONN_SEM_PER_THREAD
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_free(&conn->op_completed);
 746:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_set_invalid(&conn->op_completed);
 747:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 748:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   memp_free(MEMP_NETCONN, conn);
 750:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 751:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 752:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 753:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Delete rcvmbox and acceptmbox of a netconn and free the left-over data in
 754:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * these mboxes
 755:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 756:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the netconn to free
 757:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @bytes_drained bytes drained from recvmbox
 758:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @accepts_drained pending connections drained from acceptmbox
 759:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 760:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 761:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_drain(struct netconn *conn)
 762:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 763:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mem;
 764:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 765:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct pbuf *p;
 766:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 767:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 768:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* This runs in tcpip_thread, so we don't need to lock against rx packets */
 769:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 770:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Delete and drain the recvmbox. */
 771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_valid(&conn->recvmbox)) {
 772:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 773:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP) {
 775:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (mem != NULL) {
 776:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           p = (struct pbuf*)mem;
 777:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* pcb might be set to NULL already by err_tcp() */
 778:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (conn->pcb.tcp != NULL) {
 779:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_recved(conn->pcb.tcp, p->tot_len);
 780:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 781:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           pbuf_free(p);
 782:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else
 784:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 785:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 27


 786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netbuf_delete((struct netbuf *)mem);
 787:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 789:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 790:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->recvmbox);
 791:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 792:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 793:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Delete and drain the acceptmbox. */
 794:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_valid(&conn->acceptmbox)) {
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 797:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (mem != &netconn_aborted) {
 798:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct netconn *newconn = (struct netconn *)mem;
 799:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Only tcp pcbs have an acceptmbox, so no need to check conn->type */
 800:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* pcb might be set to NULL already by err_tcp() */
 801:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* drain recvmbox */
 802:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netconn_drain(newconn);
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (newconn->pcb.tcp != NULL) {
 804:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_abort(newconn->pcb.tcp);
 805:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           newconn->pcb.tcp = NULL;
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 807:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netconn_free(newconn);
 808:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 809:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 810:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->acceptmbox);
 811:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->acceptmbox);
 812:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 813:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 814:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 815:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 816:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 817:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 818:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Internal helper function to close a TCP netconn: since this sometimes
 819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * doesn't work at the first attempt, this function is called from multiple
 820:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * places.
 821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 822:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the TCP netconn to close
 823:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 824:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 825:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_close_internal(struct netconn *conn  WRITE_DELAYED_PARAM)
 826:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t shut, shut_rx, shut_tx, close;
 829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t close_finished = 0;
 830:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct tcp_pcb* tpcb;
 831:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t linger_wait_required = 0;
 833:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
 834:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("invalid conn", (conn != NULL));
 836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 840:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 841:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tpcb = conn->pcb.tcp;
 842:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut = conn->current_msg->msg.sd.shut;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 28


 843:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 844:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_tx = shut & NETCONN_SHUT_WR;
 845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* shutting down both ends is the same as closing
 846:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      (also if RD or WR side was shut down before already) */
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (shut == NETCONN_SHUT_RDWR) {
 848:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close = 1;
 849:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (shut_rx &&
 850:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 851:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 852:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == CLOSING))) {
 853:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close = 1;
 854:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (shut_tx && ((tpcb->flags & TF_RXCLOSED) != 0)) {
 855:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close = 1;
 856:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 857:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close = 0;
 858:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 859:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 860:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Set back some callback pointers */
 861:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (close) {
 862:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(tpcb, NULL);
 863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (tpcb->state == LISTEN) {
 865:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 866:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 867:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* some callbacks have to be reset if tcp_close is not successful */
 868:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_rx) {
 869:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recv(tpcb, NULL);
 870:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_accept(tpcb, NULL);
 871:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 872:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 873:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, NULL);
 874:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 875:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (close) {
 876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_poll(tpcb, NULL, 0);
 877:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_err(tpcb, NULL);
 878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 879:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 880:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to close the connection */
 881:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (close) {
 882:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 883:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* check linger possibilites before calling tcp_close */
 884:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 885:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* linger enabled/required at all? (i.e. is there untransmitted data left?) */
 886:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((conn->linger >= 0) && (conn->pcb.tcp->unsent || conn->pcb.tcp->unacked)) {
 887:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((conn->linger == 0)) {
 888:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* data left but linger prevents waiting */
 889:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_abort(tpcb);
 890:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tpcb = NULL;
 891:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (conn->linger > 0) {
 892:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* data left and linger says we should wait */
 893:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (netconn_is_nonblocking(conn)) {
 894:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* data left on a nonblocking netconn -> cannot linger */
 895:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_WOULDBLOCK;
 896:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else if ((s32_t)(sys_now() - conn->current_msg->msg.sd.time_started) >=
 897:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (conn->linger * 1000)) {
 898:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* data left but linger timeout has expired (this happens on further
 899:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              calls to this function through poll_tcp */
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 29


 900:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_abort(tpcb);
 901:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tpcb = NULL;
 902:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 903:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* data left -> need to wait for ACK after successful close */
 904:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           linger_wait_required = 1;
 905:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 906:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 907:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 908:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((err == ERR_OK) && (tpcb != NULL))
 909:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
 910:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
 911:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = tcp_close(tpcb);
 912:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 913:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 914:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = tcp_shutdown(tpcb, shut_rx, shut_tx);
 915:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 916:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
 917:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close_finished = 1;
 918:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 919:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (linger_wait_required) {
 920:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wait for ACK of all unsent/unacked data by just getting called again */
 921:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       close_finished = 0;
 922:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_INPROGRESS;
 923:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 924:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
 925:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 926:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_MEM) {
 927:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed because of memory shortage, try again later. Even for
 928:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          nonblocking netconns, we have to wait since no standard socket application
 929:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          is prepared for close failing because of resource shortage.
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          Check the timeout: this is kind of an lwip addition to the standard sockets:
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          we wait for some time when failing to allocate a segment for the FIN */
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO || LWIP_SO_LINGER
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       s32_t close_timeout = LWIP_TCP_CLOSE_TIMEOUT_MS_DEFAULT;
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
 935:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (conn->send_timeout > 0) {
 936:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         close_timeout = conn->send_timeout;
 937:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 938:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
 939:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 940:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (conn->linger >= 0) {
 941:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* use linger timeout (seconds) */
 942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         close_timeout = conn->linger * 1000U;
 943:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 944:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 945:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((s32_t)(sys_now() - conn->current_msg->msg.sd.time_started) >= close_timeout) {
 946:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 947:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (conn->current_msg->msg.sd.polls_left == 0) {
 948:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         close_finished = 1;
 950:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (close) {
 951:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* in this case, we want to RST the connection */
 952:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_abort(tpcb);
 953:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_OK;
 954:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 955:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 956:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 30


 957:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed for a non-memory error: give up */
 958:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       close_finished = 1;
 959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 960:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 961:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (close_finished) {
 962:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing done (succeeded, non-memory error, nonblocking error or timeout) */
 963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_t* op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 964:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 965:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 966:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
 968:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (close) {
 969:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Set back some callback pointers as conn is going away */
 970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->pcb.tcp = NULL;
 971:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Trigger select() in socket layer. Make sure everybody notices activity
 972:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          on the connection, error first! */
 973:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_ERROR, 0);
 974:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 975:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_rx) {
 976:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 977:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 978:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_tx) {
 979:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 980:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, err);
 983:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 984:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (delayed)
 985:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
 987:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the application task */
 988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 989:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_OK;
 991:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 992:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!close_finished) {
 993:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing failed and we want to wait: restore some of the callbacks */
 994:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing of listen pcb will never fail! */
 995:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("Closing a listen pcb may not fail!", (tpcb->state != LISTEN));
 996:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 997:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, sent_tcp);
 998:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 999:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* when waiting for close, set up poll interval to 500ms */
1000:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_poll(tpcb, poll_tcp, 1);
1001:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(tpcb, err_tcp);
1002:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(tpcb, conn);
1003:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't restore recv callback: we don't want to receive any more data */
1004:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1005:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* If closing didn't succeed, we get called again either
1006:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      from poll_tcp or from sent_tcp */
1007:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK", err != ERR_OK);
1008:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
1009:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1010:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1011:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1012:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1013:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Delete the pcb inside a netconn.
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 31


1014:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_delete.
1015:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1016:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection
1017:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1018:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1019:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_delconn(void *m)
1020:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1021:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1022:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1023:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state state = msg->conn->state;
1024:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
1025:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
1026:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1027:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* In full duplex mode, blocking write/connect is aborted with ERR_CLSD */
1028:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (state != NETCONN_NONE) {
1029:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((state == NETCONN_WRITE) ||
1030:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
1031:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* close requested, abort running write/connect */
1032:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t* op_completed_sem;
1033:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("msg->conn->current_msg != NULL", msg->conn->current_msg != NULL);
1034:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       op_completed_sem = LWIP_API_MSG_SEM(msg->conn->current_msg);
1035:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg->err = ERR_CLSD;
1036:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = NULL;
1037:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->write_offset = 0;
1038:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_NONE;
1039:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       NETCONN_SET_SAFE_ERR(msg->conn, ERR_CLSD);
1040:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
1041:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1042:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1043:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1044:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (((state != NETCONN_NONE) &&
1045:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
1046:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_CONNECT)) ||
1047:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
1048:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This means either a blocking write or blocking connect is running
1049:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (nonblocking write returns and sets state to NONE) */
1050:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_INPROGRESS;
1051:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1052:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1053:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1054:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("blocking connect in progress",
1055:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
1056:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
1057:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Drain and delete mboxes */
1058:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_drain(msg->conn);
1059:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1060:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
1061:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1062:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1063:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1064:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1065:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         raw_remove(msg->conn->pcb.raw);
1066:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1067:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1068:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1069:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1070:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->pcb.udp->recv_arg = NULL;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 32


1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         udp_remove(msg->conn->pcb.udp);
1072:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1073:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1074:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1075:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1076:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL &&
1077:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
1078:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_CLOSE;
1079:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->msg.sd.shut = NETCONN_SHUT_RDWR;
1080:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
1081:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1082:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (lwip_netconn_do_close_internal(msg->conn, 0) != ERR_OK) {
1083:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
1084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
1085:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1086:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
1087:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
1088:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1090:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         lwip_netconn_do_close_internal(msg->conn);
1091:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1092:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* API_EVENT is called inside lwip_netconn_do_close_internal, before releasing
1093:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            the application thread, so we can return at this point! */
1094:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return;
1095:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1096:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1097:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1098:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1099:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->pcb.tcp = NULL;
1100:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* tcp netconns don't come here! */
1102:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1103:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* @todo: this lets select make the socket readable and writable,
1104:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        which is wrong! errfd instead? */
1105:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_RCVPLUS, 0);
1106:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
1107:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1108:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_sem_valid(LWIP_API_MSG_SEM(msg))) {
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
1110:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1111:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1112:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1113:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1114:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Bind a pcb contained in a netconn
1115:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_bind.
1116:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection and containing
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *          the IP address and port to bind to
1119:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1120:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1121:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_bind(void *m)
1122:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1123:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1124:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (ERR_IS_FATAL(msg->conn->last_err)) {
1126:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
1127:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 33


1128:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_VAL;
1129:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
1130:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1131:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1132:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1133:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = raw_bind(msg->conn->pcb.raw, API_EXPR_REF(msg->msg.bc.ipaddr));
1134:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1135:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1136:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = udp_bind(msg->conn->pcb.udp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port)
1139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1140:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1141:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = tcp_bind(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port)
1144:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1145:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1147:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1148:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1149:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1150:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1152:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1153:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1154:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1155:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1156:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * TCP callback function if a connection (opened by tcp_connect/lwip_netconn_do_connect) has
1157:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * been established (or reset by the remote host).
1158:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1159:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.connected) for parameters and return values
1160:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1161:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
1162:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_connected(void *arg, struct tcp_pcb *pcb, err_t err)
1163:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 644              		.loc 1 1163 0
 645              		.cfi_startproc
 646              		@ args = 0, pretend = 0, frame = 0
 647              		@ frame_needed = 0, uses_anonymous_args = 0
 648              	.LVL81:
1164:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
1165:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int was_blocking;
1166:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_t* op_completed_sem = NULL;
1167:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1168:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
1169:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1170:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
1171:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 649              		.loc 1 1172 0
 650 0000 0028     		cmp	r0, #0
 651 0002 5DD0     		beq	.L76
1163:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 652              		.loc 1 1163 0
 653 0004 70B5     		push	{r4, r5, r6, lr}
 654              	.LCFI4:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 34


 655              		.cfi_def_cfa_offset 16
 656              		.cfi_offset 4, -16
 657              		.cfi_offset 5, -12
 658              		.cfi_offset 6, -8
 659              		.cfi_offset 14, -4
 660 0006 0446     		mov	r4, r0
 661 0008 1546     		mov	r5, r2
1173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
1174:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1175:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1176:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_CONNECT", conn->state == NETCONN_CONNECT);
 662              		.loc 1 1176 0
 663 000a 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 664 000c 032B     		cmp	r3, #3
 665 000e 36D1     		bne	.L83
 666              	.LVL82:
 667              	.L67:
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 668              		.loc 1 1177 0
 669 0010 636A     		ldr	r3, [r4, #36]
 670 0012 002B     		cmp	r3, #0
 671 0014 3BD0     		beq	.L84
 672              	.L68:
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
1179:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn->current_msg != NULL) {
 673              		.loc 1 1180 0
 674 0016 636A     		ldr	r3, [r4, #36]
 675 0018 002B     		cmp	r3, #0
 676 001a 44D0     		beq	.L77
1181:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 677              		.loc 1 1181 0
 678 001c 1D71     		strb	r5, [r3, #4]
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 679              		.loc 1 1182 0
 680 001e 636A     		ldr	r3, [r4, #36]
 681 0020 1E68     		ldr	r6, [r3]
 682 0022 0C36     		adds	r6, r6, #12
 683              	.LVL83:
 684              	.L69:
1183:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1184:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP) && (err == ERR_OK)) {
 685              		.loc 1 1184 0
 686 0024 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 687 0026 03F0F003 		and	r3, r3, #240
 688 002a 102B     		cmp	r3, #16
 689 002c 3DD0     		beq	.L85
 690              	.L70:
1185:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     setup_tcp(conn);
1186:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1187:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   was_blocking = !IN_NONBLOCKING_CONNECT(conn);
 691              		.loc 1 1187 0
 692 002e 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 693              	.LVL84:
1188:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SET_NONBLOCKING_CONNECT(conn, 0);
 694              		.loc 1 1188 0
 695 0030 23F00402 		bic	r2, r3, #4
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 35


 696 0034 2277     		strb	r2, [r4, #28]
1189:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("blocking connect state error",
 697              		.loc 1 1189 0
 698 0036 13F00405 		ands	r5, r3, #4
 699 003a 00D1     		bne	.L71
 700              		.loc 1 1189 0 is_stmt 0 discriminator 2
 701 003c 46B9     		cbnz	r6, .L72
 702              	.L71:
 703              		.loc 1 1189 0 discriminator 3
 704 003e 05B1     		cbz	r5, .L73
 705              		.loc 1 1189 0 discriminator 5
 706 0040 36B1     		cbz	r6, .L72
 707              	.L73:
 708              		.loc 1 1189 0 discriminator 6
 709 0042 214B     		ldr	r3, .L87
 710              	.LVL85:
 711 0044 40F2A742 		movw	r2, #1191
 712 0048 2049     		ldr	r1, .L87+4
 713 004a 2148     		ldr	r0, .L87+8
 714 004c FFF7FEFF 		bl	printf
 715              	.LVL86:
 716              	.L72:
1190:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (was_blocking && op_completed_sem != NULL) ||
1191:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (!was_blocking && op_completed_sem == NULL));
1192:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->current_msg = NULL;
 717              		.loc 1 1192 0 is_stmt 1
 718 0050 0023     		movs	r3, #0
 719 0052 6362     		str	r3, [r4, #36]
1193:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 720              		.loc 1 1193 0
 721 0054 6370     		strb	r3, [r4, #1]
 722              	.LBB9:
1194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   NETCONN_SET_SAFE_ERR(conn, ERR_OK);
 723              		.loc 1 1194 0
 724 0056 FFF7FEFF 		bl	sys_arch_protect
 725              	.LVL87:
 726 005a 94F90830 		ldrsb	r3, [r4, #8]
 727 005e 13F10C0F 		cmn	r3, #12
 728 0062 01DB     		blt	.L74
 729              		.loc 1 1194 0 is_stmt 0 discriminator 2
 730 0064 0023     		movs	r3, #0
 731 0066 2372     		strb	r3, [r4, #8]
 732              	.L74:
 733              		.loc 1 1194 0 discriminator 4
 734 0068 FFF7FEFF 		bl	sys_arch_unprotect
 735              	.LVL88:
 736              	.LBE9:
1195:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 737              		.loc 1 1195 0 is_stmt 1 discriminator 4
 738 006c A36A     		ldr	r3, [r4, #40]
 739 006e 1BB1     		cbz	r3, .L75
 740              		.loc 1 1195 0 is_stmt 0 discriminator 1
 741 0070 0022     		movs	r2, #0
 742 0072 0221     		movs	r1, #2
 743 0074 2046     		mov	r0, r4
 744 0076 9847     		blx	r3
 745              	.LVL89:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 36


 746              	.L75:
1196:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1197:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (was_blocking) {
 747              		.loc 1 1197 0 is_stmt 1
 748 0078 EDB1     		cbz	r5, .L86
1198:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_signal(op_completed_sem);
1199:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 749              		.loc 1 1200 0
 750 007a 0020     		movs	r0, #0
 751              	.L66:
1201:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 752              		.loc 1 1201 0
 753 007c 70BD     		pop	{r4, r5, r6, pc}
 754              	.LVL90:
 755              	.L83:
1176:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 756              		.loc 1 1176 0 discriminator 1
 757 007e 124B     		ldr	r3, .L87
 758 0080 4FF49362 		mov	r2, #1176
 759              	.LVL91:
 760 0084 1349     		ldr	r1, .L87+12
 761              	.LVL92:
 762 0086 1248     		ldr	r0, .L87+8
 763              	.LVL93:
 764 0088 FFF7FEFF 		bl	printf
 765              	.LVL94:
 766 008c C0E7     		b	.L67
 767              	.L84:
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
 768              		.loc 1 1177 0 discriminator 1
 769 008e 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 770 0090 13F0040F 		tst	r3, #4
 771 0094 BFD1     		bne	.L68
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
 772              		.loc 1 1177 0 is_stmt 0 discriminator 2
 773 0096 0C4B     		ldr	r3, .L87
 774 0098 40F29A42 		movw	r2, #1178
 775 009c 0E49     		ldr	r1, .L87+16
 776 009e 0C48     		ldr	r0, .L87+8
 777 00a0 FFF7FEFF 		bl	printf
 778              	.LVL95:
 779 00a4 B7E7     		b	.L68
 780              	.L77:
1166:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 781              		.loc 1 1166 0 is_stmt 1
 782 00a6 0026     		movs	r6, #0
 783 00a8 BCE7     		b	.L69
 784              	.LVL96:
 785              	.L85:
1184:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     setup_tcp(conn);
 786              		.loc 1 1184 0 discriminator 1
 787 00aa 002D     		cmp	r5, #0
 788 00ac BFD1     		bne	.L70
1185:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 789              		.loc 1 1185 0
 790 00ae 2046     		mov	r0, r4
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 37


 791 00b0 FFF7FEFF 		bl	setup_tcp
 792              	.LVL97:
 793 00b4 BBE7     		b	.L70
 794              	.L86:
1198:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 795              		.loc 1 1198 0
 796 00b6 3046     		mov	r0, r6
 797 00b8 FFF7FEFF 		bl	sys_sem_signal
 798              	.LVL98:
1200:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 799              		.loc 1 1200 0
 800 00bc 0020     		movs	r0, #0
 801 00be DDE7     		b	.L66
 802              	.LVL99:
 803              	.L76:
 804              	.LCFI5:
 805              		.cfi_def_cfa_offset 0
 806              		.cfi_restore 4
 807              		.cfi_restore 5
 808              		.cfi_restore 6
 809              		.cfi_restore 14
1173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 810              		.loc 1 1173 0
 811 00c0 6FF00500 		mvn	r0, #5
 812              	.LVL100:
 813              		.loc 1 1201 0
 814 00c4 7047     		bx	lr
 815              	.L88:
 816 00c6 00BF     		.align	2
 817              	.L87:
 818 00c8 00000000 		.word	.LC0
 819 00cc 60000000 		.word	.LC12
 820 00d0 54000000 		.word	.LC2
 821 00d4 00000000 		.word	.LC10
 822 00d8 20000000 		.word	.LC11
 823              		.cfi_endproc
 824              	.LFE162:
 826              		.section	.text.lwip_netconn_do_dns_found,"ax",%progbits
 827              		.align	1
 828              		.syntax unified
 829              		.thumb
 830              		.thumb_func
 831              		.fpu fpv4-sp-d16
 833              	lwip_netconn_do_dns_found:
 834              	.LFB172:
1202:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1203:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1204:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1205:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Connect a pcb contained inside a netconn
1206:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_connect.
1207:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1208:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection and containing
1209:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *          the IP address and port to connect to
1210:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1211:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1212:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_connect(void *m)
1213:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 38


1214:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1215:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1216:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
1217:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
1218:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_CLSD;
1219:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1220:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1221:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1222:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_RAW:
1223:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = raw_connect(msg->conn->pcb.raw, API_EXPR_REF(msg->msg.bc.ipaddr));
1224:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
1225:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1226:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1227:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_UDP:
1228:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = udp_connect(msg->conn->pcb.udp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port
1229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
1230:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1231:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1232:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_TCP:
1233:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Prevent connect while doing any other action. */
1234:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state == NETCONN_CONNECT) {
1235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_ALREADY;
1236:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->state != NETCONN_NONE) {
1237:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_ISCONN;
1238:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1239:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         setup_tcp(msg->conn);
1240:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = tcp_connect(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr),
1241:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.bc.port, lwip_netconn_do_connected);
1242:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->err == ERR_OK) {
1243:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           u8_t non_blocking = netconn_is_nonblocking(msg->conn);
1244:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CONNECT;
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
1246:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (non_blocking) {
1247:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = ERR_INPROGRESS;
1248:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->conn->current_msg = msg;
1250:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
1251:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                when the connection is established! */
1252:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CONNECT);
1254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
1255:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1256:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state != NETCONN_CONNECT);
1258:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1259:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             return;
1260:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1261:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1262:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1263:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ERROR("Invalid netconn type", 0, do{ msg->err = ERR_VAL; }while(0));
1267:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
1268:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1269:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1270:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* For all other protocols, netconn_connect() calls TCPIP_APIMSG(),
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 39


1271:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      so use TCPIP_APIMSG_ACK() here. */
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1273:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1274:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1275:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1276:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Disconnect a pcb contained inside a netconn
1277:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Only used for UDP netconns.
1278:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_disconnect.
1279:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1280:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection to disconnect
1281:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1282:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1283:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_disconnect(void *m)
1284:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1285:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1286:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1287:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1288:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_UDP) {
1289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
1290:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
1291:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1292:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1293:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1294:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_VAL;
1295:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1297:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1298:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1299:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1300:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Set a TCP pcb contained in a netconn into listen mode
1302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_listen.
1303:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1304:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection
1305:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1306:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1307:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_listen(void *m)
1308:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1309:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1310:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (ERR_IS_FATAL(msg->conn->last_err)) {
1312:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
1313:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1314:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_CONN;
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->conn->state == NETCONN_NONE) {
1318:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct tcp_pcb* lpcb;
1319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (msg->conn->pcb.tcp->state != CLOSED) {
1320:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* connection is not closed, cannot listen */
1321:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = ERR_VAL;
1322:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err_t err;
1324:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             u8_t backlog;
1325:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
1326:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             backlog = msg->msg.lb.backlog;
1327:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else  /* TCP_LISTEN_BACKLOG */
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 40


1328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             backlog = TCP_DEFAULT_LISTEN_BACKLOG;
1329:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
1330:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV4 && LWIP_IPV6
1331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* "Socket API like" dual-stack support: If IP to listen to is IP6_ADDR_ANY,
1332:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              * and NETCONN_FLAG_IPV6_V6ONLY is NOT set, use IP_ANY_TYPE to listen
1333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              */
1334:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (ip_addr_cmp(&msg->conn->pcb.ip->local_ip, IP6_ADDR_ANY) &&
1335:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (netconn_get_ipv6only(msg->conn) == 0)) {
1336:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* change PCB type to IPADDR_TYPE_ANY */
1337:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               IP_SET_TYPE_VAL(msg->conn->pcb.tcp->local_ip,  IPADDR_TYPE_ANY);
1338:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               IP_SET_TYPE_VAL(msg->conn->pcb.tcp->remote_ip, IPADDR_TYPE_ANY);
1339:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1340:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1341:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1342:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             lpcb = tcp_listen_with_backlog_and_err(msg->conn->pcb.tcp, backlog, &err);
1343:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1344:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (lpcb == NULL) {
1345:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* in this case, the old pcb is still allocated */
1346:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->err = err;
1347:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
1348:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* delete the recvmbox and allocate the acceptmbox */
1349:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               if (sys_mbox_valid(&msg->conn->recvmbox)) {
1350:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 /** @todo: should we drain the recvmbox here? */
1351:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 sys_mbox_free(&msg->conn->recvmbox);
1352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 sys_mbox_set_invalid(&msg->conn->recvmbox);
1353:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
1354:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->err = ERR_OK;
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               if (!sys_mbox_valid(&msg->conn->acceptmbox)) {
1356:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
1357:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
1358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               if (msg->err == ERR_OK) {
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->conn->state = NETCONN_LISTEN;
1360:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->conn->pcb.tcp = lpcb;
1361:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 tcp_arg(msg->conn->pcb.tcp, msg->conn);
1362:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 tcp_accept(msg->conn->pcb.tcp, accept_function);
1363:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               } else {
1364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 /* since the old pcb is already deallocated, free lpcb now */
1365:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 tcp_close(lpcb);
1366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->conn->pcb.tcp = NULL;
1367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
1368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1369:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1370:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else if (msg->conn->state == NETCONN_LISTEN) {
1371:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* already listening, allow updating of the backlog */
1372:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = ERR_OK;
1373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_backlog_set(msg->conn->pcb.tcp, msg->msg.lb.backlog);
1374:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1375:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_ARG;
1377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1378:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1381:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1382:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1383:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 41


1385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Send some data on a RAW or UDP pcb contained in a netconn
1386:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_send
1387:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection
1389:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1390:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1391:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_send(void *m)
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1394:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1395:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (ERR_IS_FATAL(msg->conn->last_err)) {
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
1397:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_CONN;
1399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
1400:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1401:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1403:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (ip_addr_isany(&msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1404:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = raw_send(msg->conn->pcb.raw, msg->msg.b->p);
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = raw_sendto(msg->conn->pcb.raw, msg->msg.b->p, &msg->msg.b->addr);
1407:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1409:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1410:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1412:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_CHECKSUM_ON_COPY
1413:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (ip_addr_isany(&msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = udp_send_chksum(msg->conn->pcb.udp, msg->msg.b->p,
1415:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->msg.b->flags & NETBUF_FLAG_CHKSUM, msg->msg.b->toport_chksum);
1416:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = udp_sendto_chksum(msg->conn->pcb.udp, msg->msg.b->p,
1418:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             &msg->msg.b->addr, msg->msg.b->port,
1419:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->msg.b->flags & NETBUF_FLAG_CHKSUM, msg->msg.b->toport_chksum);
1420:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1421:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_CHECKSUM_ON_COPY */
1422:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (ip_addr_isany_val(msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1423:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
1424:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = udp_sendto(msg->conn->pcb.udp, msg->msg.b->p, &msg->msg.b->addr, msg->msg.b->p
1426:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1427:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1428:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1429:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1431:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1432:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1433:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1434:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1436:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1437:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1438:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1439:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1440:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Indicate data has been received from a TCP pcb contained in a netconn
1441:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_recv
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 42


1442:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1443:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection
1444:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1445:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1446:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_recv(void *m)
1447:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1448:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1449:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1450:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_OK;
1451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1453:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       u32_t remaining = msg->msg.r.len;
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         u16_t recved = (remaining > 0xffff) ? 0xffff : (u16_t)remaining;
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
1457:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } while (remaining != 0);
1459:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1460:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1462:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1463:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1464:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
1465:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /** Indicate that a TCP pcb has been accepted
1466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_accept
1467:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1468:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection
1469:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1470:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1471:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_accepted(void *m)
1472:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1473:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1474:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1475:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_OK;
1476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1477:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1478:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_backlog_accepted(msg->conn->pcb.tcp);
1479:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1481:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1482:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1483:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
1484:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1485:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * See if more data needs to be written from a previous call to netconn_write.
1487:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called initially from lwip_netconn_do_write. If the first call can't send all data
1488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * (because of low memory or empty send-buffer), this function is called again
1489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * from sent_tcp() or poll_tcp() to send more data. If all data is sent, the
1490:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * blocking application thread (waiting in netconn_write) is released.
1491:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn netconn (that is currently in state NETCONN_WRITE) to process
1493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @return ERR_OK
1494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *         ERR_MEM if LWIP_TCPIP_CORE_LOCKING=1 and sending hasn't yet finished
1495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1496:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
1497:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_writemore(struct netconn *conn  WRITE_DELAYED_PARAM)
1498:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 43


1499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
1500:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   const void *dataptr;
1501:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len, available;
1502:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t write_finished = 0;
1503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   size_t diff;
1504:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t dontblock;
1505:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t apiflags;
1506:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", conn != NULL);
1508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
1509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
1510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
1511:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->write_offset < conn->current_msg->msg.w.len",
1512:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->write_offset < conn->current_msg->msg.w.len);
1513:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1514:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   apiflags = conn->current_msg->msg.w.apiflags;
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   dontblock = netconn_is_nonblocking(conn) || (apiflags & NETCONN_DONTBLOCK);
1516:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1517:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
1518:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((conn->send_timeout != 0) &&
1519:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((s32_t)(sys_now() - conn->current_msg->msg.w.time_started) >= conn->send_timeout)) {
1520:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     write_finished = 1;
1521:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->write_offset == 0) {
1522:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* nothing has been written */
1523:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_WOULDBLOCK;
1524:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.w.len = 0;
1525:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1526:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* partial write */
1527:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_OK;
1528:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.w.len = conn->write_offset;
1529:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->write_offset = 0;
1530:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1531:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1532:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
1533:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1534:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     dataptr = (const u8_t*)conn->current_msg->msg.w.dataptr + conn->write_offset;
1535:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     diff = conn->current_msg->msg.w.len - conn->write_offset;
1536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (diff > 0xffffUL) { /* max_u16_t */
1537:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       len = 0xffff;
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       apiflags |= TCP_WRITE_FLAG_MORE;
1539:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1540:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       len = (u16_t)diff;
1541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1542:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     available = tcp_sndbuf(conn->pcb.tcp);
1543:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (available < len) {
1544:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* don't try to write more than sendbuf */
1545:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       len = available;
1546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (dontblock) {
1547:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (!len) {
1548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_WOULDBLOCK;
1549:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           goto err_mem;
1550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1551:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
1553:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1555:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("lwip_netconn_do_writemore: invalid length!", ((conn->write_offset + len) <= conn->
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 44


1556:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = tcp_write(conn->pcb.tcp, dataptr, len, apiflags);
1557:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* if OK or memory error, check available space */
1558:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((err == ERR_OK) || (err == ERR_MEM)) {
1559:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_mem:
1560:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (dontblock && (len < conn->current_msg->msg.w.len)) {
1561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write did not write everything: mark the pcb non-writable
1562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            and let poll_tcp check writable space to mark the pcb writable again */
1563:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDMINUS, len);
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->flags |= NETCONN_FLAG_CHECK_WRITESPACE;
1565:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if ((tcp_sndbuf(conn->pcb.tcp) <= TCP_SNDLOWAT) ||
1566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
1567:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* The queued byte- or pbuf-count exceeds the configured low-water limit,
1568:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            let select mark this pcb as non-writable. */
1569:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDMINUS, len);
1570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1571:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1572:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1573:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
1574:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err_t out_err;
1575:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->write_offset += len;
1576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((conn->write_offset == conn->current_msg->msg.w.len) || dontblock) {
1577:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* return sent length */
1578:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.len = conn->write_offset;
1579:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* everything was written */
1580:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
1581:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1582:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       out_err = tcp_output(conn->pcb.tcp);
1583:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (ERR_IS_FATAL(out_err) || (out_err == ERR_RTE)) {
1584:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails with fatal error or no route is found,
1585:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            don't try writing any more but return the error
1586:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            to the application thread. */
1587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = out_err;
1588:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
1589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.len = 0;
1590:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1591:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (err == ERR_MEM) {
1592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* If ERR_MEM, we wait for sent_tcp or poll_tcp to be called.
1593:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          For blocking sockets, we do NOT return to the application
1594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          thread, since ERR_MEM is only a temporary error! Non-blocking
1595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          will remain non-writable until sent_tcp/poll_tcp is called */
1596:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1597:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* tcp_write returned ERR_MEM, try tcp_output anyway */
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err_t out_err = tcp_output(conn->pcb.tcp);
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (ERR_IS_FATAL(out_err) || (out_err == ERR_RTE)) {
1600:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails with fatal error or no route is found,
1601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            don't try writing any more but return the error
1602:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            to the application thread. */
1603:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = out_err;
1604:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
1605:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.len = 0;
1606:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (dontblock) {
1607:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write is done on ERR_MEM */
1608:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_WOULDBLOCK;
1609:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
1610:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.len = 0;
1611:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1612:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 45


1613:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* On errors != ERR_MEM, we don't try writing any more but return
1614:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          the error to the application thread. */
1615:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       write_finished = 1;
1616:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.w.len = 0;
1617:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1618:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1619:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (write_finished) {
1620:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* everything was written: set back connection state
1621:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        and back to application task */
1622:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_t* op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
1623:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
1624:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
1625:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->write_offset = 0;
1626:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, err);
1628:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1629:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (delayed)
1630:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1631:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
1632:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
1633:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1634:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1635:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1636:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   else {
1637:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
1638:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1639:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1640:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
1641:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1642:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1643:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1644:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1645:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Send some data on a TCP pcb contained in a netconn
1646:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_write
1647:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1648:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection
1649:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1650:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1651:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_write(void *m)
1652:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1654:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1655:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (ERR_IS_FATAL(msg->conn->last_err)) {
1656:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
1657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1659:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1660:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state != NETCONN_NONE) {
1661:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
1662:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_INPROGRESS;
1663:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->pcb.tcp != NULL) {
1664:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
1665:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* set all the variables used by lwip_netconn_do_writemore */
1666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL &&
1667:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
1668:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
1669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 46


1670:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset = 0;
1671:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1672:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (lwip_netconn_do_writemore(msg->conn, 0) != ERR_OK) {
1673:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
1674:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
1675:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1676:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state != NETCONN_WRITE);
1678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1679:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         lwip_netconn_do_writemore(msg->conn);
1681:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1682:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* for both cases: if lwip_netconn_do_writemore was called, don't ACK the APIMSG
1683:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            since lwip_netconn_do_writemore ACKs it! */
1684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return;
1685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_CONN;
1687:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1688:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCP */
1689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_VAL;
1690:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1691:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if (LWIP_UDP || LWIP_RAW)
1692:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1693:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_VAL;
1694:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* (LWIP_UDP || LWIP_RAW) */
1695:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1696:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1697:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1698:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1700:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1701:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Return a connection's local or remote address
1702:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_getaddr
1703:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1704:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1706:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1707:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_getaddr(void *m)
1708:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1709:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1710:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.ip != NULL) {
1712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->msg.ad.local) {
1713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(API_EXPR_DEREF(msg->msg.ad.ipaddr),
1714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->pcb.ip->local_ip);
1715:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1716:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(API_EXPR_DEREF(msg->msg.ad.ipaddr),
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->pcb.ip->remote_ip);
1718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1719:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
1721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1722:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1723:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_RAW:
1724:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->msg.ad.local) {
1725:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.raw->protocol;
1726:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 47


1727:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* return an error as connecting is only a helper for upper layers */
1728:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_CONN;
1729:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1730:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
1731:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1732:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1733:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_UDP:
1734:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->msg.ad.local) {
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.udp->local_port;
1736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if ((msg->conn->pcb.udp->flags & UDP_FLAGS_CONNECTED) == 0) {
1738:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = ERR_CONN;
1739:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.udp->remote_port;
1741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1742:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1743:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
1744:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1745:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1746:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_TCP:
1747:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((msg->msg.ad.local == 0) &&
1748:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           ((msg->conn->pcb.tcp->state == CLOSED) || (msg->conn->pcb.tcp->state == LISTEN))) {
1749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* pcb is not connected and remote name is requested */
1750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_CONN;
1751:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1752:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EXPR_DEREF(msg->msg.ad.port) = (msg->msg.ad.local ? msg->conn->pcb.tcp->local_port : ms
1753:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1754:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
1755:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1756:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
1757:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("invalid netconn_type", 0);
1758:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
1759:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1760:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1761:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_CONN;
1762:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1763:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1764:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1765:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1766:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1767:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Close or half-shutdown a TCP pcb contained in a netconn
1768:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_close
1769:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * In contrast to closing sockets, the netconn is not deallocated.
1770:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection
1772:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1773:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_close(void *m)
1775:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1776:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1777:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1778:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1779:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state state = msg->conn->state;
1780:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* First check if this is a TCP netconn and if it is in a correct state
1781:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (LISTEN doesn't support half shutdown) */
1782:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((msg->conn->pcb.tcp != NULL) &&
1783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) &&
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 48


1784:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
1785:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Check if we are in a connected state */
1786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (state == NETCONN_CONNECT) {
1787:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
1788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_CONN;
1789:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (state == NETCONN_WRITE) {
1790:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1791:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->msg.sd.shut & NETCONN_SHUT_WR) {
1792:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* close requested, abort running write */
1793:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_sem_t* write_completed_sem;
1794:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->conn->current_msg != NULL", msg->conn->current_msg != NULL);
1795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_completed_sem = LWIP_API_MSG_SEM(msg->conn->current_msg);
1796:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg->err = ERR_CLSD;
1797:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = NULL;
1798:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset = 0;
1799:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_NONE;
1800:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         state = NETCONN_NONE;
1801:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         NETCONN_SET_SAFE_ERR(msg->conn, ERR_CLSD);
1802:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_sem_signal(write_completed_sem);
1803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1804:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.sd.shut == NETCONN_SHUT_RD", msg->msg.sd.shut == NETCONN_SHUT_RD);
1805:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* In this case, let the write continue and do not interfere with
1806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            conn->current_msg or conn->state! */
1807:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = tcp_shutdown(msg->conn->pcb.tcp, 1, 0);
1808:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1809:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1810:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (state == NETCONN_NONE) {
1811:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1812:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_INPROGRESS;
1813:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1814:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1815:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->msg.sd.shut & NETCONN_SHUT_RD) {
1816:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Drain and delete mboxes */
1817:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netconn_drain(msg->conn);
1818:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL &&
1820:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset == 0);
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
1822:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
1823:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (lwip_netconn_do_close_internal(msg->conn, 0) != ERR_OK) {
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
1826:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
1830:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1831:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(msg->conn);
1833:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* for tcp netconns, lwip_netconn_do_close_internal ACKs the message */
1835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return;
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1838:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1839:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1840:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_CONN;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 49


1841:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1842:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1843:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1844:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1845:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IGMP || (LWIP_IPV6 && LWIP_IPV6_MLD)
1846:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Join multicast groups for UDP netconns.
1848:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_join_leave_group
1849:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1850:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection
1851:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1852:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1853:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_join_leave_group(void *m)
1854:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1855:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1856:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1857:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (ERR_IS_FATAL(msg->conn->last_err)) {
1858:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
1859:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1860:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
1861:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_UDP) {
1862:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1863:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV6 && LWIP_IPV6_MLD
1864:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (NETCONNTYPE_ISIPV6(msg->conn->type)) {
1865:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (msg->msg.jl.join_or_leave == NETCONN_JOIN) {
1866:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = mld6_joingroup(ip_2_ip6(API_EXPR_REF(msg->msg.jl.netif_addr)),
1867:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               ip_2_ip6(API_EXPR_REF(msg->msg.jl.multiaddr)));
1868:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1869:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = mld6_leavegroup(ip_2_ip6(API_EXPR_REF(msg->msg.jl.netif_addr)),
1870:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               ip_2_ip6(API_EXPR_REF(msg->msg.jl.multiaddr)));
1871:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1872:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1873:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         else
1874:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IPV6 && LWIP_IPV6_MLD */
1875:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         {
1876:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IGMP
1877:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (msg->msg.jl.join_or_leave == NETCONN_JOIN) {
1878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = igmp_joingroup(ip_2_ip4(API_EXPR_REF(msg->msg.jl.netif_addr)),
1879:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               ip_2_ip4(API_EXPR_REF(msg->msg.jl.multiaddr)));
1880:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1881:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = igmp_leavegroup(ip_2_ip4(API_EXPR_REF(msg->msg.jl.netif_addr)),
1882:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               ip_2_ip4(API_EXPR_REF(msg->msg.jl.multiaddr)));
1883:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1884:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IGMP */
1885:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1886:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1887:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if (LWIP_TCP || LWIP_RAW)
1888:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1889:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_VAL;
1890:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* (LWIP_TCP || LWIP_RAW) */
1891:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1892:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1893:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_CONN;
1894:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1895:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1896:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1897:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 50


1898:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IGMP || (LWIP_IPV6 && LWIP_IPV6_MLD) */
1899:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1900:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_DNS
1901:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1902:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Callback function that is called when DNS name is resolved
1903:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * (or on timeout). A waiting application thread is waked up by
1904:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * signaling the semaphore.
1905:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1906:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
1907:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_dns_found(const char *name, const ip_addr_t *ipaddr, void *arg)
1908:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 835              		.loc 1 1908 0
 836              		.cfi_startproc
 837              		@ args = 0, pretend = 0, frame = 0
 838              		@ frame_needed = 0, uses_anonymous_args = 0
 839              	.LVL101:
 840 0000 08B5     		push	{r3, lr}
 841              	.LCFI6:
 842              		.cfi_def_cfa_offset 8
 843              		.cfi_offset 3, -8
 844              		.cfi_offset 14, -4
 845              	.LVL102:
1909:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct dns_api_msg *msg = (struct dns_api_msg*)arg;
1910:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1911:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* we trust the internal implementation to be correct :-) */
1912:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(name);
1913:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1914:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (ipaddr == NULL) {
 846              		.loc 1 1914 0
 847 0002 51B1     		cbz	r1, .L93
 848 0004 0B46     		mov	r3, r1
1915:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* timeout or memory error */
1916:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EXPR_DEREF(msg->err) = ERR_VAL;
1917:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1918:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* address was resolved */
1919:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EXPR_DEREF(msg->err) = ERR_OK;
 849              		.loc 1 1919 0
 850 0006 D168     		ldr	r1, [r2, #12]
 851              	.LVL103:
 852 0008 0020     		movs	r0, #0
 853              	.LVL104:
 854 000a 0870     		strb	r0, [r1]
1920:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EXPR_DEREF(msg->addr) = *ipaddr;
 855              		.loc 1 1920 0
 856 000c 5168     		ldr	r1, [r2, #4]
 857 000e 1B68     		ldr	r3, [r3]
 858              	.LVL105:
 859 0010 0B60     		str	r3, [r1]
 860              	.L91:
1921:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1922:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* wake up the application task waiting in netconn_gethostbyname */
1923:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_signal(API_EXPR_REF_SEM(msg->sem));
 861              		.loc 1 1923 0
 862 0012 9068     		ldr	r0, [r2, #8]
 863 0014 FFF7FEFF 		bl	sys_sem_signal
 864              	.LVL106:
1924:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 51


 865              		.loc 1 1924 0
 866 0018 08BD     		pop	{r3, pc}
 867              	.LVL107:
 868              	.L93:
1916:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 869              		.loc 1 1916 0
 870 001a D368     		ldr	r3, [r2, #12]
 871 001c FA21     		movs	r1, #250
 872              	.LVL108:
 873 001e 1970     		strb	r1, [r3]
 874 0020 F7E7     		b	.L91
 875              		.cfi_endproc
 876              	.LFE172:
 878              		.section	.text.lwip_netconn_do_writemore,"ax",%progbits
 879              		.align	1
 880              		.syntax unified
 881              		.thumb
 882              		.thumb_func
 883              		.fpu fpv4-sp-d16
 885              	lwip_netconn_do_writemore:
 886              	.LFB168:
1498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 887              		.loc 1 1498 0
 888              		.cfi_startproc
 889              		@ args = 0, pretend = 0, frame = 0
 890              		@ frame_needed = 0, uses_anonymous_args = 0
 891              	.LVL109:
 892 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 893              	.LCFI7:
 894              		.cfi_def_cfa_offset 32
 895              		.cfi_offset 3, -32
 896              		.cfi_offset 4, -28
 897              		.cfi_offset 5, -24
 898              		.cfi_offset 6, -20
 899              		.cfi_offset 7, -16
 900              		.cfi_offset 8, -12
 901              		.cfi_offset 9, -8
 902              		.cfi_offset 14, -4
 903 0004 8846     		mov	r8, r1
 904              	.LVL110:
1507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 905              		.loc 1 1507 0
 906 0006 0446     		mov	r4, r0
 907 0008 B8B1     		cbz	r0, .L129
 908              	.LVL111:
 909              	.L95:
1508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 910              		.loc 1 1508 0
 911 000a 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 912 000c 012B     		cmp	r3, #1
 913 000e 1CD1     		bne	.L130
 914              	.L96:
1509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
 915              		.loc 1 1509 0
 916 0010 636A     		ldr	r3, [r4, #36]
 917 0012 13B3     		cbz	r3, .L131
 918              	.L97:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 52


1510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->write_offset < conn->current_msg->msg.w.len",
 919              		.loc 1 1510 0
 920 0014 6368     		ldr	r3, [r4, #4]
 921 0016 43B3     		cbz	r3, .L132
 922              	.L98:
1511:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->write_offset < conn->current_msg->msg.w.len);
 923              		.loc 1 1511 0
 924 0018 226A     		ldr	r2, [r4, #32]
 925 001a 636A     		ldr	r3, [r4, #36]
 926 001c DB68     		ldr	r3, [r3, #12]
 927 001e 9A42     		cmp	r2, r3
 928 0020 2BD2     		bcs	.L133
 929              	.L99:
1514:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   dontblock = netconn_is_nonblocking(conn) || (apiflags & NETCONN_DONTBLOCK);
 930              		.loc 1 1514 0
 931 0022 626A     		ldr	r2, [r4, #36]
 932 0024 92F81090 		ldrb	r9, [r2, #16]	@ zero_extendqisi2
 933              	.LVL112:
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 934              		.loc 1 1515 0
 935 0028 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 936 002a 13F0020F 		tst	r3, #2
 937 002e 2CD1     		bne	.L123
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 938              		.loc 1 1515 0 is_stmt 0 discriminator 2
 939 0030 19F0040F 		tst	r9, #4
 940 0034 41D0     		beq	.L124
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 941              		.loc 1 1515 0
 942 0036 0127     		movs	r7, #1
 943 0038 28E0     		b	.L100
 944              	.LVL113:
 945              	.L129:
1507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 946              		.loc 1 1507 0 is_stmt 1 discriminator 1
 947 003a 6E4B     		ldr	r3, .L137
 948 003c 40F2E352 		movw	r2, #1507
 949 0040 6D49     		ldr	r1, .L137+4
 950              	.LVL114:
 951 0042 6E48     		ldr	r0, .L137+8
 952              	.LVL115:
 953 0044 FFF7FEFF 		bl	printf
 954              	.LVL116:
 955 0048 DFE7     		b	.L95
 956              	.L130:
1508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 957              		.loc 1 1508 0 discriminator 1
 958 004a 6A4B     		ldr	r3, .L137
 959 004c 40F2E452 		movw	r2, #1508
 960 0050 6B49     		ldr	r1, .L137+12
 961 0052 6A48     		ldr	r0, .L137+8
 962 0054 FFF7FEFF 		bl	printf
 963              	.LVL117:
 964 0058 DAE7     		b	.L96
 965              	.L131:
1509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
 966              		.loc 1 1509 0 discriminator 1
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 53


 967 005a 664B     		ldr	r3, .L137
 968 005c 40F2E552 		movw	r2, #1509
 969 0060 6849     		ldr	r1, .L137+16
 970 0062 6648     		ldr	r0, .L137+8
 971 0064 FFF7FEFF 		bl	printf
 972              	.LVL118:
 973 0068 D4E7     		b	.L97
 974              	.L132:
1510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->write_offset < conn->current_msg->msg.w.len",
 975              		.loc 1 1510 0 discriminator 1
 976 006a 624B     		ldr	r3, .L137
 977 006c 40F2E652 		movw	r2, #1510
 978 0070 6549     		ldr	r1, .L137+20
 979 0072 6248     		ldr	r0, .L137+8
 980 0074 FFF7FEFF 		bl	printf
 981              	.LVL119:
 982 0078 CEE7     		b	.L98
 983              	.L133:
1511:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->write_offset < conn->current_msg->msg.w.len);
 984              		.loc 1 1511 0 discriminator 1
 985 007a 5E4B     		ldr	r3, .L137
 986 007c 4FF4BD62 		mov	r2, #1512
 987 0080 6249     		ldr	r1, .L137+24
 988 0082 5E48     		ldr	r0, .L137+8
 989 0084 FFF7FEFF 		bl	printf
 990              	.LVL120:
 991 0088 CBE7     		b	.L99
 992              	.LVL121:
 993              	.L123:
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 994              		.loc 1 1515 0
 995 008a 0127     		movs	r7, #1
 996              	.L100:
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 997              		.loc 1 1515 0 is_stmt 0 discriminator 6
 998 008c FFB2     		uxtb	r7, r7
 999              	.LVL122:
1534:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     diff = conn->current_msg->msg.w.len - conn->write_offset;
 1000              		.loc 1 1534 0 is_stmt 1 discriminator 6
 1001 008e 9668     		ldr	r6, [r2, #8]
 1002 0090 236A     		ldr	r3, [r4, #32]
 1003 0092 1E44     		add	r6, r6, r3
 1004              	.LVL123:
1535:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (diff > 0xffffUL) { /* max_u16_t */
 1005              		.loc 1 1535 0 discriminator 6
 1006 0094 D268     		ldr	r2, [r2, #12]
 1007 0096 D51A     		subs	r5, r2, r3
 1008              	.LVL124:
1536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       len = 0xffff;
 1009              		.loc 1 1536 0 discriminator 6
 1010 0098 B5F5803F 		cmp	r5, #65536
 1011 009c 0FD3     		bcc	.L101
 1012              	.LVL125:
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 1013              		.loc 1 1538 0
 1014 009e 49F00209 		orr	r9, r9, #2
 1015              	.LVL126:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 54


1537:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       apiflags |= TCP_WRITE_FLAG_MORE;
 1016              		.loc 1 1537 0
 1017 00a2 4FF6FF75 		movw	r5, #65535
 1018              	.LVL127:
 1019              	.L102:
1542:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (available < len) {
 1020              		.loc 1 1542 0
 1021 00a6 6168     		ldr	r1, [r4, #4]
 1022 00a8 B1F86010 		ldrh	r1, [r1, #96]
 1023              	.LVL128:
1543:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* don't try to write more than sendbuf */
 1024              		.loc 1 1543 0
 1025 00ac 8D42     		cmp	r5, r1
 1026 00ae 0BD9     		bls	.L103
 1027              	.LVL129:
1546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (!len) {
 1028              		.loc 1 1546 0
 1029 00b0 3FB1     		cbz	r7, .L104
1547:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_WOULDBLOCK;
 1030              		.loc 1 1547 0
 1031 00b2 0029     		cmp	r1, #0
 1032 00b4 38D0     		beq	.L125
1545:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (dontblock) {
 1033              		.loc 1 1545 0
 1034 00b6 0D46     		mov	r5, r1
 1035 00b8 06E0     		b	.L103
 1036              	.LVL130:
 1037              	.L124:
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1038              		.loc 1 1515 0
 1039 00ba 0027     		movs	r7, #0
 1040 00bc E6E7     		b	.L100
 1041              	.LVL131:
 1042              	.L101:
1540:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1043              		.loc 1 1540 0
 1044 00be ADB2     		uxth	r5, r5
 1045              	.LVL132:
 1046 00c0 F1E7     		b	.L102
 1047              	.LVL133:
 1048              	.L104:
1552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1049              		.loc 1 1552 0
 1050 00c2 49F00209 		orr	r9, r9, #2
 1051              	.LVL134:
1545:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (dontblock) {
 1052              		.loc 1 1545 0
 1053 00c6 0D46     		mov	r5, r1
 1054              	.LVL135:
 1055              	.L103:
1555:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = tcp_write(conn->pcb.tcp, dataptr, len, apiflags);
 1056              		.loc 1 1555 0
 1057 00c8 2B44     		add	r3, r3, r5
 1058              	.LVL136:
 1059 00ca 9A42     		cmp	r2, r3
 1060 00cc 24D3     		bcc	.L134
 1061              	.LVL137:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 55


 1062              	.L106:
1556:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* if OK or memory error, check available space */
 1063              		.loc 1 1556 0
 1064 00ce 4B46     		mov	r3, r9
 1065 00d0 2A46     		mov	r2, r5
 1066 00d2 3146     		mov	r1, r6
 1067 00d4 6068     		ldr	r0, [r4, #4]
 1068 00d6 FFF7FEFF 		bl	tcp_write
 1069              	.LVL138:
 1070 00da 0646     		mov	r6, r0
 1071              	.LVL139:
1558:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_mem:
 1072              		.loc 1 1558 0
 1073 00dc 431C     		adds	r3, r0, #1
 1074 00de DBB2     		uxtb	r3, r3
 1075 00e0 012B     		cmp	r3, #1
 1076 00e2 24D9     		bls	.L105
 1077              	.LVL140:
 1078              	.L107:
1573:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err_t out_err;
 1079              		.loc 1 1573 0
 1080 00e4 002E     		cmp	r6, #0
 1081 00e6 49D1     		bne	.L111
 1082              	.LBB10:
1575:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((conn->write_offset == conn->current_msg->msg.w.len) || dontblock) {
 1083              		.loc 1 1575 0
 1084 00e8 236A     		ldr	r3, [r4, #32]
 1085 00ea 1D44     		add	r5, r5, r3
 1086              	.LVL141:
 1087 00ec 2562     		str	r5, [r4, #32]
1576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* return sent length */
 1088              		.loc 1 1576 0
 1089 00ee 636A     		ldr	r3, [r4, #36]
 1090 00f0 DA68     		ldr	r2, [r3, #12]
 1091 00f2 9542     		cmp	r5, r2
 1092 00f4 00D0     		beq	.L112
1576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* return sent length */
 1093              		.loc 1 1576 0 is_stmt 0 discriminator 1
 1094 00f6 0FB1     		cbz	r7, .L113
 1095              	.L112:
1578:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* everything was written */
 1096              		.loc 1 1578 0 is_stmt 1
 1097 00f8 DD60     		str	r5, [r3, #12]
 1098              	.LVL142:
1580:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1099              		.loc 1 1580 0
 1100 00fa 0127     		movs	r7, #1
 1101              	.LVL143:
 1102              	.L113:
1582:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (ERR_IS_FATAL(out_err) || (out_err == ERR_RTE)) {
 1103              		.loc 1 1582 0
 1104 00fc 6068     		ldr	r0, [r4, #4]
 1105 00fe FFF7FEFF 		bl	tcp_output
 1106              	.LVL144:
1583:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails with fatal error or no route is found,
 1107              		.loc 1 1583 0
 1108 0102 10F10C0F 		cmn	r0, #12
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 56


 1109 0106 34DB     		blt	.L114
1583:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails with fatal error or no route is found,
 1110              		.loc 1 1583 0 is_stmt 0 discriminator 1
 1111 0108 10F1040F 		cmn	r0, #4
 1112 010c 31D0     		beq	.L114
 1113              	.LBE10:
1619:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* everything was written: set back connection state
 1114              		.loc 1 1619 0 is_stmt 1
 1115 010e 002F     		cmp	r7, #0
 1116 0110 3AD1     		bne	.L116
1637:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1117              		.loc 1 1637 0
 1118 0112 4FF0FF36 		mov	r6, #-1
 1119              	.LVL145:
 1120 0116 4FE0     		b	.L120
 1121              	.LVL146:
 1122              	.L134:
1555:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = tcp_write(conn->pcb.tcp, dataptr, len, apiflags);
 1123              		.loc 1 1555 0 discriminator 1
 1124 0118 364B     		ldr	r3, .L137
 1125 011a 40F21362 		movw	r2, #1555
 1126              	.LVL147:
 1127 011e 3C49     		ldr	r1, .L137+28
 1128              	.LVL148:
 1129 0120 3648     		ldr	r0, .L137+8
 1130 0122 FFF7FEFF 		bl	printf
 1131              	.LVL149:
 1132 0126 D2E7     		b	.L106
 1133              	.LVL150:
 1134              	.L125:
1545:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (dontblock) {
 1135              		.loc 1 1545 0
 1136 0128 0D46     		mov	r5, r1
1548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           goto err_mem;
 1137              		.loc 1 1548 0
 1138 012a 6FF00606 		mvn	r6, #6
 1139              	.LVL151:
 1140              	.L105:
1560:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write did not write everything: mark the pcb non-writable
 1141              		.loc 1 1560 0
 1142 012e 77B1     		cbz	r7, .L108
1560:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write did not write everything: mark the pcb non-writable
 1143              		.loc 1 1560 0 is_stmt 0 discriminator 1
 1144 0130 636A     		ldr	r3, [r4, #36]
 1145 0132 DB68     		ldr	r3, [r3, #12]
 1146 0134 9D42     		cmp	r5, r3
 1147 0136 0AD2     		bcs	.L108
1563:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->flags |= NETCONN_FLAG_CHECK_WRITESPACE;
 1148              		.loc 1 1563 0 is_stmt 1
 1149 0138 A36A     		ldr	r3, [r4, #40]
 1150 013a 1BB1     		cbz	r3, .L109
1563:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->flags |= NETCONN_FLAG_CHECK_WRITESPACE;
 1151              		.loc 1 1563 0 is_stmt 0 discriminator 1
 1152 013c 2A46     		mov	r2, r5
 1153 013e 0321     		movs	r1, #3
 1154 0140 2046     		mov	r0, r4
 1155 0142 9847     		blx	r3
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 57


 1156              	.LVL152:
 1157              	.L109:
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if ((tcp_sndbuf(conn->pcb.tcp) <= TCP_SNDLOWAT) ||
 1158              		.loc 1 1564 0 is_stmt 1
 1159 0144 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 1160 0146 43F01003 		orr	r3, r3, #16
 1161 014a 2377     		strb	r3, [r4, #28]
 1162 014c CAE7     		b	.L107
 1163              	.L108:
1565:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1164              		.loc 1 1565 0
 1165 014e 6368     		ldr	r3, [r4, #4]
 1166 0150 B3F86020 		ldrh	r2, [r3, #96]
 1167 0154 B2F5866F 		cmp	r2, #1072
 1168 0158 03D3     		bcc	.L110
1566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* The queued byte- or pbuf-count exceeds the configured low-water limit,
 1169              		.loc 1 1566 0 discriminator 1
 1170 015a B3F86230 		ldrh	r3, [r3, #98]
1565:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1171              		.loc 1 1565 0 discriminator 1
 1172 015e 042B     		cmp	r3, #4
 1173 0160 C0D9     		bls	.L107
 1174              	.L110:
1569:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1175              		.loc 1 1569 0
 1176 0162 A36A     		ldr	r3, [r4, #40]
 1177 0164 002B     		cmp	r3, #0
 1178 0166 BDD0     		beq	.L107
1569:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1179              		.loc 1 1569 0 is_stmt 0 discriminator 1
 1180 0168 2A46     		mov	r2, r5
 1181 016a 0321     		movs	r1, #3
 1182 016c 2046     		mov	r0, r4
 1183 016e 9847     		blx	r3
 1184              	.LVL153:
 1185 0170 B8E7     		b	.L107
 1186              	.LVL154:
 1187              	.L114:
 1188              	.LBB11:
1589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1189              		.loc 1 1589 0 is_stmt 1
 1190 0172 636A     		ldr	r3, [r4, #36]
 1191 0174 0022     		movs	r2, #0
 1192 0176 DA60     		str	r2, [r3, #12]
1587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1193              		.loc 1 1587 0
 1194 0178 0646     		mov	r6, r0
 1195 017a 05E0     		b	.L116
 1196              	.LVL155:
 1197              	.L111:
 1198              	.LBE11:
1591:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* If ERR_MEM, we wait for sent_tcp or poll_tcp to be called.
 1199              		.loc 1 1591 0
 1200 017c B6F1FF3F 		cmp	r6, #-1
 1201 0180 1DD0     		beq	.L135
 1202              	.LVL156:
1616:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 58


 1203              		.loc 1 1616 0
 1204 0182 636A     		ldr	r3, [r4, #36]
 1205 0184 0022     		movs	r2, #0
 1206 0186 DA60     		str	r2, [r3, #12]
 1207              	.LVL157:
 1208              	.L116:
 1209              	.LBB12:
1622:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 1210              		.loc 1 1622 0
 1211 0188 636A     		ldr	r3, [r4, #36]
 1212 018a 1868     		ldr	r0, [r3]
 1213 018c 00F10C05 		add	r5, r0, #12
 1214              	.LVL158:
1623:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 1215              		.loc 1 1623 0
 1216 0190 1E71     		strb	r6, [r3, #4]
1624:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->write_offset = 0;
 1217              		.loc 1 1624 0
 1218 0192 0023     		movs	r3, #0
 1219 0194 6362     		str	r3, [r4, #36]
1625:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 1220              		.loc 1 1625 0
 1221 0196 2362     		str	r3, [r4, #32]
1626:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, err);
 1222              		.loc 1 1626 0
 1223 0198 6370     		strb	r3, [r4, #1]
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1224              		.loc 1 1627 0
 1225 019a 4CB1     		cbz	r4, .L121
 1226              	.LBB13:
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1227              		.loc 1 1627 0 is_stmt 0 discriminator 1
 1228 019c FFF7FEFF 		bl	sys_arch_protect
 1229              	.LVL159:
 1230 01a0 94F90830 		ldrsb	r3, [r4, #8]
 1231 01a4 13F10C0F 		cmn	r3, #12
 1232 01a8 00DB     		blt	.L122
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1233              		.loc 1 1627 0 discriminator 2
 1234 01aa 2672     		strb	r6, [r4, #8]
 1235              	.L122:
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1236              		.loc 1 1627 0 discriminator 4
 1237 01ac FFF7FEFF 		bl	sys_arch_unprotect
 1238              	.LVL160:
 1239              	.L121:
 1240              	.LBE13:
1629:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 1241              		.loc 1 1629 0 is_stmt 1
 1242 01b0 B8F1000F 		cmp	r8, #0
 1243 01b4 19D1     		bne	.L136
 1244              	.LBE12:
1640:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1245              		.loc 1 1640 0
 1246 01b6 0026     		movs	r6, #0
 1247              	.LVL161:
 1248              	.L120:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 59


1641:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 1249              		.loc 1 1641 0
 1250 01b8 3046     		mov	r0, r6
 1251 01ba BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1252              	.LVL162:
 1253              	.L135:
 1254              	.LBB14:
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (ERR_IS_FATAL(out_err) || (out_err == ERR_RTE)) {
 1255              		.loc 1 1598 0
 1256 01be 6068     		ldr	r0, [r4, #4]
 1257 01c0 FFF7FEFF 		bl	tcp_output
 1258              	.LVL163:
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails with fatal error or no route is found,
 1259              		.loc 1 1599 0
 1260 01c4 10F10C0F 		cmn	r0, #12
 1261 01c8 0ADB     		blt	.L118
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails with fatal error or no route is found,
 1262              		.loc 1 1599 0 is_stmt 0 discriminator 1
 1263 01ca 10F1040F 		cmn	r0, #4
 1264 01ce 07D0     		beq	.L118
1606:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write is done on ERR_MEM */
 1265              		.loc 1 1606 0 is_stmt 1
 1266 01d0 002F     		cmp	r7, #0
 1267 01d2 F1D0     		beq	.L120
 1268              	.LVL164:
1610:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1269              		.loc 1 1610 0
 1270 01d4 636A     		ldr	r3, [r4, #36]
 1271 01d6 0022     		movs	r2, #0
 1272 01d8 DA60     		str	r2, [r3, #12]
1608:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1273              		.loc 1 1608 0
 1274 01da 6FF00606 		mvn	r6, #6
 1275 01de D3E7     		b	.L116
 1276              	.LVL165:
 1277              	.L118:
1605:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (dontblock) {
 1278              		.loc 1 1605 0
 1279 01e0 636A     		ldr	r3, [r4, #36]
 1280 01e2 0022     		movs	r2, #0
 1281 01e4 DA60     		str	r2, [r3, #12]
1603:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1282              		.loc 1 1603 0
 1283 01e6 0646     		mov	r6, r0
 1284 01e8 CEE7     		b	.L116
 1285              	.LVL166:
 1286              	.L136:
 1287              	.LBE14:
 1288              	.LBB15:
1632:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1289              		.loc 1 1632 0
 1290 01ea 2846     		mov	r0, r5
 1291 01ec FFF7FEFF 		bl	sys_sem_signal
 1292              	.LVL167:
 1293              	.LBE15:
1640:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1294              		.loc 1 1640 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 60


 1295 01f0 0026     		movs	r6, #0
 1296 01f2 E1E7     		b	.L120
 1297              	.L138:
 1298              		.align	2
 1299              	.L137:
 1300 01f4 00000000 		.word	.LC0
 1301 01f8 00000000 		.word	.LC6
 1302 01fc 54000000 		.word	.LC2
 1303 0200 00000000 		.word	.LC13
 1304 0204 10000000 		.word	.LC7
 1305 0208 20000000 		.word	.LC14
 1306 020c 38000000 		.word	.LC15
 1307 0210 6C000000 		.word	.LC16
 1308              		.cfi_endproc
 1309              	.LFE168:
 1311              		.section	.text.lwip_netconn_do_close_internal,"ax",%progbits
 1312              		.align	1
 1313              		.syntax unified
 1314              		.thumb
 1315              		.thumb_func
 1316              		.fpu fpv4-sp-d16
 1318              	lwip_netconn_do_close_internal:
 1319              	.LFB159:
 826:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 1320              		.loc 1 826 0
 1321              		.cfi_startproc
 1322              		@ args = 0, pretend = 0, frame = 0
 1323              		@ frame_needed = 0, uses_anonymous_args = 0
 1324              	.LVL168:
 1325 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1326              	.LCFI8:
 1327              		.cfi_def_cfa_offset 32
 1328              		.cfi_offset 4, -32
 1329              		.cfi_offset 5, -28
 1330              		.cfi_offset 6, -24
 1331              		.cfi_offset 7, -20
 1332              		.cfi_offset 8, -16
 1333              		.cfi_offset 9, -12
 1334              		.cfi_offset 10, -8
 1335              		.cfi_offset 14, -4
 1336 0004 8846     		mov	r8, r1
 1337              	.LVL169:
 835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1338              		.loc 1 835 0
 1339 0006 0446     		mov	r4, r0
 1340 0008 0028     		cmp	r0, #0
 1341 000a 7CD0     		beq	.L169
 1342              	.LVL170:
 1343              	.L140:
 836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1344              		.loc 1 836 0
 1345 000c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1346 000e 03F0F003 		and	r3, r3, #240
 1347 0012 102B     		cmp	r3, #16
 1348 0014 7FD1     		bne	.L170
 1349              	.L141:
 837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 61


 1350              		.loc 1 837 0
 1351 0016 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 1352 0018 042B     		cmp	r3, #4
 1353 001a 40F08480 		bne	.L171
 1354              	.L142:
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1355              		.loc 1 838 0
 1356 001e 6368     		ldr	r3, [r4, #4]
 1357 0020 002B     		cmp	r3, #0
 1358 0022 00F08880 		beq	.L172
 1359              	.L143:
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1360              		.loc 1 839 0
 1361 0026 636A     		ldr	r3, [r4, #36]
 1362 0028 002B     		cmp	r3, #0
 1363 002a 00F08C80 		beq	.L173
 1364              	.L144:
 841:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut = conn->current_msg->msg.sd.shut;
 1365              		.loc 1 841 0
 1366 002e 6668     		ldr	r6, [r4, #4]
 1367              	.LVL171:
 842:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 1368              		.loc 1 842 0
 1369 0030 636A     		ldr	r3, [r4, #36]
 1370 0032 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1371              	.LVL172:
 843:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_tx = shut & NETCONN_SHUT_WR;
 1372              		.loc 1 843 0
 1373 0034 03F00109 		and	r9, r3, #1
 1374              	.LVL173:
 844:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* shutting down both ends is the same as closing
 1375              		.loc 1 844 0
 1376 0038 03F00207 		and	r7, r3, #2
 1377              	.LVL174:
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close = 1;
 1378              		.loc 1 847 0
 1379 003c 032B     		cmp	r3, #3
 1380 003e 0FD0     		beq	.L145
 849:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 1381              		.loc 1 849 0
 1382 0040 B9F1000F 		cmp	r9, #0
 1383 0044 06D0     		beq	.L146
 850:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 1384              		.loc 1 850 0 discriminator 1
 1385 0046 327D     		ldrb	r2, [r6, #20]	@ zero_extendqisi2
 1386 0048 531F     		subs	r3, r2, #5
 1387              	.LVL175:
 1388 004a DBB2     		uxtb	r3, r3
 849:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 1389              		.loc 1 849 0 discriminator 1
 1390 004c 012B     		cmp	r3, #1
 1391 004e 07D9     		bls	.L145
 851:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == CLOSING))) {
 1392              		.loc 1 851 0
 1393 0050 082A     		cmp	r2, #8
 1394 0052 05D0     		beq	.L145
 1395              	.L146:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 62


 854:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close = 1;
 1396              		.loc 1 854 0
 1397 0054 002F     		cmp	r7, #0
 1398 0056 7ED0     		beq	.L165
 854:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close = 1;
 1399              		.loc 1 854 0 is_stmt 0 discriminator 1
 1400 0058 B37E     		ldrb	r3, [r6, #26]	@ zero_extendqisi2
 1401 005a 13F0100F 		tst	r3, #16
 1402 005e 7CD0     		beq	.L166
 1403              	.L145:
 862:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1404              		.loc 1 862 0 is_stmt 1
 1405 0060 0021     		movs	r1, #0
 1406 0062 3046     		mov	r0, r6
 1407 0064 FFF7FEFF 		bl	tcp_arg
 1408              	.LVL176:
 1409 0068 4FF0010A 		mov	r10, #1
 1410              	.L147:
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 1411              		.loc 1 864 0
 1412 006c 337D     		ldrb	r3, [r6, #20]	@ zero_extendqisi2
 1413 006e 012B     		cmp	r3, #1
 1414 0070 76D0     		beq	.L174
 868:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recv(tpcb, NULL);
 1415              		.loc 1 868 0
 1416 0072 B9F1000F 		cmp	r9, #0
 1417 0076 78D1     		bne	.L175
 1418              	.L150:
 872:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, NULL);
 1419              		.loc 1 872 0
 1420 0078 002F     		cmp	r7, #0
 1421 007a 7FD1     		bne	.L176
 1422              	.L151:
 875:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_poll(tpcb, NULL, 0);
 1423              		.loc 1 875 0
 1424 007c BAF1000F 		cmp	r10, #0
 1425 0080 40F08180 		bne	.L177
 1426              	.L149:
 881:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 1427              		.loc 1 881 0
 1428 0084 BAF1000F 		cmp	r10, #0
 1429 0088 00F08780 		beq	.L152
 911:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1430              		.loc 1 911 0
 1431 008c 3046     		mov	r0, r6
 1432 008e FFF7FEFF 		bl	tcp_close
 1433              	.LVL177:
 1434 0092 0546     		mov	r5, r0
 1435              	.LVL178:
 1436              	.L153:
 916:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close_finished = 1;
 1437              		.loc 1 916 0
 1438 0094 1DB1     		cbz	r5, .L154
 926:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed because of memory shortage, try again later. Even for
 1439              		.loc 1 926 0
 1440 0096 B5F1FF3F 		cmp	r5, #-1
 1441 009a 00F08580 		beq	.L178
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 63


 1442              	.LVL179:
 1443              	.L154:
 1444              	.LBB16:
 963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 1445              		.loc 1 963 0
 1446 009e 636A     		ldr	r3, [r4, #36]
 1447 00a0 1E68     		ldr	r6, [r3]
 1448              	.LVL180:
 1449 00a2 0C36     		adds	r6, r6, #12
 1450              	.LVL181:
 964:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 1451              		.loc 1 964 0
 1452 00a4 1D71     		strb	r5, [r3, #4]
 965:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 1453              		.loc 1 965 0
 1454 00a6 0023     		movs	r3, #0
 1455 00a8 6362     		str	r3, [r4, #36]
 966:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
 1456              		.loc 1 966 0
 1457 00aa 6370     		strb	r3, [r4, #1]
 967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (close) {
 1458              		.loc 1 967 0
 1459 00ac CDB9     		cbnz	r5, .L158
 968:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Set back some callback pointers as conn is going away */
 1460              		.loc 1 968 0
 1461 00ae BAF1000F 		cmp	r10, #0
 1462 00b2 06D0     		beq	.L159
 970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Trigger select() in socket layer. Make sure everybody notices activity
 1463              		.loc 1 970 0
 1464 00b4 6360     		str	r3, [r4, #4]
 973:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1465              		.loc 1 973 0
 1466 00b6 A36A     		ldr	r3, [r4, #40]
 1467 00b8 1BB1     		cbz	r3, .L159
 973:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1468              		.loc 1 973 0 is_stmt 0 discriminator 1
 1469 00ba 0022     		movs	r2, #0
 1470 00bc 0421     		movs	r1, #4
 1471 00be 2046     		mov	r0, r4
 1472 00c0 9847     		blx	r3
 1473              	.LVL182:
 1474              	.L159:
 975:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 1475              		.loc 1 975 0 is_stmt 1
 1476 00c2 B9F1000F 		cmp	r9, #0
 1477 00c6 05D0     		beq	.L160
 976:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1478              		.loc 1 976 0
 1479 00c8 A36A     		ldr	r3, [r4, #40]
 1480 00ca 1BB1     		cbz	r3, .L160
 976:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1481              		.loc 1 976 0 is_stmt 0 discriminator 1
 1482 00cc 0022     		movs	r2, #0
 1483 00ce 1146     		mov	r1, r2
 1484 00d0 2046     		mov	r0, r4
 1485 00d2 9847     		blx	r3
 1486              	.LVL183:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 64


 1487              	.L160:
 978:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 1488              		.loc 1 978 0 is_stmt 1
 1489 00d4 2FB1     		cbz	r7, .L158
 979:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1490              		.loc 1 979 0
 1491 00d6 A36A     		ldr	r3, [r4, #40]
 1492 00d8 1BB1     		cbz	r3, .L158
 979:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1493              		.loc 1 979 0 is_stmt 0 discriminator 1
 1494 00da 0022     		movs	r2, #0
 1495 00dc 0221     		movs	r1, #2
 1496 00de 2046     		mov	r0, r4
 1497 00e0 9847     		blx	r3
 1498              	.LVL184:
 1499              	.L158:
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1500              		.loc 1 982 0 is_stmt 1
 1501 00e2 4CB1     		cbz	r4, .L161
 1502              	.LBB17:
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1503              		.loc 1 982 0 is_stmt 0 discriminator 1
 1504 00e4 FFF7FEFF 		bl	sys_arch_protect
 1505              	.LVL185:
 1506 00e8 94F90830 		ldrsb	r3, [r4, #8]
 1507 00ec 13F10C0F 		cmn	r3, #12
 1508 00f0 00DB     		blt	.L162
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1509              		.loc 1 982 0 discriminator 2
 1510 00f2 2572     		strb	r5, [r4, #8]
 1511              	.L162:
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1512              		.loc 1 982 0 discriminator 4
 1513 00f4 FFF7FEFF 		bl	sys_arch_unprotect
 1514              	.LVL186:
 1515              	.L161:
 1516              	.LBE17:
 984:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 1517              		.loc 1 984 0 is_stmt 1
 1518 00f8 B8F1000F 		cmp	r8, #0
 1519 00fc 72D1     		bne	.L179
 990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1520              		.loc 1 990 0
 1521 00fe 0025     		movs	r5, #0
 1522              	.LVL187:
 1523              	.L163:
 1524              	.LBE16:
1009:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 1525              		.loc 1 1009 0
 1526 0100 2846     		mov	r0, r5
 1527 0102 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1528              	.LVL188:
 1529              	.L169:
 835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1530              		.loc 1 835 0 discriminator 1
 1531 0106 404B     		ldr	r3, .L182
 1532 0108 40F24332 		movw	r2, #835
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 65


 1533 010c 3F49     		ldr	r1, .L182+4
 1534              	.LVL189:
 1535 010e 4048     		ldr	r0, .L182+8
 1536              	.LVL190:
 1537 0110 FFF7FEFF 		bl	printf
 1538              	.LVL191:
 1539 0114 7AE7     		b	.L140
 1540              	.L170:
 836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1541              		.loc 1 836 0 discriminator 1
 1542 0116 3C4B     		ldr	r3, .L182
 1543 0118 4FF45172 		mov	r2, #836
 1544 011c 3D49     		ldr	r1, .L182+12
 1545 011e 3C48     		ldr	r0, .L182+8
 1546 0120 FFF7FEFF 		bl	printf
 1547              	.LVL192:
 1548 0124 77E7     		b	.L141
 1549              	.L171:
 837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1550              		.loc 1 837 0 discriminator 1
 1551 0126 384B     		ldr	r3, .L182
 1552 0128 40F24532 		movw	r2, #837
 1553 012c 3A49     		ldr	r1, .L182+16
 1554 012e 3848     		ldr	r0, .L182+8
 1555 0130 FFF7FEFF 		bl	printf
 1556              	.LVL193:
 1557 0134 73E7     		b	.L142
 1558              	.L172:
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1559              		.loc 1 838 0 discriminator 1
 1560 0136 344B     		ldr	r3, .L182
 1561 0138 40F24632 		movw	r2, #838
 1562 013c 3749     		ldr	r1, .L182+20
 1563 013e 3448     		ldr	r0, .L182+8
 1564 0140 FFF7FEFF 		bl	printf
 1565              	.LVL194:
 1566 0144 6FE7     		b	.L143
 1567              	.L173:
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1568              		.loc 1 839 0 discriminator 1
 1569 0146 304B     		ldr	r3, .L182
 1570 0148 40F24732 		movw	r2, #839
 1571 014c 3449     		ldr	r1, .L182+24
 1572 014e 3048     		ldr	r0, .L182+8
 1573 0150 FFF7FEFF 		bl	printf
 1574              	.LVL195:
 1575 0154 6BE7     		b	.L144
 1576              	.LVL196:
 1577              	.L165:
 1578 0156 BA46     		mov	r10, r7
 1579 0158 88E7     		b	.L147
 1580              	.L166:
 1581 015a 4FF0000A 		mov	r10, #0
 1582 015e 85E7     		b	.L147
 1583              	.LVL197:
 1584              	.L174:
 865:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 66


 1585              		.loc 1 865 0
 1586 0160 0021     		movs	r1, #0
 1587 0162 3046     		mov	r0, r6
 1588 0164 FFF7FEFF 		bl	tcp_accept
 1589              	.LVL198:
 1590 0168 8CE7     		b	.L149
 1591              	.L175:
 869:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_accept(tpcb, NULL);
 1592              		.loc 1 869 0
 1593 016a 0021     		movs	r1, #0
 1594 016c 3046     		mov	r0, r6
 1595 016e FFF7FEFF 		bl	tcp_recv
 1596              	.LVL199:
 870:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1597              		.loc 1 870 0
 1598 0172 0021     		movs	r1, #0
 1599 0174 3046     		mov	r0, r6
 1600 0176 FFF7FEFF 		bl	tcp_accept
 1601              	.LVL200:
 1602 017a 7DE7     		b	.L150
 1603              	.L176:
 873:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1604              		.loc 1 873 0
 1605 017c 0021     		movs	r1, #0
 1606 017e 3046     		mov	r0, r6
 1607 0180 FFF7FEFF 		bl	tcp_sent
 1608              	.LVL201:
 1609 0184 7AE7     		b	.L151
 1610              	.L177:
 876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_err(tpcb, NULL);
 1611              		.loc 1 876 0
 1612 0186 0022     		movs	r2, #0
 1613 0188 1146     		mov	r1, r2
 1614 018a 3046     		mov	r0, r6
 1615 018c FFF7FEFF 		bl	tcp_poll
 1616              	.LVL202:
 877:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1617              		.loc 1 877 0
 1618 0190 0021     		movs	r1, #0
 1619 0192 3046     		mov	r0, r6
 1620 0194 FFF7FEFF 		bl	tcp_err
 1621              	.LVL203:
 1622 0198 74E7     		b	.L149
 1623              	.L152:
 914:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1624              		.loc 1 914 0
 1625 019a 3A46     		mov	r2, r7
 1626 019c 4946     		mov	r1, r9
 1627 019e 3046     		mov	r0, r6
 1628 01a0 FFF7FEFF 		bl	tcp_shutdown
 1629              	.LVL204:
 1630 01a4 0546     		mov	r5, r0
 1631              	.LVL205:
 1632 01a6 75E7     		b	.L153
 1633              	.L178:
 947:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1634              		.loc 1 947 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 67


 1635 01a8 636A     		ldr	r3, [r4, #36]
 1636 01aa 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 1637 01ac 43B9     		cbnz	r3, .L155
 1638              	.LVL206:
 950:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* in this case, we want to RST the connection */
 1639              		.loc 1 950 0
 1640 01ae BAF1000F 		cmp	r10, #0
 1641 01b2 3FF474AF 		beq	.L154
 952:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_OK;
 1642              		.loc 1 952 0
 1643 01b6 3046     		mov	r0, r6
 1644 01b8 FFF7FEFF 		bl	tcp_abort
 1645              	.LVL207:
 953:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 1646              		.loc 1 953 0
 1647 01bc 0025     		movs	r5, #0
 1648 01be 6EE7     		b	.L154
 1649              	.LVL208:
 1650              	.L155:
 995:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 1651              		.loc 1 995 0
 1652 01c0 337D     		ldrb	r3, [r6, #20]	@ zero_extendqisi2
 1653 01c2 012B     		cmp	r3, #1
 1654 01c4 13D0     		beq	.L180
 1655              	.L157:
 996:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, sent_tcp);
 1656              		.loc 1 996 0
 1657 01c6 D7B9     		cbnz	r7, .L181
 1658              	.L164:
1000:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(tpcb, err_tcp);
 1659              		.loc 1 1000 0
 1660 01c8 0122     		movs	r2, #1
 1661 01ca 1649     		ldr	r1, .L182+28
 1662 01cc 3046     		mov	r0, r6
 1663 01ce FFF7FEFF 		bl	tcp_poll
 1664              	.LVL209:
1001:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(tpcb, conn);
 1665              		.loc 1 1001 0
 1666 01d2 1549     		ldr	r1, .L182+32
 1667 01d4 3046     		mov	r0, r6
 1668 01d6 FFF7FEFF 		bl	tcp_err
 1669              	.LVL210:
1002:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't restore recv callback: we don't want to receive any more data */
 1670              		.loc 1 1002 0
 1671 01da 2146     		mov	r1, r4
 1672 01dc 3046     		mov	r0, r6
 1673 01de FFF7FEFF 		bl	tcp_arg
 1674              	.LVL211:
1008:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1675              		.loc 1 1008 0
 1676 01e2 8DE7     		b	.L163
 1677              	.LVL212:
 1678              	.L179:
 1679              	.LBB18:
 988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1680              		.loc 1 988 0
 1681 01e4 3046     		mov	r0, r6
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 68


 1682 01e6 FFF7FEFF 		bl	sys_sem_signal
 1683              	.LVL213:
 990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1684              		.loc 1 990 0
 1685 01ea 0025     		movs	r5, #0
 1686 01ec 88E7     		b	.L163
 1687              	.LVL214:
 1688              	.L180:
 1689              	.LBE18:
 995:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 1690              		.loc 1 995 0 discriminator 1
 1691 01ee 064B     		ldr	r3, .L182
 1692 01f0 40F2E332 		movw	r2, #995
 1693 01f4 0D49     		ldr	r1, .L182+36
 1694 01f6 0648     		ldr	r0, .L182+8
 1695 01f8 FFF7FEFF 		bl	printf
 1696              	.LVL215:
 1697 01fc E3E7     		b	.L157
 1698              	.L181:
 997:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1699              		.loc 1 997 0
 1700 01fe 0C49     		ldr	r1, .L182+40
 1701 0200 3046     		mov	r0, r6
 1702 0202 FFF7FEFF 		bl	tcp_sent
 1703              	.LVL216:
 1704 0206 DFE7     		b	.L164
 1705              	.L183:
 1706              		.align	2
 1707              	.L182:
 1708 0208 00000000 		.word	.LC0
 1709 020c 00000000 		.word	.LC17
 1710 0210 54000000 		.word	.LC2
 1711 0214 10000000 		.word	.LC18
 1712 0218 30000000 		.word	.LC19
 1713 021c 54000000 		.word	.LC20
 1714 0220 10000000 		.word	.LC7
 1715 0224 00000000 		.word	poll_tcp
 1716 0228 00000000 		.word	err_tcp
 1717 022c 68000000 		.word	.LC21
 1718 0230 00000000 		.word	sent_tcp
 1719              		.cfi_endproc
 1720              	.LFE159:
 1722              		.section	.text.poll_tcp,"ax",%progbits
 1723              		.align	1
 1724              		.syntax unified
 1725              		.thumb
 1726              		.thumb_func
 1727              		.fpu fpv4-sp-d16
 1729              	poll_tcp:
 1730              	.LFB149:
 308:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 1731              		.loc 1 308 0
 1732              		.cfi_startproc
 1733              		@ args = 0, pretend = 0, frame = 0
 1734              		@ frame_needed = 0, uses_anonymous_args = 0
 1735              	.LVL217:
 1736 0000 10B5     		push	{r4, lr}
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 69


 1737              	.LCFI9:
 1738              		.cfi_def_cfa_offset 8
 1739              		.cfi_offset 4, -8
 1740              		.cfi_offset 14, -4
 1741              	.LVL218:
 312:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1742              		.loc 1 312 0
 1743 0002 0446     		mov	r4, r0
 1744 0004 F0B1     		cbz	r0, .L191
 1745              	.LVL219:
 1746              	.L185:
 314:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 1747              		.loc 1 314 0
 1748 0006 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 1749 0008 012B     		cmp	r3, #1
 1750 000a 23D0     		beq	.L192
 316:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER
 1751              		.loc 1 316 0
 1752 000c 042B     		cmp	r3, #4
 1753 000e 26D0     		beq	.L193
 1754              	.L187:
 327:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 1755              		.loc 1 327 0
 1756 0010 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 1757 0012 13F0100F 		tst	r3, #16
 1758 0016 13D0     		beq	.L189
 330:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 1759              		.loc 1 330 0
 1760 0018 6268     		ldr	r2, [r4, #4]
 1761 001a 8AB1     		cbz	r2, .L189
 330:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 1762              		.loc 1 330 0 is_stmt 0 discriminator 1
 1763 001c B2F86010 		ldrh	r1, [r2, #96]
 1764 0020 B1F5866F 		cmp	r1, #1072
 1765 0024 0CD3     		bcc	.L189
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->flags &= ~NETCONN_FLAG_CHECK_WRITESPACE;
 1766              		.loc 1 331 0 is_stmt 1 discriminator 2
 1767 0026 B2F86220 		ldrh	r2, [r2, #98]
 330:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 1768              		.loc 1 330 0 discriminator 2
 1769 002a 042A     		cmp	r2, #4
 1770 002c 08D8     		bhi	.L189
 332:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 1771              		.loc 1 332 0
 1772 002e 23F01003 		bic	r3, r3, #16
 1773 0032 2377     		strb	r3, [r4, #28]
 333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1774              		.loc 1 333 0
 1775 0034 A36A     		ldr	r3, [r4, #40]
 1776 0036 1BB1     		cbz	r3, .L189
 333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1777              		.loc 1 333 0 is_stmt 0 discriminator 1
 1778 0038 0022     		movs	r2, #0
 1779 003a 0221     		movs	r1, #2
 1780 003c 2046     		mov	r0, r4
 1781 003e 9847     		blx	r3
 1782              	.LVL220:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 70


 1783              	.L189:
 338:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1784              		.loc 1 338 0 is_stmt 1
 1785 0040 0020     		movs	r0, #0
 1786 0042 10BD     		pop	{r4, pc}
 1787              	.LVL221:
 1788              	.L191:
 312:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1789              		.loc 1 312 0 discriminator 1
 1790 0044 0B4B     		ldr	r3, .L194
 1791 0046 4FF49C72 		mov	r2, #312
 1792 004a 0B49     		ldr	r1, .L194+4
 1793              	.LVL222:
 1794 004c 0B48     		ldr	r0, .L194+8
 1795              	.LVL223:
 1796 004e FFF7FEFF 		bl	printf
 1797              	.LVL224:
 1798 0052 D8E7     		b	.L185
 1799              	.L192:
 315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (conn->state == NETCONN_CLOSE) {
 1800              		.loc 1 315 0
 1801 0054 0121     		movs	r1, #1
 1802 0056 2046     		mov	r0, r4
 1803 0058 FFF7FEFF 		bl	lwip_netconn_do_writemore
 1804              	.LVL225:
 1805 005c D8E7     		b	.L187
 1806              	.L193:
 318:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 1807              		.loc 1 318 0
 1808 005e 636A     		ldr	r3, [r4, #36]
 1809 0060 1BB1     		cbz	r3, .L188
 318:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 1810              		.loc 1 318 0 is_stmt 0 discriminator 1
 1811 0062 5A7A     		ldrb	r2, [r3, #9]	@ zero_extendqisi2
 1812 0064 0AB1     		cbz	r2, .L188
 319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1813              		.loc 1 319 0 is_stmt 1
 1814 0066 013A     		subs	r2, r2, #1
 1815 0068 5A72     		strb	r2, [r3, #9]
 1816              	.L188:
 322:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1817              		.loc 1 322 0
 1818 006a 0121     		movs	r1, #1
 1819 006c 2046     		mov	r0, r4
 1820 006e FFF7FEFF 		bl	lwip_netconn_do_close_internal
 1821              	.LVL226:
 1822 0072 CDE7     		b	.L187
 1823              	.L195:
 1824              		.align	2
 1825              	.L194:
 1826 0074 00000000 		.word	.LC0
 1827 0078 00000000 		.word	.LC6
 1828 007c 54000000 		.word	.LC2
 1829              		.cfi_endproc
 1830              	.LFE149:
 1832              		.section	.text.sent_tcp,"ax",%progbits
 1833              		.align	1
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 71


 1834              		.syntax unified
 1835              		.thumb
 1836              		.thumb_func
 1837              		.fpu fpv4-sp-d16
 1839              	sent_tcp:
 1840              	.LFB150:
 349:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 1841              		.loc 1 349 0
 1842              		.cfi_startproc
 1843              		@ args = 0, pretend = 0, frame = 0
 1844              		@ frame_needed = 0, uses_anonymous_args = 0
 1845              	.LVL227:
 1846 0000 38B5     		push	{r3, r4, r5, lr}
 1847              	.LCFI10:
 1848              		.cfi_def_cfa_offset 16
 1849              		.cfi_offset 3, -16
 1850              		.cfi_offset 4, -12
 1851              		.cfi_offset 5, -8
 1852              		.cfi_offset 14, -4
 1853 0002 1546     		mov	r5, r2
 1854              	.LVL228:
 353:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1855              		.loc 1 353 0
 1856 0004 0446     		mov	r4, r0
 1857 0006 E0B1     		cbz	r0, .L202
 1858              	.LVL229:
 1859              	.L197:
 355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->state == NETCONN_WRITE) {
 1860              		.loc 1 355 0
 1861 0008 CCB1     		cbz	r4, .L198
 356:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 1862              		.loc 1 356 0
 1863 000a 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 1864 000c 012B     		cmp	r3, #1
 1865 000e 20D0     		beq	.L203
 358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 1866              		.loc 1 358 0
 1867 0010 042B     		cmp	r3, #4
 1868 0012 23D0     		beq	.L204
 1869              	.L200:
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 1870              		.loc 1 364 0
 1871 0014 6368     		ldr	r3, [r4, #4]
 1872 0016 93B1     		cbz	r3, .L198
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 1873              		.loc 1 364 0 is_stmt 0 discriminator 1
 1874 0018 B3F86020 		ldrh	r2, [r3, #96]
 1875 001c B2F5866F 		cmp	r2, #1072
 1876 0020 0DD3     		bcc	.L198
 365:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->flags &= ~NETCONN_FLAG_CHECK_WRITESPACE;
 1877              		.loc 1 365 0 is_stmt 1 discriminator 2
 1878 0022 B3F86230 		ldrh	r3, [r3, #98]
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 1879              		.loc 1 364 0 discriminator 2
 1880 0026 042B     		cmp	r3, #4
 1881 0028 09D8     		bhi	.L198
 366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 72


 1882              		.loc 1 366 0
 1883 002a 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 1884 002c 23F01003 		bic	r3, r3, #16
 1885 0030 2377     		strb	r3, [r4, #28]
 367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1886              		.loc 1 367 0
 1887 0032 A36A     		ldr	r3, [r4, #40]
 1888 0034 1BB1     		cbz	r3, .L198
 367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1889              		.loc 1 367 0 is_stmt 0 discriminator 1
 1890 0036 2A46     		mov	r2, r5
 1891 0038 0221     		movs	r1, #2
 1892 003a 2046     		mov	r0, r4
 1893 003c 9847     		blx	r3
 1894              	.LVL230:
 1895              	.L198:
 372:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1896              		.loc 1 372 0 is_stmt 1
 1897 003e 0020     		movs	r0, #0
 1898 0040 38BD     		pop	{r3, r4, r5, pc}
 1899              	.LVL231:
 1900              	.L202:
 353:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1901              		.loc 1 353 0 discriminator 1
 1902 0042 094B     		ldr	r3, .L205
 1903 0044 40F26112 		movw	r2, #353
 1904              	.LVL232:
 1905 0048 0849     		ldr	r1, .L205+4
 1906              	.LVL233:
 1907 004a 0948     		ldr	r0, .L205+8
 1908              	.LVL234:
 1909 004c FFF7FEFF 		bl	printf
 1910              	.LVL235:
 1911 0050 DAE7     		b	.L197
 1912              	.L203:
 357:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (conn->state == NETCONN_CLOSE) {
 1913              		.loc 1 357 0
 1914 0052 0121     		movs	r1, #1
 1915 0054 2046     		mov	r0, r4
 1916 0056 FFF7FEFF 		bl	lwip_netconn_do_writemore
 1917              	.LVL236:
 1918 005a DBE7     		b	.L200
 1919              	.L204:
 359:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1920              		.loc 1 359 0
 1921 005c 0121     		movs	r1, #1
 1922 005e 2046     		mov	r0, r4
 1923 0060 FFF7FEFF 		bl	lwip_netconn_do_close_internal
 1924              	.LVL237:
 1925 0064 D6E7     		b	.L200
 1926              	.L206:
 1927 0066 00BF     		.align	2
 1928              	.L205:
 1929 0068 00000000 		.word	.LC0
 1930 006c 00000000 		.word	.LC6
 1931 0070 54000000 		.word	.LC2
 1932              		.cfi_endproc
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 73


 1933              	.LFE150:
 1935              		.section	.text.recv_tcp,"ax",%progbits
 1936              		.align	1
 1937              		.syntax unified
 1938              		.thumb
 1939              		.thumb_func
 1940              		.fpu fpv4-sp-d16
 1942              	recv_tcp:
 1943              	.LFB148:
 244:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 1944              		.loc 1 244 0
 1945              		.cfi_startproc
 1946              		@ args = 0, pretend = 0, frame = 0
 1947              		@ frame_needed = 0, uses_anonymous_args = 0
 1948              	.LVL238:
 1949 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1950              	.LCFI11:
 1951              		.cfi_def_cfa_offset 24
 1952              		.cfi_offset 4, -24
 1953              		.cfi_offset 5, -20
 1954              		.cfi_offset 6, -16
 1955              		.cfi_offset 7, -12
 1956              		.cfi_offset 8, -8
 1957              		.cfi_offset 14, -4
 1958 0004 0446     		mov	r4, r0
 1959 0006 1546     		mov	r5, r2
 1960 0008 9846     		mov	r8, r3
 249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 1961              		.loc 1 249 0
 1962 000a 0F46     		mov	r7, r1
 1963 000c E9B1     		cbz	r1, .L221
 1964              	.LVL239:
 1965              	.L208:
 250:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 1966              		.loc 1 250 0
 1967 000e 1CB3     		cbz	r4, .L222
 1968              	.L209:
 1969              	.LVL240:
 253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 1970              		.loc 1 253 0
 1971 0010 002C     		cmp	r4, #0
 1972 0012 4AD0     		beq	.L216
 256:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1973              		.loc 1 256 0
 1974 0014 6368     		ldr	r3, [r4, #4]
 1975 0016 BB42     		cmp	r3, r7
 1976 0018 06D0     		beq	.L211
 256:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1977              		.loc 1 256 0 is_stmt 0 discriminator 1
 1978 001a 284B     		ldr	r3, .L224
 1979 001c 4FF48072 		mov	r2, #256
 1980 0020 2749     		ldr	r1, .L224+4
 1981 0022 2848     		ldr	r0, .L224+8
 1982 0024 FFF7FEFF 		bl	printf
 1983              	.LVL241:
 1984              	.L211:
 258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 74


 1985              		.loc 1 258 0 is_stmt 1
 1986 0028 04F11006 		add	r6, r4, #16
 1987 002c 3046     		mov	r0, r6
 1988 002e FFF7FEFF 		bl	sys_mbox_valid
 1989              	.LVL242:
 1990 0032 C0B9     		cbnz	r0, .L212
 260:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recved(pcb, p->tot_len);
 1991              		.loc 1 260 0
 1992 0034 002D     		cmp	r5, #0
 1993 0036 3BD0     		beq	.L217
 261:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       pbuf_free(p);
 1994              		.loc 1 261 0
 1995 0038 2989     		ldrh	r1, [r5, #8]
 1996 003a 3846     		mov	r0, r7
 1997 003c FFF7FEFF 		bl	tcp_recved
 1998              	.LVL243:
 262:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1999              		.loc 1 262 0
 2000 0040 2846     		mov	r0, r5
 2001 0042 FFF7FEFF 		bl	pbuf_free
 2002              	.LVL244:
 264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2003              		.loc 1 264 0
 2004 0046 0025     		movs	r5, #0
 2005              	.LVL245:
 2006 0048 1EE0     		b	.L210
 2007              	.LVL246:
 2008              	.L221:
 249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2009              		.loc 1 249 0 discriminator 1
 2010 004a 1C4B     		ldr	r3, .L224
 2011              	.LVL247:
 2012 004c F922     		movs	r2, #249
 2013              	.LVL248:
 2014 004e 1E49     		ldr	r1, .L224+12
 2015              	.LVL249:
 2016 0050 1C48     		ldr	r0, .L224+8
 2017              	.LVL250:
 2018 0052 FFF7FEFF 		bl	printf
 2019              	.LVL251:
 2020 0056 DAE7     		b	.L208
 2021              	.L222:
 250:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 2022              		.loc 1 250 0 discriminator 1
 2023 0058 184B     		ldr	r3, .L224
 2024 005a FA22     		movs	r2, #250
 2025 005c 1B49     		ldr	r1, .L224+16
 2026 005e 1948     		ldr	r0, .L224+8
 2027 0060 FFF7FEFF 		bl	printf
 2028              	.LVL252:
 2029 0064 D4E7     		b	.L209
 2030              	.LVL253:
 2031              	.L212:
 271:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, err);
 2032              		.loc 1 271 0
 2033 0066 B8F1000F 		cmp	r8, #0
 2034 006a 10D1     		bne	.L223
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 75


 2035              	.L213:
 275:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = p->tot_len;
 2036              		.loc 1 275 0
 2037 006c DDB1     		cbz	r5, .L218
 276:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 2038              		.loc 1 276 0
 2039 006e 2F89     		ldrh	r7, [r5, #8]
 2040              	.LVL254:
 2041              	.L215:
 281:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2042              		.loc 1 281 0
 2043 0070 2946     		mov	r1, r5
 2044 0072 3046     		mov	r0, r6
 2045 0074 FFF7FEFF 		bl	sys_mbox_trypost
 2046              	.LVL255:
 2047 0078 0546     		mov	r5, r0
 2048              	.LVL256:
 2049 007a D8B9     		cbnz	r0, .L219
 289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2050              		.loc 1 289 0
 2051 007c A36A     		ldr	r3, [r4, #40]
 2052 007e 1BB1     		cbz	r3, .L210
 289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2053              		.loc 1 289 0 is_stmt 0 discriminator 1
 2054 0080 3A46     		mov	r2, r7
 2055 0082 0021     		movs	r1, #0
 2056 0084 2046     		mov	r0, r4
 2057 0086 9847     		blx	r3
 2058              	.LVL257:
 2059              	.L210:
 293:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2060              		.loc 1 293 0 is_stmt 1
 2061 0088 2846     		mov	r0, r5
 2062 008a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2063              	.LVL258:
 2064              	.L223:
 2065              	.LBB19:
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2066              		.loc 1 272 0 discriminator 1
 2067 008e FFF7FEFF 		bl	sys_arch_protect
 2068              	.LVL259:
 2069 0092 94F90830 		ldrsb	r3, [r4, #8]
 2070 0096 13F10C0F 		cmn	r3, #12
 2071 009a 01DB     		blt	.L214
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2072              		.loc 1 272 0 is_stmt 0 discriminator 2
 2073 009c 84F80880 		strb	r8, [r4, #8]
 2074              	.L214:
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2075              		.loc 1 272 0 discriminator 4
 2076 00a0 FFF7FEFF 		bl	sys_arch_unprotect
 2077              	.LVL260:
 2078 00a4 E2E7     		b	.L213
 2079              	.L218:
 2080              	.LBE19:
 278:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2081              		.loc 1 278 0 is_stmt 1
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 76


 2082 00a6 0027     		movs	r7, #0
 2083              	.LVL261:
 2084 00a8 E2E7     		b	.L215
 2085              	.LVL262:
 2086              	.L216:
 254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2087              		.loc 1 254 0
 2088 00aa 6FF00505 		mvn	r5, #5
 2089              	.LVL263:
 2090 00ae EBE7     		b	.L210
 2091              	.LVL264:
 2092              	.L217:
 264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2093              		.loc 1 264 0
 2094 00b0 0025     		movs	r5, #0
 2095              	.LVL265:
 2096 00b2 E9E7     		b	.L210
 2097              	.LVL266:
 2098              	.L219:
 283:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 2099              		.loc 1 283 0
 2100 00b4 4FF0FF35 		mov	r5, #-1
 2101 00b8 E6E7     		b	.L210
 2102              	.L225:
 2103 00ba 00BF     		.align	2
 2104              	.L224:
 2105 00bc 00000000 		.word	.LC0
 2106 00c0 44000000 		.word	.LC24
 2107 00c4 54000000 		.word	.LC2
 2108 00c8 00000000 		.word	.LC22
 2109 00cc 24000000 		.word	.LC23
 2110              		.cfi_endproc
 2111              	.LFE148:
 2113              		.section	.text.lwip_netconn_do_newconn,"ax",%progbits
 2114              		.align	1
 2115              		.global	lwip_netconn_do_newconn
 2116              		.syntax unified
 2117              		.thumb
 2118              		.thumb_func
 2119              		.fpu fpv4-sp-d16
 2121              	lwip_netconn_do_newconn:
 2122              	.LFB155:
 624:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 2123              		.loc 1 624 0
 2124              		.cfi_startproc
 2125              		@ args = 0, pretend = 0, frame = 0
 2126              		@ frame_needed = 0, uses_anonymous_args = 0
 2127              	.LVL267:
 2128 0000 10B5     		push	{r4, lr}
 2129              	.LCFI12:
 2130              		.cfi_def_cfa_offset 8
 2131              		.cfi_offset 4, -8
 2132              		.cfi_offset 14, -4
 2133 0002 0446     		mov	r4, r0
 2134              	.LVL268:
 627:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 2135              		.loc 1 627 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 77


 2136 0004 0023     		movs	r3, #0
 2137 0006 0371     		strb	r3, [r0, #4]
 628:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 2138              		.loc 1 628 0
 2139 0008 0368     		ldr	r3, [r0]
 2140 000a 5B68     		ldr	r3, [r3, #4]
 2141 000c 7BB1     		cbz	r3, .L231
 2142              	.LVL269:
 2143              	.L227:
 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2144              		.loc 1 635 0
 2145 000e 2368     		ldr	r3, [r4]
 2146 0010 63B1     		cbz	r3, .L226
 2147              	.LBB20:
 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2148              		.loc 1 635 0 is_stmt 0 discriminator 1
 2149 0012 FFF7FEFF 		bl	sys_arch_protect
 2150              	.LVL270:
 2151 0016 2368     		ldr	r3, [r4]
 2152 0018 93F90820 		ldrsb	r2, [r3, #8]
 2153 001c 12F10C0F 		cmn	r2, #12
 2154 0020 02DB     		blt	.L229
 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2155              		.loc 1 635 0 discriminator 2
 2156 0022 94F90420 		ldrsb	r2, [r4, #4]
 2157 0026 1A72     		strb	r2, [r3, #8]
 2158              	.L229:
 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2159              		.loc 1 635 0 discriminator 4
 2160 0028 FFF7FEFF 		bl	sys_arch_unprotect
 2161              	.LVL271:
 2162              	.L226:
 2163              	.LBE20:
 636:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2164              		.loc 1 636 0 is_stmt 1
 2165 002c 10BD     		pop	{r4, pc}
 2166              	.LVL272:
 2167              	.L231:
 629:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2168              		.loc 1 629 0
 2169 002e FFF7FEFF 		bl	pcb_new
 2170              	.LVL273:
 2171 0032 ECE7     		b	.L227
 2172              		.cfi_endproc
 2173              	.LFE155:
 2175              		.section	.text.netconn_alloc,"ax",%progbits
 2176              		.align	1
 2177              		.global	netconn_alloc
 2178              		.syntax unified
 2179              		.thumb
 2180              		.thumb_func
 2181              		.fpu fpv4-sp-d16
 2183              	netconn_alloc:
 2184              	.LFB156:
 649:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 2185              		.loc 1 649 0
 2186              		.cfi_startproc
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 78


 2187              		@ args = 0, pretend = 0, frame = 0
 2188              		@ frame_needed = 0, uses_anonymous_args = 0
 2189              	.LVL274:
 2190 0000 70B5     		push	{r4, r5, r6, lr}
 2191              	.LCFI13:
 2192              		.cfi_def_cfa_offset 16
 2193              		.cfi_offset 4, -16
 2194              		.cfi_offset 5, -12
 2195              		.cfi_offset 6, -8
 2196              		.cfi_offset 14, -4
 2197 0002 0546     		mov	r5, r0
 2198 0004 0E46     		mov	r6, r1
 653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 2199              		.loc 1 653 0
 2200 0006 0720     		movs	r0, #7
 2201              	.LVL275:
 2202 0008 FFF7FEFF 		bl	memp_malloc
 2203              	.LVL276:
 654:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return NULL;
 2204              		.loc 1 654 0
 2205 000c 0446     		mov	r4, r0
 2206 000e 18B3     		cbz	r0, .L232
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->type = t;
 2207              		.loc 1 658 0
 2208 0010 0023     		movs	r3, #0
 2209 0012 0372     		strb	r3, [r0, #8]
 659:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 2210              		.loc 1 659 0
 2211 0014 0570     		strb	r5, [r0]
 660:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2212              		.loc 1 660 0
 2213 0016 4360     		str	r3, [r0, #4]
 663:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 2214              		.loc 1 663 0
 2215 0018 05F0F005 		and	r5, r5, #240
 2216 001c 102D     		cmp	r5, #16
 2217 001e 01D0     		beq	.L235
 2218 0020 202D     		cmp	r5, #32
 2219 0022 1BD1     		bne	.L239
 2220              	.L235:
 2221              	.LVL277:
 684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2222              		.loc 1 684 0
 2223 0024 04F11005 		add	r5, r4, #16
 2224 0028 0621     		movs	r1, #6
 2225 002a 2846     		mov	r0, r5
 2226              	.LVL278:
 2227 002c FFF7FEFF 		bl	sys_mbox_new
 2228              	.LVL279:
 2229 0030 D8B9     		cbnz	r0, .L236
 688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 2230              		.loc 1 688 0
 2231 0032 0021     		movs	r1, #0
 2232 0034 04F10C00 		add	r0, r4, #12
 2233 0038 FFF7FEFF 		bl	sys_sem_new
 2234              	.LVL280:
 2235 003c D8B9     		cbnz	r0, .L240
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 79


 695:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 2236              		.loc 1 695 0
 2237 003e 04F11400 		add	r0, r4, #20
 2238 0042 FFF7FEFF 		bl	sys_mbox_set_invalid
 2239              	.LVL281:
 697:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SOCKET
 2240              		.loc 1 697 0
 2241 0046 0023     		movs	r3, #0
 2242 0048 6370     		strb	r3, [r4, #1]
 700:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SOCKET */
 2243              		.loc 1 700 0
 2244 004a 4FF0FF32 		mov	r2, #-1
 2245 004e A261     		str	r2, [r4, #24]
 702:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 2246              		.loc 1 702 0
 2247 0050 A662     		str	r6, [r4, #40]
 704:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->write_offset = 0;
 2248              		.loc 1 704 0
 2249 0052 6362     		str	r3, [r4, #36]
 705:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 2250              		.loc 1 705 0
 2251 0054 2362     		str	r3, [r4, #32]
 720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return conn;
 2252              		.loc 1 720 0
 2253 0056 2377     		strb	r3, [r4, #28]
 2254              	.LVL282:
 2255              	.L232:
 725:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2256              		.loc 1 725 0
 2257 0058 2046     		mov	r0, r4
 2258 005a 70BD     		pop	{r4, r5, r6, pc}
 2259              	.LVL283:
 2260              	.L239:
 680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2261              		.loc 1 680 0
 2262 005c 084B     		ldr	r3, .L241
 2263 005e 4FF42A72 		mov	r2, #680
 2264 0062 0849     		ldr	r1, .L241+4
 2265 0064 0848     		ldr	r0, .L241+8
 2266              	.LVL284:
 2267 0066 FFF7FEFF 		bl	printf
 2268              	.LVL285:
 2269              	.L236:
 723:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return NULL;
 2270              		.loc 1 723 0
 2271 006a 2146     		mov	r1, r4
 2272 006c 0720     		movs	r0, #7
 2273 006e FFF7FEFF 		bl	memp_free
 2274              	.LVL286:
 724:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2275              		.loc 1 724 0
 2276 0072 0024     		movs	r4, #0
 2277              	.LVL287:
 2278 0074 F0E7     		b	.L232
 2279              	.LVL288:
 2280              	.L240:
 689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 80


 2281              		.loc 1 689 0
 2282 0076 2846     		mov	r0, r5
 2283 0078 FFF7FEFF 		bl	sys_mbox_free
 2284              	.LVL289:
 690:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2285              		.loc 1 690 0
 2286 007c F5E7     		b	.L236
 2287              	.L242:
 2288 007e 00BF     		.align	2
 2289              	.L241:
 2290 0080 00000000 		.word	.LC0
 2291 0084 00000000 		.word	.LC25
 2292 0088 54000000 		.word	.LC2
 2293              		.cfi_endproc
 2294              	.LFE156:
 2296              		.section	.text.netconn_free,"ax",%progbits
 2297              		.align	1
 2298              		.global	netconn_free
 2299              		.syntax unified
 2300              		.thumb
 2301              		.thumb_func
 2302              		.fpu fpv4-sp-d16
 2304              	netconn_free:
 2305              	.LFB157:
 735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("PCB must be deallocated outside this function", conn->pcb.tcp == NULL);
 2306              		.loc 1 735 0
 2307              		.cfi_startproc
 2308              		@ args = 0, pretend = 0, frame = 0
 2309              		@ frame_needed = 0, uses_anonymous_args = 0
 2310              	.LVL290:
 2311 0000 38B5     		push	{r3, r4, r5, lr}
 2312              	.LCFI14:
 2313              		.cfi_def_cfa_offset 16
 2314              		.cfi_offset 3, -16
 2315              		.cfi_offset 4, -12
 2316              		.cfi_offset 5, -8
 2317              		.cfi_offset 14, -4
 2318 0002 0446     		mov	r4, r0
 736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recvmbox must be deallocated before calling this function",
 2319              		.loc 1 736 0
 2320 0004 4368     		ldr	r3, [r0, #4]
 2321 0006 33B1     		cbz	r3, .L244
 736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recvmbox must be deallocated before calling this function",
 2322              		.loc 1 736 0 is_stmt 0 discriminator 1
 2323 0008 164B     		ldr	r3, .L250
 2324 000a 4FF43872 		mov	r2, #736
 2325 000e 1649     		ldr	r1, .L250+4
 2326 0010 1648     		ldr	r0, .L250+8
 2327              	.LVL291:
 2328 0012 FFF7FEFF 		bl	printf
 2329              	.LVL292:
 2330              	.L244:
 737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->recvmbox));
 2331              		.loc 1 737 0 is_stmt 1
 2332 0016 04F11000 		add	r0, r4, #16
 2333 001a FFF7FEFF 		bl	sys_mbox_valid
 2334              	.LVL293:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 81


 2335 001e 88B9     		cbnz	r0, .L248
 2336              	.L245:
 740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->acceptmbox));
 2337              		.loc 1 740 0
 2338 0020 04F11400 		add	r0, r4, #20
 2339 0024 FFF7FEFF 		bl	sys_mbox_valid
 2340              	.LVL294:
 2341 0028 A0B9     		cbnz	r0, .L249
 2342              	.L246:
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_set_invalid(&conn->op_completed);
 2343              		.loc 1 745 0
 2344 002a 04F10C05 		add	r5, r4, #12
 2345 002e 2846     		mov	r0, r5
 2346 0030 FFF7FEFF 		bl	sys_sem_free
 2347              	.LVL295:
 746:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 2348              		.loc 1 746 0
 2349 0034 2846     		mov	r0, r5
 2350 0036 FFF7FEFF 		bl	sys_sem_set_invalid
 2351              	.LVL296:
 749:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2352              		.loc 1 749 0
 2353 003a 2146     		mov	r1, r4
 2354 003c 0720     		movs	r0, #7
 2355 003e FFF7FEFF 		bl	memp_free
 2356              	.LVL297:
 750:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2357              		.loc 1 750 0
 2358 0042 38BD     		pop	{r3, r4, r5, pc}
 2359              	.LVL298:
 2360              	.L248:
 737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->recvmbox));
 2361              		.loc 1 737 0 discriminator 1
 2362 0044 074B     		ldr	r3, .L250
 2363 0046 40F2E222 		movw	r2, #738
 2364 004a 0949     		ldr	r1, .L250+12
 2365 004c 0748     		ldr	r0, .L250+8
 2366 004e FFF7FEFF 		bl	printf
 2367              	.LVL299:
 2368 0052 E5E7     		b	.L245
 2369              	.L249:
 740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->acceptmbox));
 2370              		.loc 1 740 0 discriminator 1
 2371 0054 034B     		ldr	r3, .L250
 2372 0056 40F2E522 		movw	r2, #741
 2373 005a 0649     		ldr	r1, .L250+16
 2374 005c 0348     		ldr	r0, .L250+8
 2375 005e FFF7FEFF 		bl	printf
 2376              	.LVL300:
 2377 0062 E2E7     		b	.L246
 2378              	.L251:
 2379              		.align	2
 2380              	.L250:
 2381 0064 00000000 		.word	.LC0
 2382 0068 00000000 		.word	.LC26
 2383 006c 54000000 		.word	.LC2
 2384 0070 30000000 		.word	.LC27
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 82


 2385 0074 6C000000 		.word	.LC28
 2386              		.cfi_endproc
 2387              	.LFE157:
 2389              		.section	.text.netconn_drain,"ax",%progbits
 2390              		.align	1
 2391              		.syntax unified
 2392              		.thumb
 2393              		.thumb_func
 2394              		.fpu fpv4-sp-d16
 2396              	netconn_drain:
 2397              	.LFB158:
 762:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mem;
 2398              		.loc 1 762 0
 2399              		.cfi_startproc
 2400              		@ args = 0, pretend = 0, frame = 8
 2401              		@ frame_needed = 0, uses_anonymous_args = 0
 2402              	.LVL301:
 2403 0000 70B5     		push	{r4, r5, r6, lr}
 2404              	.LCFI15:
 2405              		.cfi_def_cfa_offset 16
 2406              		.cfi_offset 4, -16
 2407              		.cfi_offset 5, -12
 2408              		.cfi_offset 6, -8
 2409              		.cfi_offset 14, -4
 2410 0002 82B0     		sub	sp, sp, #8
 2411              	.LCFI16:
 2412              		.cfi_def_cfa_offset 24
 2413 0004 0446     		mov	r4, r0
 771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 2414              		.loc 1 771 0
 2415 0006 00F11005 		add	r5, r0, #16
 2416 000a 2846     		mov	r0, r5
 2417              	.LVL302:
 2418 000c FFF7FEFF 		bl	sys_mbox_valid
 2419              	.LVL303:
 2420 0010 00BB     		cbnz	r0, .L253
 2421              	.L254:
 795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 2422              		.loc 1 795 0
 2423 0012 1434     		adds	r4, r4, #20
 2424              	.LVL304:
 2425 0014 2046     		mov	r0, r4
 2426 0016 FFF7FEFF 		bl	sys_mbox_valid
 2427              	.LVL305:
 2428 001a 0028     		cmp	r0, #0
 2429 001c 3FD0     		beq	.L252
 2430              	.L261:
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (mem != &netconn_aborted) {
 2431              		.loc 1 796 0
 2432 001e 01A9     		add	r1, sp, #4
 2433 0020 2046     		mov	r0, r4
 2434 0022 FFF7FEFF 		bl	sys_arch_mbox_tryfetch
 2435              	.LVL306:
 2436 0026 B0F1FF3F 		cmp	r0, #-1
 2437 002a 32D0     		beq	.L265
 797:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct netconn *newconn = (struct netconn *)mem;
 2438              		.loc 1 797 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 83


 2439 002c 019D     		ldr	r5, [sp, #4]
 2440 002e 1D4B     		ldr	r3, .L267
 2441 0030 9D42     		cmp	r5, r3
 2442 0032 F4D0     		beq	.L261
 2443              	.LVL307:
 2444              	.LBB21:
 802:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (newconn->pcb.tcp != NULL) {
 2445              		.loc 1 802 0
 2446 0034 2846     		mov	r0, r5
 2447 0036 FFF7E3FF 		bl	netconn_drain
 2448              	.LVL308:
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_abort(newconn->pcb.tcp);
 2449              		.loc 1 803 0
 2450 003a 6868     		ldr	r0, [r5, #4]
 2451 003c 18B1     		cbz	r0, .L262
 804:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           newconn->pcb.tcp = NULL;
 2452              		.loc 1 804 0
 2453 003e FFF7FEFF 		bl	tcp_abort
 2454              	.LVL309:
 805:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 2455              		.loc 1 805 0
 2456 0042 0023     		movs	r3, #0
 2457 0044 6B60     		str	r3, [r5, #4]
 2458              	.L262:
 807:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2459              		.loc 1 807 0
 2460 0046 2846     		mov	r0, r5
 2461 0048 FFF7FEFF 		bl	netconn_free
 2462              	.LVL310:
 2463 004c E7E7     		b	.L261
 2464              	.LVL311:
 2465              	.L255:
 2466              	.LBE21:
 786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2467              		.loc 1 786 0
 2468 004e 0198     		ldr	r0, [sp, #4]
 2469 0050 FFF7FEFF 		bl	netbuf_delete
 2470              	.LVL312:
 2471              	.L253:
 772:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 2472              		.loc 1 772 0
 2473 0054 01A9     		add	r1, sp, #4
 2474 0056 2846     		mov	r0, r5
 2475 0058 FFF7FEFF 		bl	sys_arch_mbox_tryfetch
 2476              	.LVL313:
 2477 005c B0F1FF3F 		cmp	r0, #-1
 2478 0060 10D0     		beq	.L266
 774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (mem != NULL) {
 2479              		.loc 1 774 0
 2480 0062 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 2481 0064 03F0F003 		and	r3, r3, #240
 2482 0068 102B     		cmp	r3, #16
 2483 006a F0D1     		bne	.L255
 775:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           p = (struct pbuf*)mem;
 2484              		.loc 1 775 0
 2485 006c 019E     		ldr	r6, [sp, #4]
 2486 006e 002E     		cmp	r6, #0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 84


 2487 0070 F0D0     		beq	.L253
 2488              	.LVL314:
 778:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_recved(conn->pcb.tcp, p->tot_len);
 2489              		.loc 1 778 0
 2490 0072 6068     		ldr	r0, [r4, #4]
 2491 0074 10B1     		cbz	r0, .L257
 779:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 2492              		.loc 1 779 0
 2493 0076 3189     		ldrh	r1, [r6, #8]
 2494 0078 FFF7FEFF 		bl	tcp_recved
 2495              	.LVL315:
 2496              	.L257:
 781:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 2497              		.loc 1 781 0
 2498 007c 3046     		mov	r0, r6
 2499 007e FFF7FEFF 		bl	pbuf_free
 2500              	.LVL316:
 2501 0082 E7E7     		b	.L253
 2502              	.LVL317:
 2503              	.L266:
 789:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->recvmbox);
 2504              		.loc 1 789 0
 2505 0084 2846     		mov	r0, r5
 2506 0086 FFF7FEFF 		bl	sys_mbox_free
 2507              	.LVL318:
 790:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2508              		.loc 1 790 0
 2509 008a 2846     		mov	r0, r5
 2510 008c FFF7FEFF 		bl	sys_mbox_set_invalid
 2511              	.LVL319:
 2512 0090 BFE7     		b	.L254
 2513              	.LVL320:
 2514              	.L265:
 810:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->acceptmbox);
 2515              		.loc 1 810 0
 2516 0092 2046     		mov	r0, r4
 2517 0094 FFF7FEFF 		bl	sys_mbox_free
 2518              	.LVL321:
 811:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2519              		.loc 1 811 0
 2520 0098 2046     		mov	r0, r4
 2521 009a FFF7FEFF 		bl	sys_mbox_set_invalid
 2522              	.LVL322:
 2523              	.L252:
 814:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2524              		.loc 1 814 0
 2525 009e 02B0     		add	sp, sp, #8
 2526              	.LCFI17:
 2527              		.cfi_def_cfa_offset 16
 2528              		@ sp needed
 2529 00a0 70BD     		pop	{r4, r5, r6, pc}
 2530              	.LVL323:
 2531              	.L268:
 2532 00a2 00BF     		.align	2
 2533              	.L267:
 2534 00a4 00000000 		.word	netconn_aborted
 2535              		.cfi_endproc
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 85


 2536              	.LFE158:
 2538              		.section	.text.accept_function,"ax",%progbits
 2539              		.align	1
 2540              		.syntax unified
 2541              		.thumb
 2542              		.thumb_func
 2543              		.fpu fpv4-sp-d16
 2545              	accept_function:
 2546              	.LFB153:
 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *newconn;
 2547              		.loc 1 476 0
 2548              		.cfi_startproc
 2549              		@ args = 0, pretend = 0, frame = 0
 2550              		@ frame_needed = 0, uses_anonymous_args = 0
 2551              	.LVL324:
 2552 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2553              	.LCFI18:
 2554              		.cfi_def_cfa_offset 24
 2555              		.cfi_offset 4, -24
 2556              		.cfi_offset 5, -20
 2557              		.cfi_offset 6, -16
 2558              		.cfi_offset 7, -12
 2559              		.cfi_offset 8, -8
 2560              		.cfi_offset 14, -4
 2561              	.LVL325:
 480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 2562              		.loc 1 480 0
 2563 0004 0028     		cmp	r0, #0
 2564 0006 6AD0     		beq	.L274
 2565 0008 0446     		mov	r4, r0
 2566 000a 1646     		mov	r6, r2
 2567 000c 0D46     		mov	r5, r1
 483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 2568              		.loc 1 483 0
 2569 000e 00F11407 		add	r7, r0, #20
 2570 0012 3846     		mov	r0, r7
 2571              	.LVL326:
 2572 0014 FFF7FEFF 		bl	sys_mbox_valid
 2573              	.LVL327:
 2574 0018 0028     		cmp	r0, #0
 2575 001a 63D0     		beq	.L275
 488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* out-of-pcbs during connect: pass on this error to the application */
 2576              		.loc 1 488 0
 2577 001c CDB1     		cbz	r5, .L281
 501:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newconn == NULL) {
 2578              		.loc 1 501 0
 2579 001e A16A     		ldr	r1, [r4, #40]
 2580 0020 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 2581 0022 FFF7FEFF 		bl	netconn_alloc
 2582              	.LVL328:
 502:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
 2583              		.loc 1 502 0
 2584 0026 8046     		mov	r8, r0
 2585 0028 18B3     		cbz	r0, .L282
 510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   setup_tcp(newconn);
 2586              		.loc 1 510 0
 2587 002a 4560     		str	r5, [r0, #4]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 86


 511:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* no protection: when creating the pcb, the netconn is not yet known
 2588              		.loc 1 511 0
 2589 002c FFF7FEFF 		bl	setup_tcp
 2590              	.LVL329:
 514:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2591              		.loc 1 514 0
 2592 0030 88F80860 		strb	r6, [r8, #8]
 519:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 2593              		.loc 1 519 0
 2594 0034 4146     		mov	r1, r8
 2595 0036 3846     		mov	r0, r7
 2596 0038 FFF7FEFF 		bl	sys_mbox_trypost
 2597              	.LVL330:
 2598 003c 0546     		mov	r5, r0
 2599              	.LVL331:
 2600 003e 30BB     		cbnz	r0, .L283
 538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2601              		.loc 1 538 0
 2602 0040 A36A     		ldr	r3, [r4, #40]
 2603 0042 1BB1     		cbz	r3, .L270
 538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2604              		.loc 1 538 0 is_stmt 0 discriminator 1
 2605 0044 0022     		movs	r2, #0
 2606 0046 1146     		mov	r1, r2
 2607 0048 2046     		mov	r0, r4
 2608 004a 9847     		blx	r3
 2609              	.LVL332:
 2610              	.L270:
 542:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 2611              		.loc 1 542 0 is_stmt 1
 2612 004c 2846     		mov	r0, r5
 2613 004e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2614              	.LVL333:
 2615              	.L281:
 490:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 2616              		.loc 1 490 0
 2617 0052 2C49     		ldr	r1, .L284
 2618 0054 3846     		mov	r0, r7
 2619 0056 FFF7FEFF 		bl	sys_mbox_trypost
 2620              	.LVL334:
 2621 005a 0028     		cmp	r0, #0
 2622 005c 45D1     		bne	.L276
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2623              		.loc 1 492 0
 2624 005e A36A     		ldr	r3, [r4, #40]
 2625 0060 002B     		cmp	r3, #0
 2626 0062 45D0     		beq	.L277
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2627              		.loc 1 492 0 is_stmt 0 discriminator 1
 2628 0064 0022     		movs	r2, #0
 2629 0066 1146     		mov	r1, r2
 2630 0068 2046     		mov	r0, r4
 2631 006a 9847     		blx	r3
 2632              	.LVL335:
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2633              		.loc 1 494 0 is_stmt 1 discriminator 1
 2634 006c 6FF00505 		mvn	r5, #5
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 87


 2635              	.LVL336:
 2636 0070 ECE7     		b	.L270
 2637              	.LVL337:
 2638              	.L282:
 504:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 2639              		.loc 1 504 0
 2640 0072 2449     		ldr	r1, .L284
 2641 0074 3846     		mov	r0, r7
 2642              	.LVL338:
 2643 0076 FFF7FEFF 		bl	sys_mbox_trypost
 2644              	.LVL339:
 2645 007a E0BB     		cbnz	r0, .L278
 506:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2646              		.loc 1 506 0
 2647 007c A36A     		ldr	r3, [r4, #40]
 2648 007e EBB3     		cbz	r3, .L279
 506:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2649              		.loc 1 506 0 is_stmt 0 discriminator 1
 2650 0080 0022     		movs	r2, #0
 2651 0082 1146     		mov	r1, r2
 2652 0084 2046     		mov	r0, r4
 2653 0086 9847     		blx	r3
 2654              	.LVL340:
 508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2655              		.loc 1 508 0 is_stmt 1 discriminator 1
 2656 0088 4FF0FF35 		mov	r5, #-1
 2657              	.LVL341:
 2658 008c DEE7     		b	.L270
 2659              	.L283:
 2660              	.LBB22:
 523:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(pcb, NULL);
 2661              		.loc 1 523 0
 2662 008e D8F80440 		ldr	r4, [r8, #4]
 2663              	.LVL342:
 524:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_recv(pcb, NULL);
 2664              		.loc 1 524 0
 2665 0092 0021     		movs	r1, #0
 2666 0094 2046     		mov	r0, r4
 2667 0096 FFF7FEFF 		bl	tcp_arg
 2668              	.LVL343:
 525:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_sent(pcb, NULL);
 2669              		.loc 1 525 0
 2670 009a 0021     		movs	r1, #0
 2671 009c 2046     		mov	r0, r4
 2672 009e FFF7FEFF 		bl	tcp_recv
 2673              	.LVL344:
 526:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_poll(pcb, NULL, 0);
 2674              		.loc 1 526 0
 2675 00a2 0021     		movs	r1, #0
 2676 00a4 2046     		mov	r0, r4
 2677 00a6 FFF7FEFF 		bl	tcp_sent
 2678              	.LVL345:
 527:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(pcb, NULL);
 2679              		.loc 1 527 0
 2680 00aa 0022     		movs	r2, #0
 2681 00ac 1146     		mov	r1, r2
 2682 00ae 2046     		mov	r0, r4
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 88


 2683 00b0 FFF7FEFF 		bl	tcp_poll
 2684              	.LVL346:
 528:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* remove reference from to the pcb from this netconn */
 2685              		.loc 1 528 0
 2686 00b4 0021     		movs	r1, #0
 2687 00b6 2046     		mov	r0, r4
 2688 00b8 FFF7FEFF 		bl	tcp_err
 2689              	.LVL347:
 530:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* no need to drain since we know the recvmbox is empty. */
 2690              		.loc 1 530 0
 2691 00bc 0023     		movs	r3, #0
 2692 00be C8F80430 		str	r3, [r8, #4]
 532:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&newconn->recvmbox);
 2693              		.loc 1 532 0
 2694 00c2 08F11004 		add	r4, r8, #16
 2695              	.LVL348:
 2696 00c6 2046     		mov	r0, r4
 2697 00c8 FFF7FEFF 		bl	sys_mbox_free
 2698              	.LVL349:
 533:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_free(newconn);
 2699              		.loc 1 533 0
 2700 00cc 2046     		mov	r0, r4
 2701 00ce FFF7FEFF 		bl	sys_mbox_set_invalid
 2702              	.LVL350:
 534:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 2703              		.loc 1 534 0
 2704 00d2 4046     		mov	r0, r8
 2705 00d4 FFF7FEFF 		bl	netconn_free
 2706              	.LVL351:
 535:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 2707              		.loc 1 535 0
 2708 00d8 4FF0FF35 		mov	r5, #-1
 2709 00dc B6E7     		b	.L270
 2710              	.LVL352:
 2711              	.L274:
 2712              	.LBE22:
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2713              		.loc 1 481 0
 2714 00de 6FF00505 		mvn	r5, #5
 2715 00e2 B3E7     		b	.L270
 2716              	.LVL353:
 2717              	.L275:
 485:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2718              		.loc 1 485 0
 2719 00e4 6FF00505 		mvn	r5, #5
 2720              	.LVL354:
 2721 00e8 B0E7     		b	.L270
 2722              	.LVL355:
 2723              	.L276:
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2724              		.loc 1 494 0
 2725 00ea 6FF00505 		mvn	r5, #5
 2726              	.LVL356:
 2727 00ee ADE7     		b	.L270
 2728              	.LVL357:
 2729              	.L277:
 2730 00f0 6FF00505 		mvn	r5, #5
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 89


 2731              	.LVL358:
 2732 00f4 AAE7     		b	.L270
 2733              	.LVL359:
 2734              	.L278:
 508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2735              		.loc 1 508 0
 2736 00f6 4FF0FF35 		mov	r5, #-1
 2737              	.LVL360:
 2738 00fa A7E7     		b	.L270
 2739              	.LVL361:
 2740              	.L279:
 2741 00fc 4FF0FF35 		mov	r5, #-1
 2742              	.LVL362:
 2743 0100 A4E7     		b	.L270
 2744              	.L285:
 2745 0102 00BF     		.align	2
 2746              	.L284:
 2747 0104 00000000 		.word	netconn_aborted
 2748              		.cfi_endproc
 2749              	.LFE153:
 2751              		.section	.text.lwip_netconn_do_delconn,"ax",%progbits
 2752              		.align	1
 2753              		.global	lwip_netconn_do_delconn
 2754              		.syntax unified
 2755              		.thumb
 2756              		.thumb_func
 2757              		.fpu fpv4-sp-d16
 2759              	lwip_netconn_do_delconn:
 2760              	.LFB160:
1020:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 2761              		.loc 1 1020 0
 2762              		.cfi_startproc
 2763              		@ args = 0, pretend = 0, frame = 0
 2764              		@ frame_needed = 0, uses_anonymous_args = 0
 2765              	.LVL363:
 2766 0000 38B5     		push	{r3, r4, r5, lr}
 2767              	.LCFI19:
 2768              		.cfi_def_cfa_offset 16
 2769              		.cfi_offset 3, -16
 2770              		.cfi_offset 4, -12
 2771              		.cfi_offset 5, -8
 2772              		.cfi_offset 14, -4
 2773 0002 0446     		mov	r4, r0
 2774              	.LVL364:
1023:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
 2775              		.loc 1 1023 0
 2776 0004 0368     		ldr	r3, [r0]
 2777 0006 5D78     		ldrb	r5, [r3, #1]	@ zero_extendqisi2
 2778              	.LVL365:
1024:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 2779              		.loc 1 1024 0
 2780 0008 25B1     		cbz	r5, .L287
1024:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 2781              		.loc 1 1024 0 is_stmt 0 discriminator 1
 2782 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2783 000c 03F0F003 		and	r3, r3, #240
 2784 0010 102B     		cmp	r3, #16
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 90


 2785 0012 07D1     		bne	.L304
 2786              	.LVL366:
 2787              	.L287:
1044:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
 2788              		.loc 1 1044 0 is_stmt 1
 2789 0014 75B1     		cbz	r5, .L288
1044:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
 2790              		.loc 1 1044 0 is_stmt 0 discriminator 1
 2791 0016 022D     		cmp	r5, #2
 2792 0018 0CD0     		beq	.L288
1045:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_CONNECT)) ||
 2793              		.loc 1 1045 0 is_stmt 1
 2794 001a 032D     		cmp	r5, #3
 2795 001c 0AD0     		beq	.L288
 2796              	.L289:
1050:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
 2797              		.loc 1 1050 0
 2798 001e FB23     		movs	r3, #251
 2799 0020 2371     		strb	r3, [r4, #4]
 2800 0022 2FE0     		b	.L291
 2801              	.LVL367:
 2802              	.L304:
1024:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 2803              		.loc 1 1024 0 discriminator 2
 2804 0024 4B4B     		ldr	r3, .L309
 2805 0026 40F20142 		movw	r2, #1025
 2806 002a 4B49     		ldr	r1, .L309+4
 2807 002c 4B48     		ldr	r0, .L309+8
 2808              	.LVL368:
 2809 002e FFF7FEFF 		bl	printf
 2810              	.LVL369:
 2811 0032 EFE7     		b	.L287
 2812              	.L288:
1046:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
 2813              		.loc 1 1046 0
 2814 0034 032D     		cmp	r5, #3
 2815 0036 3AD0     		beq	.L305
 2816              	.L290:
1054:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 2817              		.loc 1 1054 0
 2818 0038 032D     		cmp	r5, #3
 2819 003a 3ED0     		beq	.L306
 2820              	.L292:
1056:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Drain and delete mboxes */
 2821              		.loc 1 1056 0
 2822 003c 0023     		movs	r3, #0
 2823 003e 2371     		strb	r3, [r4, #4]
1058:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2824              		.loc 1 1058 0
 2825 0040 2068     		ldr	r0, [r4]
 2826 0042 FFF7FEFF 		bl	netconn_drain
 2827              	.LVL370:
1060:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2828              		.loc 1 1060 0
 2829 0046 2268     		ldr	r2, [r4]
 2830 0048 5168     		ldr	r1, [r2, #4]
 2831 004a 79B1     		cbz	r1, .L293
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 91


1062:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 2832              		.loc 1 1062 0
 2833 004c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2834 004e 03F0F003 		and	r3, r3, #240
 2835 0052 102B     		cmp	r3, #16
 2836 0054 3ED0     		beq	.L295
 2837 0056 202B     		cmp	r3, #32
 2838 0058 05D1     		bne	.L294
1070:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         udp_remove(msg->conn->pcb.udp);
 2839              		.loc 1 1070 0
 2840 005a 0023     		movs	r3, #0
 2841 005c CB61     		str	r3, [r1, #28]
1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 2842              		.loc 1 1071 0
 2843 005e 2368     		ldr	r3, [r4]
 2844 0060 5868     		ldr	r0, [r3, #4]
 2845 0062 FFF7FEFF 		bl	udp_remove
 2846              	.LVL371:
 2847              	.L294:
1099:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2848              		.loc 1 1099 0
 2849 0066 2368     		ldr	r3, [r4]
 2850 0068 0022     		movs	r2, #0
 2851 006a 5A60     		str	r2, [r3, #4]
 2852              	.L293:
1105:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
 2853              		.loc 1 1105 0
 2854 006c 2068     		ldr	r0, [r4]
 2855 006e 836A     		ldr	r3, [r0, #40]
 2856 0070 13B1     		cbz	r3, .L301
1105:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
 2857              		.loc 1 1105 0 is_stmt 0 discriminator 1
 2858 0072 0022     		movs	r2, #0
 2859 0074 1146     		mov	r1, r2
 2860 0076 9847     		blx	r3
 2861              	.LVL372:
 2862              	.L301:
1106:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2863              		.loc 1 1106 0 is_stmt 1
 2864 0078 2068     		ldr	r0, [r4]
 2865 007a 836A     		ldr	r3, [r0, #40]
 2866 007c 13B1     		cbz	r3, .L291
1106:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2867              		.loc 1 1106 0 is_stmt 0 discriminator 1
 2868 007e 0022     		movs	r2, #0
 2869 0080 0221     		movs	r1, #2
 2870 0082 9847     		blx	r3
 2871              	.LVL373:
 2872              	.L291:
1108:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
 2873              		.loc 1 1108 0 is_stmt 1
 2874 0084 2068     		ldr	r0, [r4]
 2875 0086 0C30     		adds	r0, r0, #12
 2876 0088 FFF7FEFF 		bl	sys_sem_valid
 2877              	.LVL374:
 2878 008c 70B1     		cbz	r0, .L286
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 92


 2879              		.loc 1 1109 0
 2880 008e 2368     		ldr	r3, [r4]
 2881 0090 63B1     		cbz	r3, .L286
 2882              	.LBB23:
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2883              		.loc 1 1109 0 is_stmt 0 discriminator 1
 2884 0092 FFF7FEFF 		bl	sys_arch_protect
 2885              	.LVL375:
 2886 0096 2368     		ldr	r3, [r4]
 2887 0098 93F90820 		ldrsb	r2, [r3, #8]
 2888 009c 12F10C0F 		cmn	r2, #12
 2889 00a0 02DB     		blt	.L302
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2890              		.loc 1 1109 0 discriminator 2
 2891 00a2 94F90420 		ldrsb	r2, [r4, #4]
 2892 00a6 1A72     		strb	r2, [r3, #8]
 2893              	.L302:
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2894              		.loc 1 1109 0 discriminator 4
 2895 00a8 FFF7FEFF 		bl	sys_arch_unprotect
 2896              	.LVL376:
 2897              	.L286:
 2898              	.LBE23:
1111:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2899              		.loc 1 1111 0 is_stmt 1
 2900 00ac 38BD     		pop	{r3, r4, r5, pc}
 2901              	.LVL377:
 2902              	.L305:
1047:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This means either a blocking write or blocking connect is running
 2903              		.loc 1 1047 0
 2904 00ae 2368     		ldr	r3, [r4]
 2905 00b0 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 2906 00b2 13F0040F 		tst	r3, #4
 2907 00b6 BFD1     		bne	.L290
 2908 00b8 B1E7     		b	.L289
 2909              	.L306:
1054:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 2910              		.loc 1 1054 0 discriminator 1
 2911 00ba 2368     		ldr	r3, [r4]
 2912 00bc 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 2913 00be 13F0040F 		tst	r3, #4
 2914 00c2 BBD1     		bne	.L292
1054:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 2915              		.loc 1 1054 0 is_stmt 0 discriminator 2
 2916 00c4 234B     		ldr	r3, .L309
 2917 00c6 40F21F42 		movw	r2, #1055
 2918 00ca 2549     		ldr	r1, .L309+12
 2919 00cc 2348     		ldr	r0, .L309+8
 2920 00ce FFF7FEFF 		bl	printf
 2921              	.LVL378:
 2922 00d2 B3E7     		b	.L292
 2923              	.L295:
1076:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 2924              		.loc 1 1076 0 is_stmt 1
 2925 00d4 536A     		ldr	r3, [r2, #36]
 2926 00d6 002B     		cmp	r3, #0
 2927 00d8 2FD0     		beq	.L307
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 93


 2928              	.L297:
1076:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 2929              		.loc 1 1076 0 is_stmt 0 discriminator 3
 2930 00da 1E4B     		ldr	r3, .L309
 2931 00dc 40F23542 		movw	r2, #1077
 2932 00e0 2049     		ldr	r1, .L309+16
 2933 00e2 1E48     		ldr	r0, .L309+8
 2934 00e4 FFF7FEFF 		bl	printf
 2935              	.LVL379:
 2936              	.L298:
1078:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->msg.sd.shut = NETCONN_SHUT_RDWR;
 2937              		.loc 1 1078 0 is_stmt 1
 2938 00e8 2368     		ldr	r3, [r4]
 2939 00ea 0422     		movs	r2, #4
 2940 00ec 5A70     		strb	r2, [r3, #1]
1079:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 2941              		.loc 1 1079 0
 2942 00ee 0323     		movs	r3, #3
 2943 00f0 2372     		strb	r3, [r4, #8]
1080:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 2944              		.loc 1 1080 0
 2945 00f2 2368     		ldr	r3, [r4]
 2946 00f4 5C62     		str	r4, [r3, #36]
1082:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 2947              		.loc 1 1082 0
 2948 00f6 0021     		movs	r1, #0
 2949 00f8 2068     		ldr	r0, [r4]
 2950 00fa FFF7FEFF 		bl	lwip_netconn_do_close_internal
 2951              	.LVL380:
 2952 00fe 0028     		cmp	r0, #0
 2953 0100 D4D0     		beq	.L286
1083:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 2954              		.loc 1 1083 0
 2955 0102 2368     		ldr	r3, [r4]
 2956 0104 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2957 0106 042B     		cmp	r3, #4
 2958 0108 1BD1     		bne	.L308
 2959              	.L300:
1084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 2960              		.loc 1 1084 0
 2961 010a 174D     		ldr	r5, .L309+20
 2962              	.LVL381:
 2963 010c 2846     		mov	r0, r5
 2964 010e FFF7FEFF 		bl	sys_mutex_unlock
 2965              	.LVL382:
1085:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
 2966              		.loc 1 1085 0
 2967 0112 2068     		ldr	r0, [r4]
 2968 0114 0021     		movs	r1, #0
 2969 0116 0C30     		adds	r0, r0, #12
 2970 0118 FFF7FEFF 		bl	sys_arch_sem_wait
 2971              	.LVL383:
1086:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
 2972              		.loc 1 1086 0
 2973 011c 2846     		mov	r0, r5
 2974 011e FFF7FEFF 		bl	sys_mutex_lock
 2975              	.LVL384:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 94


1087:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 2976              		.loc 1 1087 0
 2977 0122 2368     		ldr	r3, [r4]
 2978 0124 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2979 0126 002B     		cmp	r3, #0
 2980 0128 C0D0     		beq	.L286
1087:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 2981              		.loc 1 1087 0 is_stmt 0 discriminator 1
 2982 012a 0A4B     		ldr	r3, .L309
 2983 012c 40F23F42 		movw	r2, #1087
 2984 0130 0E49     		ldr	r1, .L309+24
 2985 0132 0A48     		ldr	r0, .L309+8
 2986 0134 FFF7FEFF 		bl	printf
 2987              	.LVL385:
 2988 0138 B8E7     		b	.L286
 2989              	.LVL386:
 2990              	.L307:
1076:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 2991              		.loc 1 1076 0 is_stmt 1 discriminator 2
 2992 013a 136A     		ldr	r3, [r2, #32]
 2993 013c 002B     		cmp	r3, #0
 2994 013e D3D0     		beq	.L298
 2995 0140 CBE7     		b	.L297
 2996              	.L308:
1083:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 2997              		.loc 1 1083 0 discriminator 1
 2998 0142 044B     		ldr	r3, .L309
 2999 0144 40F23B42 		movw	r2, #1083
 3000 0148 0849     		ldr	r1, .L309+24
 3001 014a 0448     		ldr	r0, .L309+8
 3002 014c FFF7FEFF 		bl	printf
 3003              	.LVL387:
 3004 0150 DBE7     		b	.L300
 3005              	.L310:
 3006 0152 00BF     		.align	2
 3007              	.L309:
 3008 0154 00000000 		.word	.LC0
 3009 0158 00000000 		.word	.LC29
 3010 015c 54000000 		.word	.LC2
 3011 0160 14000000 		.word	.LC30
 3012 0164 34000000 		.word	.LC31
 3013 0168 00000000 		.word	lock_tcpip_core
 3014 016c 50000000 		.word	.LC32
 3015              		.cfi_endproc
 3016              	.LFE160:
 3018              		.section	.text.lwip_netconn_do_bind,"ax",%progbits
 3019              		.align	1
 3020              		.global	lwip_netconn_do_bind
 3021              		.syntax unified
 3022              		.thumb
 3023              		.thumb_func
 3024              		.fpu fpv4-sp-d16
 3026              	lwip_netconn_do_bind:
 3027              	.LFB161:
1122:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 3028              		.loc 1 1122 0
 3029              		.cfi_startproc
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 95


 3030              		@ args = 0, pretend = 0, frame = 0
 3031              		@ frame_needed = 0, uses_anonymous_args = 0
 3032              	.LVL388:
 3033 0000 10B5     		push	{r4, lr}
 3034              	.LCFI20:
 3035              		.cfi_def_cfa_offset 8
 3036              		.cfi_offset 4, -8
 3037              		.cfi_offset 14, -4
 3038 0002 0446     		mov	r4, r0
 3039              	.LVL389:
1125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
 3040              		.loc 1 1125 0
 3041 0004 0368     		ldr	r3, [r0]
 3042 0006 93F90820 		ldrsb	r2, [r3, #8]
 3043 000a 12F10C0F 		cmn	r2, #12
 3044 000e 10DA     		bge	.L312
1126:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3045              		.loc 1 1126 0
 3046 0010 0271     		strb	r2, [r0, #4]
 3047              	.LVL390:
 3048              	.L313:
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3049              		.loc 1 1151 0
 3050 0012 2368     		ldr	r3, [r4]
 3051 0014 63B1     		cbz	r3, .L311
 3052              	.LBB24:
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3053              		.loc 1 1151 0 is_stmt 0 discriminator 1
 3054 0016 FFF7FEFF 		bl	sys_arch_protect
 3055              	.LVL391:
 3056 001a 2368     		ldr	r3, [r4]
 3057 001c 93F90820 		ldrsb	r2, [r3, #8]
 3058 0020 12F10C0F 		cmn	r2, #12
 3059 0024 02DB     		blt	.L317
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3060              		.loc 1 1151 0 discriminator 2
 3061 0026 94F90420 		ldrsb	r2, [r4, #4]
 3062 002a 1A72     		strb	r2, [r3, #8]
 3063              	.L317:
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3064              		.loc 1 1151 0 discriminator 4
 3065 002c FFF7FEFF 		bl	sys_arch_unprotect
 3066              	.LVL392:
 3067              	.L311:
 3068              	.LBE24:
1152:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3069              		.loc 1 1152 0 is_stmt 1
 3070 0030 10BD     		pop	{r4, pc}
 3071              	.LVL393:
 3072              	.L312:
1128:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 3073              		.loc 1 1128 0
 3074 0032 FA22     		movs	r2, #250
 3075 0034 0271     		strb	r2, [r0, #4]
1129:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3076              		.loc 1 1129 0
 3077 0036 5868     		ldr	r0, [r3, #4]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 96


 3078              	.LVL394:
 3079 0038 0028     		cmp	r0, #0
 3080 003a EAD0     		beq	.L313
1130:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3081              		.loc 1 1130 0
 3082 003c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3083 003e 03F0F003 		and	r3, r3, #240
 3084 0042 102B     		cmp	r3, #16
 3085 0044 07D0     		beq	.L314
 3086 0046 202B     		cmp	r3, #32
 3087 0048 E3D1     		bne	.L313
1138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3088              		.loc 1 1138 0
 3089 004a A289     		ldrh	r2, [r4, #12]
 3090 004c A168     		ldr	r1, [r4, #8]
 3091 004e FFF7FEFF 		bl	udp_bind
 3092              	.LVL395:
 3093 0052 2071     		strb	r0, [r4, #4]
1139:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 3094              		.loc 1 1139 0
 3095 0054 DDE7     		b	.L313
 3096              	.L314:
1143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3097              		.loc 1 1143 0
 3098 0056 A289     		ldrh	r2, [r4, #12]
 3099 0058 A168     		ldr	r1, [r4, #8]
 3100 005a FFF7FEFF 		bl	tcp_bind
 3101              	.LVL396:
 3102 005e 2071     		strb	r0, [r4, #4]
1144:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 3103              		.loc 1 1144 0
 3104 0060 D7E7     		b	.L313
 3105              		.cfi_endproc
 3106              	.LFE161:
 3108              		.section	.text.lwip_netconn_do_connect,"ax",%progbits
 3109              		.align	1
 3110              		.global	lwip_netconn_do_connect
 3111              		.syntax unified
 3112              		.thumb
 3113              		.thumb_func
 3114              		.fpu fpv4-sp-d16
 3116              	lwip_netconn_do_connect:
 3117              	.LFB163:
1213:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 3118              		.loc 1 1213 0
 3119              		.cfi_startproc
 3120              		@ args = 0, pretend = 0, frame = 0
 3121              		@ frame_needed = 0, uses_anonymous_args = 0
 3122              	.LVL397:
 3123 0000 38B5     		push	{r3, r4, r5, lr}
 3124              	.LCFI21:
 3125              		.cfi_def_cfa_offset 16
 3126              		.cfi_offset 3, -16
 3127              		.cfi_offset 4, -12
 3128              		.cfi_offset 5, -8
 3129              		.cfi_offset 14, -4
 3130 0002 0446     		mov	r4, r0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 97


 3131              	.LVL398:
1216:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 3132              		.loc 1 1216 0
 3133 0004 0268     		ldr	r2, [r0]
 3134 0006 5068     		ldr	r0, [r2, #4]
 3135              	.LVL399:
 3136 0008 60B1     		cbz	r0, .L335
1220:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3137              		.loc 1 1220 0
 3138 000a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3139 000c 03F0F003 		and	r3, r3, #240
 3140 0010 102B     		cmp	r3, #16
 3141 0012 19D0     		beq	.L323
 3142 0014 202B     		cmp	r3, #32
 3143 0016 6AD1     		bne	.L333
1228:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 3144              		.loc 1 1228 0
 3145 0018 A289     		ldrh	r2, [r4, #12]
 3146 001a A168     		ldr	r1, [r4, #8]
 3147 001c FFF7FEFF 		bl	udp_connect
 3148              	.LVL400:
 3149 0020 2071     		strb	r0, [r4, #4]
1229:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 3150              		.loc 1 1229 0
 3151 0022 01E0     		b	.L321
 3152              	.L335:
1218:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3153              		.loc 1 1218 0
 3154 0024 F123     		movs	r3, #241
 3155 0026 2371     		strb	r3, [r4, #4]
 3156              	.L321:
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3157              		.loc 1 1272 0
 3158 0028 2368     		ldr	r3, [r4]
 3159 002a 63B1     		cbz	r3, .L319
 3160              	.LBB25:
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3161              		.loc 1 1272 0 is_stmt 0 discriminator 1
 3162 002c FFF7FEFF 		bl	sys_arch_protect
 3163              	.LVL401:
 3164 0030 2368     		ldr	r3, [r4]
 3165 0032 93F90820 		ldrsb	r2, [r3, #8]
 3166 0036 12F10C0F 		cmn	r2, #12
 3167 003a 02DB     		blt	.L332
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3168              		.loc 1 1272 0 discriminator 2
 3169 003c 94F90420 		ldrsb	r2, [r4, #4]
 3170 0040 1A72     		strb	r2, [r3, #8]
 3171              	.L332:
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3172              		.loc 1 1272 0 discriminator 4
 3173 0042 FFF7FEFF 		bl	sys_arch_unprotect
 3174              	.LVL402:
 3175              	.L319:
 3176              	.LBE25:
1273:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3177              		.loc 1 1273 0 is_stmt 1
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 98


 3178 0046 38BD     		pop	{r3, r4, r5, pc}
 3179              	.LVL403:
 3180              	.L323:
1234:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_ALREADY;
 3181              		.loc 1 1234 0
 3182 0048 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 3183 004a 032B     		cmp	r3, #3
 3184 004c 03D0     		beq	.L336
1236:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_ISCONN;
 3185              		.loc 1 1236 0
 3186 004e 2BB1     		cbz	r3, .L326
1237:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 3187              		.loc 1 1237 0
 3188 0050 F623     		movs	r3, #246
 3189 0052 2371     		strb	r3, [r4, #4]
 3190 0054 E8E7     		b	.L321
 3191              	.L336:
1235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->state != NETCONN_NONE) {
 3192              		.loc 1 1235 0
 3193 0056 F723     		movs	r3, #247
 3194 0058 2371     		strb	r3, [r4, #4]
 3195 005a E5E7     		b	.L321
 3196              	.L326:
1239:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = tcp_connect(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr),
 3197              		.loc 1 1239 0
 3198 005c 1046     		mov	r0, r2
 3199 005e FFF7FEFF 		bl	setup_tcp
 3200              	.LVL404:
1240:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.bc.port, lwip_netconn_do_connected);
 3201              		.loc 1 1240 0
 3202 0062 2068     		ldr	r0, [r4]
 3203 0064 274B     		ldr	r3, .L338
 3204 0066 A289     		ldrh	r2, [r4, #12]
 3205 0068 A168     		ldr	r1, [r4, #8]
 3206 006a 4068     		ldr	r0, [r0, #4]
 3207 006c FFF7FEFF 		bl	tcp_connect
 3208              	.LVL405:
 3209 0070 2071     		strb	r0, [r4, #4]
1242:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           u8_t non_blocking = netconn_is_nonblocking(msg->conn);
 3210              		.loc 1 1242 0
 3211 0072 0028     		cmp	r0, #0
 3212 0074 D8D1     		bne	.L321
 3213              	.LBB26:
1243:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CONNECT;
 3214              		.loc 1 1243 0
 3215 0076 2268     		ldr	r2, [r4]
 3216 0078 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 3217              	.LVL406:
1244:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
 3218              		.loc 1 1244 0
 3219 007a 0321     		movs	r1, #3
 3220 007c 5170     		strb	r1, [r2, #1]
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (non_blocking) {
 3221              		.loc 1 1245 0
 3222 007e 13F00203 		ands	r3, r3, #2
 3223              	.LVL407:
 3224 0082 08D0     		beq	.L327
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 99


1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (non_blocking) {
 3225              		.loc 1 1245 0 is_stmt 0 discriminator 1
 3226 0084 2168     		ldr	r1, [r4]
 3227 0086 0A7F     		ldrb	r2, [r1, #28]	@ zero_extendqisi2
 3228              	.LVL408:
 3229 0088 42F00402 		orr	r2, r2, #4
 3230 008c 0A77     		strb	r2, [r1, #28]
 3231              	.L328:
1246:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = ERR_INPROGRESS;
 3232              		.loc 1 1246 0 is_stmt 1
 3233 008e 43B1     		cbz	r3, .L329
1247:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
 3234              		.loc 1 1247 0
 3235 0090 FB23     		movs	r3, #251
 3236 0092 2371     		strb	r3, [r4, #4]
 3237 0094 C8E7     		b	.L321
 3238              	.LVL409:
 3239              	.L327:
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (non_blocking) {
 3240              		.loc 1 1245 0 discriminator 2
 3241 0096 2168     		ldr	r1, [r4]
 3242 0098 0A7F     		ldrb	r2, [r1, #28]	@ zero_extendqisi2
 3243              	.LVL410:
 3244 009a 22F00402 		bic	r2, r2, #4
 3245 009e 0A77     		strb	r2, [r1, #28]
 3246 00a0 F5E7     		b	.L328
 3247              	.L329:
1249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
 3248              		.loc 1 1249 0
 3249 00a2 2368     		ldr	r3, [r4]
 3250 00a4 5C62     		str	r4, [r3, #36]
1253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3251              		.loc 1 1253 0
 3252 00a6 2368     		ldr	r3, [r4]
 3253 00a8 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3254 00aa 032B     		cmp	r3, #3
 3255 00ac 17D1     		bne	.L337
 3256              	.L330:
1254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 3257              		.loc 1 1254 0
 3258 00ae 164D     		ldr	r5, .L338+4
 3259 00b0 2846     		mov	r0, r5
 3260 00b2 FFF7FEFF 		bl	sys_mutex_unlock
 3261              	.LVL411:
1255:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
 3262              		.loc 1 1255 0
 3263 00b6 2068     		ldr	r0, [r4]
 3264 00b8 0021     		movs	r1, #0
 3265 00ba 0C30     		adds	r0, r0, #12
 3266 00bc FFF7FEFF 		bl	sys_arch_sem_wait
 3267              	.LVL412:
1256:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state != NETCONN_CONNECT);
 3268              		.loc 1 1256 0
 3269 00c0 2846     		mov	r0, r5
 3270 00c2 FFF7FEFF 		bl	sys_mutex_lock
 3271              	.LVL413:
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 100


 3272              		.loc 1 1257 0
 3273 00c6 2368     		ldr	r3, [r4]
 3274 00c8 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3275 00ca 032B     		cmp	r3, #3
 3276 00cc BBD1     		bne	.L319
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 3277              		.loc 1 1257 0 is_stmt 0 discriminator 1
 3278 00ce 0F4B     		ldr	r3, .L338+8
 3279 00d0 40F2E942 		movw	r2, #1257
 3280 00d4 0E49     		ldr	r1, .L338+12
 3281 00d6 0F48     		ldr	r0, .L338+16
 3282 00d8 FFF7FEFF 		bl	printf
 3283              	.LVL414:
 3284 00dc B3E7     		b	.L319
 3285              	.L337:
1253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3286              		.loc 1 1253 0 is_stmt 1 discriminator 1
 3287 00de 0B4B     		ldr	r3, .L338+8
 3288 00e0 40F2E542 		movw	r2, #1253
 3289 00e4 0A49     		ldr	r1, .L338+12
 3290 00e6 0B48     		ldr	r0, .L338+16
 3291 00e8 FFF7FEFF 		bl	printf
 3292              	.LVL415:
 3293 00ec DFE7     		b	.L330
 3294              	.L333:
 3295              	.LBE26:
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 3296              		.loc 1 1266 0 discriminator 1
 3297 00ee 074B     		ldr	r3, .L338+8
 3298 00f0 40F2F242 		movw	r2, #1266
 3299 00f4 0849     		ldr	r1, .L338+20
 3300 00f6 0748     		ldr	r0, .L338+16
 3301 00f8 FFF7FEFF 		bl	printf
 3302              	.LVL416:
 3303 00fc FA23     		movs	r3, #250
 3304 00fe 2371     		strb	r3, [r4, #4]
1267:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3305              		.loc 1 1267 0 discriminator 1
 3306 0100 92E7     		b	.L321
 3307              	.L339:
 3308 0102 00BF     		.align	2
 3309              	.L338:
 3310 0104 00000000 		.word	lwip_netconn_do_connected
 3311 0108 00000000 		.word	lock_tcpip_core
 3312 010c 00000000 		.word	.LC0
 3313 0110 50000000 		.word	.LC32
 3314 0114 54000000 		.word	.LC2
 3315 0118 00000000 		.word	.LC33
 3316              		.cfi_endproc
 3317              	.LFE163:
 3319              		.section	.text.lwip_netconn_do_disconnect,"ax",%progbits
 3320              		.align	1
 3321              		.global	lwip_netconn_do_disconnect
 3322              		.syntax unified
 3323              		.thumb
 3324              		.thumb_func
 3325              		.fpu fpv4-sp-d16
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 101


 3327              	lwip_netconn_do_disconnect:
 3328              	.LFB164:
1284:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 3329              		.loc 1 1284 0
 3330              		.cfi_startproc
 3331              		@ args = 0, pretend = 0, frame = 0
 3332              		@ frame_needed = 0, uses_anonymous_args = 0
 3333              	.LVL417:
 3334 0000 10B5     		push	{r4, lr}
 3335              	.LCFI22:
 3336              		.cfi_def_cfa_offset 8
 3337              		.cfi_offset 4, -8
 3338              		.cfi_offset 14, -4
 3339 0002 0446     		mov	r4, r0
 3340              	.LVL418:
1288:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
 3341              		.loc 1 1288 0
 3342 0004 0268     		ldr	r2, [r0]
 3343 0006 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3344 0008 03F0F003 		and	r3, r3, #240
 3345 000c 202B     		cmp	r3, #32
 3346 000e 11D0     		beq	.L346
1294:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3347              		.loc 1 1294 0
 3348 0010 FA23     		movs	r3, #250
 3349 0012 0371     		strb	r3, [r0, #4]
 3350              	.LVL419:
 3351              	.L342:
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3352              		.loc 1 1296 0
 3353 0014 2368     		ldr	r3, [r4]
 3354 0016 63B1     		cbz	r3, .L340
 3355              	.LBB27:
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3356              		.loc 1 1296 0 is_stmt 0 discriminator 1
 3357 0018 FFF7FEFF 		bl	sys_arch_protect
 3358              	.LVL420:
 3359 001c 2368     		ldr	r3, [r4]
 3360 001e 93F90820 		ldrsb	r2, [r3, #8]
 3361 0022 12F10C0F 		cmn	r2, #12
 3362 0026 02DB     		blt	.L344
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3363              		.loc 1 1296 0 discriminator 2
 3364 0028 94F90420 		ldrsb	r2, [r4, #4]
 3365 002c 1A72     		strb	r2, [r3, #8]
 3366              	.L344:
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3367              		.loc 1 1296 0 discriminator 4
 3368 002e FFF7FEFF 		bl	sys_arch_unprotect
 3369              	.LVL421:
 3370              	.L340:
 3371              	.LBE27:
1297:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3372              		.loc 1 1297 0 is_stmt 1
 3373 0032 10BD     		pop	{r4, pc}
 3374              	.LVL422:
 3375              	.L346:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 102


1289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
 3376              		.loc 1 1289 0
 3377 0034 5068     		ldr	r0, [r2, #4]
 3378              	.LVL423:
 3379 0036 FFF7FEFF 		bl	udp_disconnect
 3380              	.LVL424:
1290:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
 3381              		.loc 1 1290 0
 3382 003a 0023     		movs	r3, #0
 3383 003c 2371     		strb	r3, [r4, #4]
 3384 003e E9E7     		b	.L342
 3385              		.cfi_endproc
 3386              	.LFE164:
 3388              		.section	.text.lwip_netconn_do_listen,"ax",%progbits
 3389              		.align	1
 3390              		.global	lwip_netconn_do_listen
 3391              		.syntax unified
 3392              		.thumb
 3393              		.thumb_func
 3394              		.fpu fpv4-sp-d16
 3396              	lwip_netconn_do_listen:
 3397              	.LFB165:
1308:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 3398              		.loc 1 1308 0
 3399              		.cfi_startproc
 3400              		@ args = 0, pretend = 0, frame = 8
 3401              		@ frame_needed = 0, uses_anonymous_args = 0
 3402              	.LVL425:
 3403 0000 30B5     		push	{r4, r5, lr}
 3404              	.LCFI23:
 3405              		.cfi_def_cfa_offset 12
 3406              		.cfi_offset 4, -12
 3407              		.cfi_offset 5, -8
 3408              		.cfi_offset 14, -4
 3409 0002 83B0     		sub	sp, sp, #12
 3410              	.LCFI24:
 3411              		.cfi_def_cfa_offset 24
 3412 0004 0446     		mov	r4, r0
 3413              	.LVL426:
1311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
 3414              		.loc 1 1311 0
 3415 0006 0368     		ldr	r3, [r0]
 3416 0008 93F90820 		ldrsb	r2, [r3, #8]
 3417 000c 12F10C0F 		cmn	r2, #12
 3418 0010 11DA     		bge	.L348
1312:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3419              		.loc 1 1312 0
 3420 0012 0271     		strb	r2, [r0, #4]
 3421              	.LVL427:
 3422              	.L349:
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3423              		.loc 1 1380 0
 3424 0014 2368     		ldr	r3, [r4]
 3425 0016 63B1     		cbz	r3, .L347
 3426              	.LBB28:
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3427              		.loc 1 1380 0 is_stmt 0 discriminator 1
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 103


 3428 0018 FFF7FEFF 		bl	sys_arch_protect
 3429              	.LVL428:
 3430 001c 2368     		ldr	r3, [r4]
 3431 001e 93F90820 		ldrsb	r2, [r3, #8]
 3432 0022 12F10C0F 		cmn	r2, #12
 3433 0026 02DB     		blt	.L359
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3434              		.loc 1 1380 0 discriminator 2
 3435 0028 94F90420 		ldrsb	r2, [r4, #4]
 3436 002c 1A72     		strb	r2, [r3, #8]
 3437              	.L359:
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3438              		.loc 1 1380 0 discriminator 4
 3439 002e FFF7FEFF 		bl	sys_arch_unprotect
 3440              	.LVL429:
 3441              	.L347:
 3442              	.LBE28:
1381:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 3443              		.loc 1 1381 0 is_stmt 1
 3444 0032 03B0     		add	sp, sp, #12
 3445              	.LCFI25:
 3446              		.cfi_remember_state
 3447              		.cfi_def_cfa_offset 12
 3448              		@ sp needed
 3449 0034 30BD     		pop	{r4, r5, pc}
 3450              	.LVL430:
 3451              	.L348:
 3452              	.LCFI26:
 3453              		.cfi_restore_state
1314:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 3454              		.loc 1 1314 0
 3455 0036 F522     		movs	r2, #245
 3456 0038 0271     		strb	r2, [r0, #4]
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 3457              		.loc 1 1315 0
 3458 003a 5868     		ldr	r0, [r3, #4]
 3459              	.LVL431:
 3460 003c 0028     		cmp	r0, #0
 3461 003e E9D0     		beq	.L349
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->conn->state == NETCONN_NONE) {
 3462              		.loc 1 1316 0
 3463 0040 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3464 0042 02F0F002 		and	r2, r2, #240
 3465 0046 102A     		cmp	r2, #16
 3466 0048 02D0     		beq	.L361
1376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 3467              		.loc 1 1376 0
 3468 004a F023     		movs	r3, #240
 3469 004c 2371     		strb	r3, [r4, #4]
 3470 004e E1E7     		b	.L349
 3471              	.L361:
1317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct tcp_pcb* lpcb;
 3472              		.loc 1 1317 0
 3473 0050 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3474 0052 002B     		cmp	r3, #0
 3475 0054 45D1     		bne	.L351
 3476              	.LBB29:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 104


1319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* connection is not closed, cannot listen */
 3477              		.loc 1 1319 0
 3478 0056 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 3479 0058 13B1     		cbz	r3, .L352
1321:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
 3480              		.loc 1 1321 0
 3481 005a FA23     		movs	r3, #250
 3482 005c 2371     		strb	r3, [r4, #4]
 3483 005e D9E7     		b	.L349
 3484              	.L352:
 3485              	.LVL432:
 3486              	.LBB30:
1342:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3487              		.loc 1 1342 0
 3488 0060 0DF10702 		add	r2, sp, #7
 3489 0064 FF21     		movs	r1, #255
 3490 0066 FFF7FEFF 		bl	tcp_listen_with_backlog_and_err
 3491              	.LVL433:
1344:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* in this case, the old pcb is still allocated */
 3492              		.loc 1 1344 0
 3493 006a 0546     		mov	r5, r0
 3494 006c F0B1     		cbz	r0, .L362
1349:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 /** @todo: should we drain the recvmbox here? */
 3495              		.loc 1 1349 0
 3496 006e 2068     		ldr	r0, [r4]
 3497              	.LVL434:
 3498 0070 1030     		adds	r0, r0, #16
 3499 0072 FFF7FEFF 		bl	sys_mbox_valid
 3500              	.LVL435:
 3501 0076 E8B9     		cbnz	r0, .L363
 3502              	.L355:
1354:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               if (!sys_mbox_valid(&msg->conn->acceptmbox)) {
 3503              		.loc 1 1354 0
 3504 0078 0023     		movs	r3, #0
 3505 007a 2371     		strb	r3, [r4, #4]
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 3506              		.loc 1 1355 0
 3507 007c 2068     		ldr	r0, [r4]
 3508 007e 1430     		adds	r0, r0, #20
 3509 0080 FFF7FEFF 		bl	sys_mbox_valid
 3510              	.LVL436:
 3511 0084 F8B1     		cbz	r0, .L364
 3512              	.L356:
1358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->conn->state = NETCONN_LISTEN;
 3513              		.loc 1 1358 0
 3514 0086 94F90430 		ldrsb	r3, [r4, #4]
 3515 008a 1BBB     		cbnz	r3, .L357
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->conn->pcb.tcp = lpcb;
 3516              		.loc 1 1359 0
 3517 008c 2368     		ldr	r3, [r4]
 3518 008e 0222     		movs	r2, #2
 3519 0090 5A70     		strb	r2, [r3, #1]
1360:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 tcp_arg(msg->conn->pcb.tcp, msg->conn);
 3520              		.loc 1 1360 0
 3521 0092 2368     		ldr	r3, [r4]
 3522 0094 5D60     		str	r5, [r3, #4]
1361:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 tcp_accept(msg->conn->pcb.tcp, accept_function);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 105


 3523              		.loc 1 1361 0
 3524 0096 2368     		ldr	r3, [r4]
 3525 0098 1946     		mov	r1, r3
 3526 009a 5868     		ldr	r0, [r3, #4]
 3527 009c FFF7FEFF 		bl	tcp_arg
 3528              	.LVL437:
1362:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               } else {
 3529              		.loc 1 1362 0
 3530 00a0 2368     		ldr	r3, [r4]
 3531 00a2 1249     		ldr	r1, .L365
 3532 00a4 5868     		ldr	r0, [r3, #4]
 3533 00a6 FFF7FEFF 		bl	tcp_accept
 3534              	.LVL438:
 3535 00aa B3E7     		b	.L349
 3536              	.LVL439:
 3537              	.L362:
1346:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 3538              		.loc 1 1346 0
 3539 00ac 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 3540 00b0 2371     		strb	r3, [r4, #4]
 3541 00b2 AFE7     		b	.L349
 3542              	.LVL440:
 3543              	.L363:
1351:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 sys_mbox_set_invalid(&msg->conn->recvmbox);
 3544              		.loc 1 1351 0
 3545 00b4 2068     		ldr	r0, [r4]
 3546 00b6 1030     		adds	r0, r0, #16
 3547 00b8 FFF7FEFF 		bl	sys_mbox_free
 3548              	.LVL441:
1352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
 3549              		.loc 1 1352 0
 3550 00bc 2068     		ldr	r0, [r4]
 3551 00be 1030     		adds	r0, r0, #16
 3552 00c0 FFF7FEFF 		bl	sys_mbox_set_invalid
 3553              	.LVL442:
 3554 00c4 D8E7     		b	.L355
 3555              	.L364:
1356:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
 3556              		.loc 1 1356 0
 3557 00c6 2068     		ldr	r0, [r4]
 3558 00c8 0621     		movs	r1, #6
 3559 00ca 1430     		adds	r0, r0, #20
 3560 00cc FFF7FEFF 		bl	sys_mbox_new
 3561              	.LVL443:
 3562 00d0 2071     		strb	r0, [r4, #4]
 3563 00d2 D8E7     		b	.L356
 3564              	.L357:
1365:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->conn->pcb.tcp = NULL;
 3565              		.loc 1 1365 0
 3566 00d4 2846     		mov	r0, r5
 3567 00d6 FFF7FEFF 		bl	tcp_close
 3568              	.LVL444:
1366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
 3569              		.loc 1 1366 0
 3570 00da 2368     		ldr	r3, [r4]
 3571 00dc 0022     		movs	r2, #0
 3572 00de 5A60     		str	r2, [r3, #4]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 106


 3573 00e0 98E7     		b	.L349
 3574              	.LVL445:
 3575              	.L351:
 3576              	.LBE30:
 3577              	.LBE29:
1370:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* already listening, allow updating of the backlog */
 3578              		.loc 1 1370 0
 3579 00e2 022B     		cmp	r3, #2
 3580 00e4 96D1     		bne	.L349
1372:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_backlog_set(msg->conn->pcb.tcp, msg->msg.lb.backlog);
 3581              		.loc 1 1372 0
 3582 00e6 0023     		movs	r3, #0
 3583 00e8 2371     		strb	r3, [r4, #4]
 3584 00ea 93E7     		b	.L349
 3585              	.L366:
 3586              		.align	2
 3587              	.L365:
 3588 00ec 00000000 		.word	accept_function
 3589              		.cfi_endproc
 3590              	.LFE165:
 3592              		.section	.text.lwip_netconn_do_send,"ax",%progbits
 3593              		.align	1
 3594              		.global	lwip_netconn_do_send
 3595              		.syntax unified
 3596              		.thumb
 3597              		.thumb_func
 3598              		.fpu fpv4-sp-d16
 3600              	lwip_netconn_do_send:
 3601              	.LFB166:
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 3602              		.loc 1 1392 0
 3603              		.cfi_startproc
 3604              		@ args = 0, pretend = 0, frame = 0
 3605              		@ frame_needed = 0, uses_anonymous_args = 0
 3606              	.LVL446:
 3607 0000 10B5     		push	{r4, lr}
 3608              	.LCFI27:
 3609              		.cfi_def_cfa_offset 8
 3610              		.cfi_offset 4, -8
 3611              		.cfi_offset 14, -4
 3612 0002 0446     		mov	r4, r0
 3613              	.LVL447:
1395:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
 3614              		.loc 1 1395 0
 3615 0004 0368     		ldr	r3, [r0]
 3616 0006 93F90820 		ldrsb	r2, [r3, #8]
 3617 000a 12F10C0F 		cmn	r2, #12
 3618 000e 10DA     		bge	.L368
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3619              		.loc 1 1396 0
 3620 0010 0271     		strb	r2, [r0, #4]
 3621              	.LVL448:
 3622              	.L369:
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3623              		.loc 1 1435 0
 3624 0012 2368     		ldr	r3, [r4]
 3625 0014 63B1     		cbz	r3, .L367
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 107


 3626              	.LBB31:
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3627              		.loc 1 1435 0 is_stmt 0 discriminator 1
 3628 0016 FFF7FEFF 		bl	sys_arch_protect
 3629              	.LVL449:
 3630 001a 2368     		ldr	r3, [r4]
 3631 001c 93F90820 		ldrsb	r2, [r3, #8]
 3632 0020 12F10C0F 		cmn	r2, #12
 3633 0024 02DB     		blt	.L373
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3634              		.loc 1 1435 0 discriminator 2
 3635 0026 94F90420 		ldrsb	r2, [r4, #4]
 3636 002a 1A72     		strb	r2, [r3, #8]
 3637              	.L373:
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3638              		.loc 1 1435 0 discriminator 4
 3639 002c FFF7FEFF 		bl	sys_arch_unprotect
 3640              	.LVL450:
 3641              	.L367:
 3642              	.LBE31:
1436:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3643              		.loc 1 1436 0 is_stmt 1
 3644 0030 10BD     		pop	{r4, pc}
 3645              	.LVL451:
 3646              	.L368:
1398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 3647              		.loc 1 1398 0
 3648 0032 F522     		movs	r2, #245
 3649 0034 0271     		strb	r2, [r0, #4]
1399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3650              		.loc 1 1399 0
 3651 0036 5868     		ldr	r0, [r3, #4]
 3652              	.LVL452:
 3653 0038 0028     		cmp	r0, #0
 3654 003a EAD0     		beq	.L369
1400:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3655              		.loc 1 1400 0
 3656 003c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3657 003e 03F0F003 		and	r3, r3, #240
 3658 0042 202B     		cmp	r3, #32
 3659 0044 E5D1     		bne	.L369
1422:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
 3660              		.loc 1 1422 0
 3661 0046 A168     		ldr	r1, [r4, #8]
 3662 0048 8B68     		ldr	r3, [r1, #8]
 3663 004a 23B9     		cbnz	r3, .L371
1423:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 3664              		.loc 1 1423 0
 3665 004c 0968     		ldr	r1, [r1]
 3666 004e FFF7FEFF 		bl	udp_send
 3667              	.LVL453:
 3668 0052 2071     		strb	r0, [r4, #4]
 3669 0054 DDE7     		b	.L369
 3670              	.L371:
1425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3671              		.loc 1 1425 0
 3672 0056 8B89     		ldrh	r3, [r1, #12]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 108


 3673 0058 01F10802 		add	r2, r1, #8
 3674 005c 0968     		ldr	r1, [r1]
 3675 005e FFF7FEFF 		bl	udp_sendto
 3676              	.LVL454:
 3677 0062 2071     		strb	r0, [r4, #4]
 3678 0064 D5E7     		b	.L369
 3679              		.cfi_endproc
 3680              	.LFE166:
 3682              		.section	.text.lwip_netconn_do_recv,"ax",%progbits
 3683              		.align	1
 3684              		.global	lwip_netconn_do_recv
 3685              		.syntax unified
 3686              		.thumb
 3687              		.thumb_func
 3688              		.fpu fpv4-sp-d16
 3690              	lwip_netconn_do_recv:
 3691              	.LFB167:
1447:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 3692              		.loc 1 1447 0
 3693              		.cfi_startproc
 3694              		@ args = 0, pretend = 0, frame = 0
 3695              		@ frame_needed = 0, uses_anonymous_args = 0
 3696              	.LVL455:
 3697 0000 70B5     		push	{r4, r5, r6, lr}
 3698              	.LCFI28:
 3699              		.cfi_def_cfa_offset 16
 3700              		.cfi_offset 4, -16
 3701              		.cfi_offset 5, -12
 3702              		.cfi_offset 6, -8
 3703              		.cfi_offset 14, -4
 3704 0002 0546     		mov	r5, r0
 3705              	.LVL456:
1450:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
 3706              		.loc 1 1450 0
 3707 0004 0023     		movs	r3, #0
 3708 0006 0371     		strb	r3, [r0, #4]
1451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 3709              		.loc 1 1451 0
 3710 0008 0368     		ldr	r3, [r0]
 3711 000a 5A68     		ldr	r2, [r3, #4]
 3712 000c 22B1     		cbz	r2, .L376
1452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       u32_t remaining = msg->msg.r.len;
 3713              		.loc 1 1452 0
 3714 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3715 0010 03F0F003 		and	r3, r3, #240
 3716 0014 102B     		cmp	r3, #16
 3717 0016 0FD0     		beq	.L383
 3718              	.LVL457:
 3719              	.L376:
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3720              		.loc 1 1461 0
 3721 0018 2B68     		ldr	r3, [r5]
 3722 001a 63B1     		cbz	r3, .L375
 3723              	.LBB32:
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3724              		.loc 1 1461 0 is_stmt 0 discriminator 1
 3725 001c FFF7FEFF 		bl	sys_arch_protect
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 109


 3726              	.LVL458:
 3727 0020 2B68     		ldr	r3, [r5]
 3728 0022 93F90820 		ldrsb	r2, [r3, #8]
 3729 0026 12F10C0F 		cmn	r2, #12
 3730 002a 02DB     		blt	.L380
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3731              		.loc 1 1461 0 discriminator 2
 3732 002c 95F90420 		ldrsb	r2, [r5, #4]
 3733 0030 1A72     		strb	r2, [r3, #8]
 3734              	.L380:
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3735              		.loc 1 1461 0 discriminator 4
 3736 0032 FFF7FEFF 		bl	sys_arch_unprotect
 3737              	.LVL459:
 3738              	.L375:
 3739              	.LBE32:
1462:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3740              		.loc 1 1462 0 is_stmt 1
 3741 0036 70BD     		pop	{r4, r5, r6, pc}
 3742              	.LVL460:
 3743              	.L383:
 3744              	.LBB33:
1453:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
 3745              		.loc 1 1453 0
 3746 0038 8468     		ldr	r4, [r0, #8]
 3747              	.LVL461:
 3748 003a 08E0     		b	.L378
 3749              	.LVL462:
 3750              	.L381:
 3751              	.LBB34:
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 3752              		.loc 1 1455 0
 3753 003c 4FF6FF76 		movw	r6, #65535
 3754              	.L377:
 3755              	.LVL463:
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
 3756              		.loc 1 1456 0 discriminator 4
 3757 0040 2B68     		ldr	r3, [r5]
 3758 0042 3146     		mov	r1, r6
 3759 0044 5868     		ldr	r0, [r3, #4]
 3760 0046 FFF7FEFF 		bl	tcp_recved
 3761              	.LVL464:
 3762              	.LBE34:
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3763              		.loc 1 1458 0 discriminator 4
 3764 004a A41B     		subs	r4, r4, r6
 3765              	.LVL465:
 3766 004c E4D0     		beq	.L376
 3767              	.LVL466:
 3768              	.L378:
 3769              	.LBB35:
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 3770              		.loc 1 1455 0
 3771 004e B4F5803F 		cmp	r4, #65536
 3772 0052 F3D2     		bcs	.L381
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 3773              		.loc 1 1455 0 is_stmt 0 discriminator 1
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 110


 3774 0054 A6B2     		uxth	r6, r4
 3775 0056 F3E7     		b	.L377
 3776              	.LBE35:
 3777              	.LBE33:
 3778              		.cfi_endproc
 3779              	.LFE167:
 3781              		.section	.text.lwip_netconn_do_write,"ax",%progbits
 3782              		.align	1
 3783              		.global	lwip_netconn_do_write
 3784              		.syntax unified
 3785              		.thumb
 3786              		.thumb_func
 3787              		.fpu fpv4-sp-d16
 3789              	lwip_netconn_do_write:
 3790              	.LFB169:
1652:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 3791              		.loc 1 1652 0 is_stmt 1
 3792              		.cfi_startproc
 3793              		@ args = 0, pretend = 0, frame = 0
 3794              		@ frame_needed = 0, uses_anonymous_args = 0
 3795              	.LVL467:
 3796 0000 38B5     		push	{r3, r4, r5, lr}
 3797              	.LCFI29:
 3798              		.cfi_def_cfa_offset 16
 3799              		.cfi_offset 3, -16
 3800              		.cfi_offset 4, -12
 3801              		.cfi_offset 5, -8
 3802              		.cfi_offset 14, -4
 3803 0002 0446     		mov	r4, r0
 3804              	.LVL468:
1655:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
 3805              		.loc 1 1655 0
 3806 0004 0368     		ldr	r3, [r0]
 3807 0006 93F90820 		ldrsb	r2, [r3, #8]
 3808 000a 12F10C0F 		cmn	r2, #12
 3809 000e 0FDA     		bge	.L385
1656:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3810              		.loc 1 1656 0
 3811 0010 0271     		strb	r2, [r0, #4]
 3812              	.L386:
1697:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3813              		.loc 1 1697 0
 3814 0012 63B1     		cbz	r3, .L384
 3815              	.LBB36:
1697:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3816              		.loc 1 1697 0 is_stmt 0 discriminator 1
 3817 0014 FFF7FEFF 		bl	sys_arch_protect
 3818              	.LVL469:
 3819 0018 2368     		ldr	r3, [r4]
 3820 001a 93F90820 		ldrsb	r2, [r3, #8]
 3821 001e 12F10C0F 		cmn	r2, #12
 3822 0022 02DB     		blt	.L395
1697:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3823              		.loc 1 1697 0 discriminator 2
 3824 0024 94F90420 		ldrsb	r2, [r4, #4]
 3825 0028 1A72     		strb	r2, [r3, #8]
 3826              	.L395:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 111


1697:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3827              		.loc 1 1697 0 discriminator 4
 3828 002a FFF7FEFF 		bl	sys_arch_unprotect
 3829              	.LVL470:
 3830              	.L384:
 3831              	.LBE36:
1698:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3832              		.loc 1 1698 0 is_stmt 1
 3833 002e 38BD     		pop	{r3, r4, r5, pc}
 3834              	.LVL471:
 3835              	.L385:
1658:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 3836              		.loc 1 1658 0
 3837 0030 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3838 0032 02F0F002 		and	r2, r2, #240
 3839 0036 102A     		cmp	r2, #16
 3840 0038 02D0     		beq	.L397
1693:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* (LWIP_UDP || LWIP_RAW) */
 3841              		.loc 1 1693 0
 3842 003a FA22     		movs	r2, #250
 3843 003c 0271     		strb	r2, [r0, #4]
 3844 003e E8E7     		b	.L386
 3845              	.L397:
1660:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
 3846              		.loc 1 1660 0
 3847 0040 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 3848 0042 12B1     		cbz	r2, .L388
1662:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->pcb.tcp != NULL) {
 3849              		.loc 1 1662 0
 3850 0044 FB22     		movs	r2, #251
 3851 0046 0271     		strb	r2, [r0, #4]
 3852 0048 E3E7     		b	.L386
 3853              	.L388:
1663:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
 3854              		.loc 1 1663 0
 3855 004a 5A68     		ldr	r2, [r3, #4]
 3856 004c 002A     		cmp	r2, #0
 3857 004e 48D0     		beq	.L389
1664:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* set all the variables used by lwip_netconn_do_writemore */
 3858              		.loc 1 1664 0
 3859 0050 0122     		movs	r2, #1
 3860 0052 5A70     		strb	r2, [r3, #1]
1666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 3861              		.loc 1 1666 0
 3862 0054 0368     		ldr	r3, [r0]
 3863 0056 5A6A     		ldr	r2, [r3, #36]
 3864 0058 002A     		cmp	r2, #0
 3865 005a 2ED0     		beq	.L398
 3866              	.L390:
1666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 3867              		.loc 1 1666 0 is_stmt 0 discriminator 3
 3868 005c 224B     		ldr	r3, .L401
 3869 005e 40F28362 		movw	r2, #1667
 3870 0062 2249     		ldr	r1, .L401+4
 3871 0064 2248     		ldr	r0, .L401+8
 3872              	.LVL472:
 3873 0066 FFF7FEFF 		bl	printf
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 112


 3874              	.LVL473:
 3875              	.L391:
1668:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 3876              		.loc 1 1668 0 is_stmt 1
 3877 006a E368     		ldr	r3, [r4, #12]
 3878 006c 4BB3     		cbz	r3, .L399
 3879              	.L392:
1669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset = 0;
 3880              		.loc 1 1669 0
 3881 006e 2368     		ldr	r3, [r4]
 3882 0070 5C62     		str	r4, [r3, #36]
1670:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 3883              		.loc 1 1670 0
 3884 0072 2368     		ldr	r3, [r4]
 3885 0074 0021     		movs	r1, #0
 3886 0076 1962     		str	r1, [r3, #32]
1672:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
 3887              		.loc 1 1672 0
 3888 0078 2068     		ldr	r0, [r4]
 3889 007a FFF7FEFF 		bl	lwip_netconn_do_writemore
 3890              	.LVL474:
 3891 007e 0028     		cmp	r0, #0
 3892 0080 D5D0     		beq	.L384
1673:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 3893              		.loc 1 1673 0
 3894 0082 2368     		ldr	r3, [r4]
 3895 0084 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3896 0086 012B     		cmp	r3, #1
 3897 0088 23D1     		bne	.L400
 3898              	.L394:
1674:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 3899              		.loc 1 1674 0
 3900 008a 1A4D     		ldr	r5, .L401+12
 3901 008c 2846     		mov	r0, r5
 3902 008e FFF7FEFF 		bl	sys_mutex_unlock
 3903              	.LVL475:
1675:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
 3904              		.loc 1 1675 0
 3905 0092 2068     		ldr	r0, [r4]
 3906 0094 0021     		movs	r1, #0
 3907 0096 0C30     		adds	r0, r0, #12
 3908 0098 FFF7FEFF 		bl	sys_arch_sem_wait
 3909              	.LVL476:
1676:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state != NETCONN_WRITE);
 3910              		.loc 1 1676 0
 3911 009c 2846     		mov	r0, r5
 3912 009e FFF7FEFF 		bl	sys_mutex_lock
 3913              	.LVL477:
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3914              		.loc 1 1677 0
 3915 00a2 2368     		ldr	r3, [r4]
 3916 00a4 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3917 00a6 012B     		cmp	r3, #1
 3918 00a8 C1D1     		bne	.L384
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3919              		.loc 1 1677 0 is_stmt 0 discriminator 1
 3920 00aa 0F4B     		ldr	r3, .L401
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 113


 3921 00ac 40F28D62 		movw	r2, #1677
 3922 00b0 1149     		ldr	r1, .L401+16
 3923 00b2 0F48     		ldr	r0, .L401+8
 3924 00b4 FFF7FEFF 		bl	printf
 3925              	.LVL478:
 3926 00b8 B9E7     		b	.L384
 3927              	.LVL479:
 3928              	.L398:
1666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 3929              		.loc 1 1666 0 is_stmt 1 discriminator 2
 3930 00ba 1B6A     		ldr	r3, [r3, #32]
 3931 00bc 002B     		cmp	r3, #0
 3932 00be D4D0     		beq	.L391
 3933 00c0 CCE7     		b	.L390
 3934              	.LVL480:
 3935              	.L399:
1668:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 3936              		.loc 1 1668 0 discriminator 1
 3937 00c2 094B     		ldr	r3, .L401
 3938 00c4 40F28462 		movw	r2, #1668
 3939 00c8 0C49     		ldr	r1, .L401+20
 3940 00ca 0948     		ldr	r0, .L401+8
 3941 00cc FFF7FEFF 		bl	printf
 3942              	.LVL481:
 3943 00d0 CDE7     		b	.L392
 3944              	.L400:
1673:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 3945              		.loc 1 1673 0 discriminator 1
 3946 00d2 054B     		ldr	r3, .L401
 3947 00d4 40F28962 		movw	r2, #1673
 3948 00d8 0749     		ldr	r1, .L401+16
 3949 00da 0548     		ldr	r0, .L401+8
 3950 00dc FFF7FEFF 		bl	printf
 3951              	.LVL482:
 3952 00e0 D3E7     		b	.L394
 3953              	.LVL483:
 3954              	.L389:
1686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 3955              		.loc 1 1686 0
 3956 00e2 F522     		movs	r2, #245
 3957 00e4 0271     		strb	r2, [r0, #4]
 3958 00e6 94E7     		b	.L386
 3959              	.L402:
 3960              		.align	2
 3961              	.L401:
 3962 00e8 00000000 		.word	.LC0
 3963 00ec 34000000 		.word	.LC31
 3964 00f0 54000000 		.word	.LC2
 3965 00f4 00000000 		.word	lock_tcpip_core
 3966 00f8 50000000 		.word	.LC32
 3967 00fc 00000000 		.word	.LC34
 3968              		.cfi_endproc
 3969              	.LFE169:
 3971              		.section	.text.lwip_netconn_do_getaddr,"ax",%progbits
 3972              		.align	1
 3973              		.global	lwip_netconn_do_getaddr
 3974              		.syntax unified
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 114


 3975              		.thumb
 3976              		.thumb_func
 3977              		.fpu fpv4-sp-d16
 3979              	lwip_netconn_do_getaddr:
 3980              	.LFB170:
1708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 3981              		.loc 1 1708 0
 3982              		.cfi_startproc
 3983              		@ args = 0, pretend = 0, frame = 0
 3984              		@ frame_needed = 0, uses_anonymous_args = 0
 3985              	.LVL484:
 3986 0000 10B5     		push	{r4, lr}
 3987              	.LCFI30:
 3988              		.cfi_def_cfa_offset 8
 3989              		.cfi_offset 4, -8
 3990              		.cfi_offset 14, -4
 3991 0002 0446     		mov	r4, r0
 3992              	.LVL485:
1711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->msg.ad.local) {
 3993              		.loc 1 1711 0
 3994 0004 0368     		ldr	r3, [r0]
 3995 0006 5B68     		ldr	r3, [r3, #4]
 3996 0008 002B     		cmp	r3, #0
 3997 000a 3FD0     		beq	.L404
1712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(API_EXPR_DEREF(msg->msg.ad.ipaddr),
 3998              		.loc 1 1712 0
 3999 000c 027C     		ldrb	r2, [r0, #16]	@ zero_extendqisi2
 4000 000e 9AB1     		cbz	r2, .L405
1713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->pcb.ip->local_ip);
 4001              		.loc 1 1713 0
 4002 0010 8268     		ldr	r2, [r0, #8]
 4003 0012 1B68     		ldr	r3, [r3]
 4004 0014 1360     		str	r3, [r2]
 4005              	.L406:
1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4006              		.loc 1 1720 0
 4007 0016 0023     		movs	r3, #0
 4008 0018 2371     		strb	r3, [r4, #4]
1721:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4009              		.loc 1 1721 0
 4010 001a 2268     		ldr	r2, [r4]
 4011 001c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4012 001e 03F0F003 		and	r3, r3, #240
 4013 0022 102B     		cmp	r3, #16
 4014 0024 18D0     		beq	.L408
 4015 0026 202B     		cmp	r3, #32
 4016 0028 28D1     		bne	.L418
1734:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.udp->local_port;
 4017              		.loc 1 1734 0
 4018 002a 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 4019 002c 43B1     		cbz	r3, .L410
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 4020              		.loc 1 1735 0
 4021 002e 5268     		ldr	r2, [r2, #4]
 4022 0030 E368     		ldr	r3, [r4, #12]
 4023 0032 528A     		ldrh	r2, [r2, #18]
 4024 0034 1A80     		strh	r2, [r3]	@ movhi
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 115


 4025 0036 2BE0     		b	.L411
 4026              	.L405:
1716:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->pcb.ip->remote_ip);
 4027              		.loc 1 1716 0
 4028 0038 8268     		ldr	r2, [r0, #8]
 4029 003a 5B68     		ldr	r3, [r3, #4]
 4030 003c 1360     		str	r3, [r2]
 4031 003e EAE7     		b	.L406
 4032              	.L410:
1737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = ERR_CONN;
 4033              		.loc 1 1737 0
 4034 0040 5368     		ldr	r3, [r2, #4]
 4035 0042 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 4036 0044 12F0040F 		tst	r2, #4
 4037 0048 02D1     		bne	.L412
1738:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 4038              		.loc 1 1738 0
 4039 004a F523     		movs	r3, #245
 4040 004c 2371     		strb	r3, [r4, #4]
 4041 004e 1FE0     		b	.L411
 4042              	.L412:
1740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4043              		.loc 1 1740 0
 4044 0050 E268     		ldr	r2, [r4, #12]
 4045 0052 9B8A     		ldrh	r3, [r3, #20]
 4046 0054 1380     		strh	r3, [r2]	@ movhi
 4047 0056 1BE0     		b	.L411
 4048              	.L408:
1747:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           ((msg->conn->pcb.tcp->state == CLOSED) || (msg->conn->pcb.tcp->state == LISTEN))) {
 4049              		.loc 1 1747 0
 4050 0058 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 4051 005a 1BB9     		cbnz	r3, .L413
1748:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* pcb is not connected and remote name is requested */
 4052              		.loc 1 1748 0 discriminator 1
 4053 005c 5168     		ldr	r1, [r2, #4]
 4054 005e 097D     		ldrb	r1, [r1, #20]	@ zero_extendqisi2
1747:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           ((msg->conn->pcb.tcp->state == CLOSED) || (msg->conn->pcb.tcp->state == LISTEN))) {
 4055              		.loc 1 1747 0 discriminator 1
 4056 0060 0129     		cmp	r1, #1
 4057 0062 05D9     		bls	.L420
 4058              	.L413:
1752:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 4059              		.loc 1 1752 0
 4060 0064 3BB1     		cbz	r3, .L414
1752:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 4061              		.loc 1 1752 0 is_stmt 0 discriminator 1
 4062 0066 5368     		ldr	r3, [r2, #4]
 4063 0068 DA8A     		ldrh	r2, [r3, #22]
 4064              	.L415:
1752:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 4065              		.loc 1 1752 0 discriminator 4
 4066 006a E368     		ldr	r3, [r4, #12]
 4067 006c 1A80     		strh	r2, [r3]	@ movhi
 4068 006e 0FE0     		b	.L411
 4069              	.L420:
1750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 4070              		.loc 1 1750 0 is_stmt 1
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 116


 4071 0070 F523     		movs	r3, #245
 4072 0072 2371     		strb	r3, [r4, #4]
 4073 0074 0CE0     		b	.L411
 4074              	.L414:
1752:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 4075              		.loc 1 1752 0 discriminator 2
 4076 0076 5368     		ldr	r3, [r2, #4]
 4077 0078 1A8B     		ldrh	r2, [r3, #24]
 4078 007a F6E7     		b	.L415
 4079              	.L418:
1757:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 4080              		.loc 1 1757 0 discriminator 1
 4081 007c 0C4B     		ldr	r3, .L421
 4082 007e 40F2DD62 		movw	r2, #1757
 4083 0082 0C49     		ldr	r1, .L421+4
 4084 0084 0C48     		ldr	r0, .L421+8
 4085              	.LVL486:
 4086 0086 FFF7FEFF 		bl	printf
 4087              	.LVL487:
1758:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4088              		.loc 1 1758 0 discriminator 1
 4089 008a 01E0     		b	.L411
 4090              	.LVL488:
 4091              	.L404:
1761:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4092              		.loc 1 1761 0
 4093 008c F523     		movs	r3, #245
 4094 008e 0371     		strb	r3, [r0, #4]
 4095              	.LVL489:
 4096              	.L411:
1763:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4097              		.loc 1 1763 0
 4098 0090 2368     		ldr	r3, [r4]
 4099 0092 63B1     		cbz	r3, .L403
 4100              	.LBB37:
1763:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4101              		.loc 1 1763 0 is_stmt 0 discriminator 1
 4102 0094 FFF7FEFF 		bl	sys_arch_protect
 4103              	.LVL490:
 4104 0098 2368     		ldr	r3, [r4]
 4105 009a 93F90820 		ldrsb	r2, [r3, #8]
 4106 009e 12F10C0F 		cmn	r2, #12
 4107 00a2 02DB     		blt	.L417
1763:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4108              		.loc 1 1763 0 discriminator 2
 4109 00a4 94F90420 		ldrsb	r2, [r4, #4]
 4110 00a8 1A72     		strb	r2, [r3, #8]
 4111              	.L417:
1763:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4112              		.loc 1 1763 0 discriminator 4
 4113 00aa FFF7FEFF 		bl	sys_arch_unprotect
 4114              	.LVL491:
 4115              	.L403:
 4116              	.LBE37:
1764:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4117              		.loc 1 1764 0 is_stmt 1
 4118 00ae 10BD     		pop	{r4, pc}
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 117


 4119              	.LVL492:
 4120              	.L422:
 4121              		.align	2
 4122              	.L421:
 4123 00b0 00000000 		.word	.LC0
 4124 00b4 00000000 		.word	.LC35
 4125 00b8 54000000 		.word	.LC2
 4126              		.cfi_endproc
 4127              	.LFE170:
 4129              		.section	.text.lwip_netconn_do_close,"ax",%progbits
 4130              		.align	1
 4131              		.global	lwip_netconn_do_close
 4132              		.syntax unified
 4133              		.thumb
 4134              		.thumb_func
 4135              		.fpu fpv4-sp-d16
 4137              	lwip_netconn_do_close:
 4138              	.LFB171:
1775:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 4139              		.loc 1 1775 0
 4140              		.cfi_startproc
 4141              		@ args = 0, pretend = 0, frame = 0
 4142              		@ frame_needed = 0, uses_anonymous_args = 0
 4143              	.LVL493:
 4144 0000 38B5     		push	{r3, r4, r5, lr}
 4145              	.LCFI31:
 4146              		.cfi_def_cfa_offset 16
 4147              		.cfi_offset 3, -16
 4148              		.cfi_offset 4, -12
 4149              		.cfi_offset 5, -8
 4150              		.cfi_offset 14, -4
 4151 0002 0446     		mov	r4, r0
 4152              	.LVL494:
1779:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* First check if this is a TCP netconn and if it is in a correct state
 4153              		.loc 1 1779 0
 4154 0004 0068     		ldr	r0, [r0]
 4155              	.LVL495:
 4156 0006 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
 4157              	.LVL496:
1782:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) &&
 4158              		.loc 1 1782 0
 4159 0008 4368     		ldr	r3, [r0, #4]
 4160 000a 23B1     		cbz	r3, .L424
1783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
 4161              		.loc 1 1783 0 discriminator 1
 4162 000c 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
1782:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) &&
 4163              		.loc 1 1782 0 discriminator 1
 4164 000e 03F0F003 		and	r3, r3, #240
 4165 0012 102B     		cmp	r3, #16
 4166 0014 10D0     		beq	.L436
 4167              	.L424:
1840:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4168              		.loc 1 1840 0
 4169 0016 F523     		movs	r3, #245
 4170 0018 2371     		strb	r3, [r4, #4]
 4171              	.L427:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 118


1842:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4172              		.loc 1 1842 0
 4173 001a 60B1     		cbz	r0, .L423
 4174              	.LBB38:
1842:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4175              		.loc 1 1842 0 is_stmt 0 discriminator 1
 4176 001c FFF7FEFF 		bl	sys_arch_protect
 4177              	.LVL497:
 4178 0020 2368     		ldr	r3, [r4]
 4179 0022 93F90820 		ldrsb	r2, [r3, #8]
 4180 0026 12F10C0F 		cmn	r2, #12
 4181 002a 02DB     		blt	.L434
1842:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4182              		.loc 1 1842 0 discriminator 2
 4183 002c 94F90420 		ldrsb	r2, [r4, #4]
 4184 0030 1A72     		strb	r2, [r3, #8]
 4185              	.L434:
1842:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4186              		.loc 1 1842 0 discriminator 4
 4187 0032 FFF7FEFF 		bl	sys_arch_unprotect
 4188              	.LVL498:
 4189              	.L423:
 4190              	.LBE38:
1843:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4191              		.loc 1 1843 0 is_stmt 1
 4192 0036 38BD     		pop	{r3, r4, r5, pc}
 4193              	.LVL499:
 4194              	.L436:
1784:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Check if we are in a connected state */
 4195              		.loc 1 1784 0
 4196 0038 237A     		ldrb	r3, [r4, #8]	@ zero_extendqisi2
1783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
 4197              		.loc 1 1783 0
 4198 003a 032B     		cmp	r3, #3
 4199 003c 01D0     		beq	.L425
1784:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Check if we are in a connected state */
 4200              		.loc 1 1784 0
 4201 003e 022A     		cmp	r2, #2
 4202 0040 E9D0     		beq	.L424
 4203              	.L425:
1786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
 4204              		.loc 1 1786 0
 4205 0042 032A     		cmp	r2, #3
 4206 0044 36D0     		beq	.L437
1789:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 4207              		.loc 1 1789 0
 4208 0046 012A     		cmp	r2, #1
 4209 0048 37D0     		beq	.L438
1815:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Drain and delete mboxes */
 4210              		.loc 1 1815 0
 4211 004a 13F0010F 		tst	r3, #1
 4212 004e 37D1     		bne	.L439
 4213              	.LVL500:
 4214              	.L429:
1819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset == 0);
 4215              		.loc 1 1819 0
 4216 0050 2368     		ldr	r3, [r4]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 119


 4217 0052 5A6A     		ldr	r2, [r3, #36]
 4218 0054 002A     		cmp	r2, #0
 4219 0056 36D0     		beq	.L440
 4220              	.L430:
1819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset == 0);
 4221              		.loc 1 1819 0 is_stmt 0 discriminator 3
 4222 0058 214B     		ldr	r3, .L442
 4223 005a 40F21C72 		movw	r2, #1820
 4224 005e 2149     		ldr	r1, .L442+4
 4225 0060 2148     		ldr	r0, .L442+8
 4226 0062 FFF7FEFF 		bl	printf
 4227              	.LVL501:
 4228              	.L431:
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
 4229              		.loc 1 1821 0 is_stmt 1
 4230 0066 2368     		ldr	r3, [r4]
 4231 0068 0422     		movs	r2, #4
 4232 006a 5A70     		strb	r2, [r3, #1]
1822:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 4233              		.loc 1 1822 0
 4234 006c 2368     		ldr	r3, [r4]
 4235 006e 5C62     		str	r4, [r3, #36]
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 4236              		.loc 1 1824 0
 4237 0070 0021     		movs	r1, #0
 4238 0072 2068     		ldr	r0, [r4]
 4239 0074 FFF7FEFF 		bl	lwip_netconn_do_close_internal
 4240              	.LVL502:
 4241 0078 0028     		cmp	r0, #0
 4242 007a DCD0     		beq	.L423
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 4243              		.loc 1 1825 0
 4244 007c 2368     		ldr	r3, [r4]
 4245 007e 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4246 0080 042B     		cmp	r3, #4
 4247 0082 24D1     		bne	.L441
 4248              	.L433:
1826:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 4249              		.loc 1 1826 0
 4250 0084 194D     		ldr	r5, .L442+12
 4251 0086 2846     		mov	r0, r5
 4252 0088 FFF7FEFF 		bl	sys_mutex_unlock
 4253              	.LVL503:
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
 4254              		.loc 1 1827 0
 4255 008c 2068     		ldr	r0, [r4]
 4256 008e 0021     		movs	r1, #0
 4257 0090 0C30     		adds	r0, r0, #12
 4258 0092 FFF7FEFF 		bl	sys_arch_sem_wait
 4259              	.LVL504:
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
 4260              		.loc 1 1828 0
 4261 0096 2846     		mov	r0, r5
 4262 0098 FFF7FEFF 		bl	sys_mutex_lock
 4263              	.LVL505:
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 4264              		.loc 1 1829 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 120


 4265 009c 2368     		ldr	r3, [r4]
 4266 009e 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4267 00a0 002B     		cmp	r3, #0
 4268 00a2 C8D0     		beq	.L423
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 4269              		.loc 1 1829 0 is_stmt 0 discriminator 1
 4270 00a4 0E4B     		ldr	r3, .L442
 4271 00a6 40F22572 		movw	r2, #1829
 4272 00aa 1149     		ldr	r1, .L442+16
 4273 00ac 0E48     		ldr	r0, .L442+8
 4274 00ae FFF7FEFF 		bl	printf
 4275              	.LVL506:
 4276 00b2 C0E7     		b	.L423
 4277              	.LVL507:
 4278              	.L437:
1788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (state == NETCONN_WRITE) {
 4279              		.loc 1 1788 0 is_stmt 1
 4280 00b4 F523     		movs	r3, #245
 4281 00b6 2371     		strb	r3, [r4, #4]
 4282 00b8 AFE7     		b	.L427
 4283              	.L438:
1812:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 4284              		.loc 1 1812 0
 4285 00ba FB23     		movs	r3, #251
 4286 00bc 2371     		strb	r3, [r4, #4]
 4287 00be ACE7     		b	.L427
 4288              	.L439:
1817:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 4289              		.loc 1 1817 0
 4290 00c0 FFF7FEFF 		bl	netconn_drain
 4291              	.LVL508:
 4292 00c4 C4E7     		b	.L429
 4293              	.L440:
1819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset == 0);
 4294              		.loc 1 1819 0 discriminator 2
 4295 00c6 1B6A     		ldr	r3, [r3, #32]
 4296 00c8 002B     		cmp	r3, #0
 4297 00ca CCD0     		beq	.L431
 4298 00cc C4E7     		b	.L430
 4299              	.L441:
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 4300              		.loc 1 1825 0 discriminator 1
 4301 00ce 044B     		ldr	r3, .L442
 4302 00d0 40F22172 		movw	r2, #1825
 4303 00d4 0649     		ldr	r1, .L442+16
 4304 00d6 0448     		ldr	r0, .L442+8
 4305 00d8 FFF7FEFF 		bl	printf
 4306              	.LVL509:
 4307 00dc D2E7     		b	.L433
 4308              	.L443:
 4309 00de 00BF     		.align	2
 4310              	.L442:
 4311 00e0 00000000 		.word	.LC0
 4312 00e4 34000000 		.word	.LC31
 4313 00e8 54000000 		.word	.LC2
 4314 00ec 00000000 		.word	lock_tcpip_core
 4315 00f0 50000000 		.word	.LC32
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 121


 4316              		.cfi_endproc
 4317              	.LFE171:
 4319              		.section	.text.lwip_netconn_do_gethostbyname,"ax",%progbits
 4320              		.align	1
 4321              		.global	lwip_netconn_do_gethostbyname
 4322              		.syntax unified
 4323              		.thumb
 4324              		.thumb_func
 4325              		.fpu fpv4-sp-d16
 4327              	lwip_netconn_do_gethostbyname:
 4328              	.LFB173:
1925:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1926:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1927:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Execute a DNS query
1928:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_gethostbyname
1929:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param arg the dns_api_msg pointing to the query
1931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1932:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1933:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_gethostbyname(void *arg)
1934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 4329              		.loc 1 1934 0
 4330              		.cfi_startproc
 4331              		@ args = 0, pretend = 0, frame = 0
 4332              		@ frame_needed = 0, uses_anonymous_args = 0
 4333              	.LVL510:
 4334 0000 30B5     		push	{r4, r5, lr}
 4335              	.LCFI32:
 4336              		.cfi_def_cfa_offset 12
 4337              		.cfi_offset 4, -12
 4338              		.cfi_offset 5, -8
 4339              		.cfi_offset 14, -4
 4340 0002 83B0     		sub	sp, sp, #12
 4341              	.LCFI33:
 4342              		.cfi_def_cfa_offset 24
 4343 0004 0446     		mov	r4, r0
 4344              	.LVL511:
1935:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct dns_api_msg *msg = (struct dns_api_msg*)arg;
1936:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t addrtype =
1937:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV4 && LWIP_IPV6
1938:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->dns_addrtype;
1939:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else
1940:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DNS_ADDRTYPE_DEFAULT;
1941:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1942:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1943:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EXPR_DEREF(msg->err) = dns_gethostbyname_addrtype(msg->name,
 4345              		.loc 1 1943 0
 4346 0006 C568     		ldr	r5, [r0, #12]
 4347 0008 0023     		movs	r3, #0
 4348 000a 0093     		str	r3, [sp]
 4349 000c 0346     		mov	r3, r0
 4350 000e 084A     		ldr	r2, .L447
 4351 0010 4168     		ldr	r1, [r0, #4]
 4352 0012 0068     		ldr	r0, [r0]
 4353              	.LVL512:
 4354 0014 FFF7FEFF 		bl	dns_gethostbyname_addrtype
 4355              	.LVL513:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 122


 4356 0018 2870     		strb	r0, [r5]
1944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EXPR_REF(msg->addr), lwip_netconn_do_dns_found, msg, addrtype);
1945:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (API_EXPR_DEREF(msg->err) != ERR_INPROGRESS) {
 4357              		.loc 1 1945 0
 4358 001a E368     		ldr	r3, [r4, #12]
 4359 001c 93F90030 		ldrsb	r3, [r3]
 4360 0020 13F1050F 		cmn	r3, #5
 4361 0024 02D0     		beq	.L444
1946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* on error or immediate success, wake up the application
1947:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      * task waiting in netconn_gethostbyname */
1948:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_signal(API_EXPR_REF_SEM(msg->sem));
 4362              		.loc 1 1948 0
 4363 0026 A068     		ldr	r0, [r4, #8]
 4364 0028 FFF7FEFF 		bl	sys_sem_signal
 4365              	.LVL514:
 4366              	.L444:
1949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1950:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4367              		.loc 1 1950 0
 4368 002c 03B0     		add	sp, sp, #12
 4369              	.LCFI34:
 4370              		.cfi_def_cfa_offset 12
 4371              		@ sp needed
 4372 002e 30BD     		pop	{r4, r5, pc}
 4373              	.LVL515:
 4374              	.L448:
 4375              		.align	2
 4376              	.L447:
 4377 0030 00000000 		.word	lwip_netconn_do_dns_found
 4378              		.cfi_endproc
 4379              	.LFE173:
 4381              		.comm	netconn_aborted,1,1
 4382              		.section	.rodata.err_tcp.str1.4,"aMS",%progbits,1
 4383              		.align	2
 4384              	.LC6:
 4385 0000 636F6E6E 		.ascii	"conn != NULL\000"
 4385      20213D20 
 4385      4E554C4C 
 4385      00
 4386 000d 000000   		.space	3
 4387              	.LC7:
 4388 0010 636F6E6E 		.ascii	"conn->current_msg != NULL\000"
 4388      2D3E6375 
 4388      7272656E 
 4388      745F6D73 
 4388      6720213D 
 4389 002a 0000     		.space	2
 4390              	.LC8:
 4391 002c 696E6176 		.ascii	"inavlid op_completed_sem\000"
 4391      6C696420 
 4391      6F705F63 
 4391      6F6D706C 
 4391      65746564 
 4392 0045 000000   		.space	3
 4393              	.LC9:
 4394 0048 636F6E6E 		.ascii	"conn->current_msg == NULL\000"
 4394      2D3E6375 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 123


 4394      7272656E 
 4394      745F6D73 
 4394      67203D3D 
 4395              		.section	.rodata.lwip_netconn_do_close_internal.str1.4,"aMS",%progbits,1
 4396              		.align	2
 4397              	.LC17:
 4398 0000 696E7661 		.ascii	"invalid conn\000"
 4398      6C696420 
 4398      636F6E6E 
 4398      00
 4399 000d 000000   		.space	3
 4400              	.LC18:
 4401 0010 74686973 		.ascii	"this is for tcp netconns only\000"
 4401      20697320 
 4401      666F7220 
 4401      74637020 
 4401      6E657463 
 4402 002e 0000     		.space	2
 4403              	.LC19:
 4404 0030 636F6E6E 		.ascii	"conn must be in state NETCONN_CLOSE\000"
 4404      206D7573 
 4404      74206265 
 4404      20696E20 
 4404      73746174 
 4405              	.LC20:
 4406 0054 70636220 		.ascii	"pcb already closed\000"
 4406      616C7265 
 4406      61647920 
 4406      636C6F73 
 4406      656400
 4407 0067 00       		.space	1
 4408              	.LC21:
 4409 0068 436C6F73 		.ascii	"Closing a listen pcb may not fail!\000"
 4409      696E6720 
 4409      61206C69 
 4409      7374656E 
 4409      20706362 
 4410              		.section	.rodata.lwip_netconn_do_connect.str1.4,"aMS",%progbits,1
 4411              		.align	2
 4412              	.LC33:
 4413 0000 496E7661 		.ascii	"Invalid netconn type\000"
 4413      6C696420 
 4413      6E657463 
 4413      6F6E6E20 
 4413      74797065 
 4414              		.section	.rodata.lwip_netconn_do_connected.str1.4,"aMS",%progbits,1
 4415              		.align	2
 4416              	.LC10:
 4417 0000 636F6E6E 		.ascii	"conn->state == NETCONN_CONNECT\000"
 4417      2D3E7374 
 4417      61746520 
 4417      3D3D204E 
 4417      4554434F 
 4418 001f 00       		.space	1
 4419              	.LC11:
 4420 0020 28636F6E 		.ascii	"(conn->current_msg != NULL) || conn->in_non_blockin"
 4420      6E2D3E63 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 124


 4420      75727265 
 4420      6E745F6D 
 4420      73672021 
 4421 0053 675F636F 		.ascii	"g_connect\000"
 4421      6E6E6563 
 4421      7400
 4422 005d 000000   		.space	3
 4423              	.LC12:
 4424 0060 626C6F63 		.ascii	"blocking connect state error\000"
 4424      6B696E67 
 4424      20636F6E 
 4424      6E656374 
 4424      20737461 
 4425              		.section	.rodata.lwip_netconn_do_delconn.str1.4,"aMS",%progbits,1
 4426              		.align	2
 4427              	.LC29:
 4428 0000 6E657463 		.ascii	"netconn state error\000"
 4428      6F6E6E20 
 4428      73746174 
 4428      65206572 
 4428      726F7200 
 4429              	.LC30:
 4430 0014 626C6F63 		.ascii	"blocking connect in progress\000"
 4430      6B696E67 
 4430      20636F6E 
 4430      6E656374 
 4430      20696E20 
 4431 0031 000000   		.space	3
 4432              	.LC31:
 4433 0034 616C7265 		.ascii	"already writing or closing\000"
 4433      61647920 
 4433      77726974 
 4433      696E6720 
 4433      6F722063 
 4434 004f 00       		.space	1
 4435              	.LC32:
 4436 0050 73746174 		.ascii	"state!\000"
 4436      652100
 4437              		.section	.rodata.lwip_netconn_do_getaddr.str1.4,"aMS",%progbits,1
 4438              		.align	2
 4439              	.LC35:
 4440 0000 696E7661 		.ascii	"invalid netconn_type\000"
 4440      6C696420 
 4440      6E657463 
 4440      6F6E6E5F 
 4440      74797065 
 4441              		.section	.rodata.lwip_netconn_do_write.str1.4,"aMS",%progbits,1
 4442              		.align	2
 4443              	.LC34:
 4444 0000 6D73672D 		.ascii	"msg->msg.w.len != 0\000"
 4444      3E6D7367 
 4444      2E772E6C 
 4444      656E2021 
 4444      3D203000 
 4445              		.section	.rodata.lwip_netconn_do_writemore.str1.4,"aMS",%progbits,1
 4446              		.align	2
 4447              	.LC13:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 125


 4448 0000 636F6E6E 		.ascii	"conn->state == NETCONN_WRITE\000"
 4448      2D3E7374 
 4448      61746520 
 4448      3D3D204E 
 4448      4554434F 
 4449 001d 000000   		.space	3
 4450              	.LC14:
 4451 0020 636F6E6E 		.ascii	"conn->pcb.tcp != NULL\000"
 4451      2D3E7063 
 4451      622E7463 
 4451      7020213D 
 4451      204E554C 
 4452 0036 0000     		.space	2
 4453              	.LC15:
 4454 0038 636F6E6E 		.ascii	"conn->write_offset < conn->current_msg->msg.w.len\000"
 4454      2D3E7772 
 4454      6974655F 
 4454      6F666673 
 4454      6574203C 
 4455 006a 0000     		.space	2
 4456              	.LC16:
 4457 006c 6C776970 		.ascii	"lwip_netconn_do_writemore: invalid length!\000"
 4457      5F6E6574 
 4457      636F6E6E 
 4457      5F646F5F 
 4457      77726974 
 4458              		.section	.rodata.netconn_alloc.str1.4,"aMS",%progbits,1
 4459              		.align	2
 4460              	.LC25:
 4461 0000 6E657463 		.ascii	"netconn_alloc: undefined netconn_type\000"
 4461      6F6E6E5F 
 4461      616C6C6F 
 4461      633A2075 
 4461      6E646566 
 4462              		.section	.rodata.netconn_free.str1.4,"aMS",%progbits,1
 4463              		.align	2
 4464              	.LC26:
 4465 0000 50434220 		.ascii	"PCB must be deallocated outside this function\000"
 4465      6D757374 
 4465      20626520 
 4465      6465616C 
 4465      6C6F6361 
 4466 002e 0000     		.space	2
 4467              	.LC27:
 4468 0030 72656376 		.ascii	"recvmbox must be deallocated before calling this fu"
 4468      6D626F78 
 4468      206D7573 
 4468      74206265 
 4468      20646561 
 4469 0063 6E637469 		.ascii	"nction\000"
 4469      6F6E00
 4470 006a 0000     		.space	2
 4471              	.LC28:
 4472 006c 61636365 		.ascii	"acceptmbox must be deallocated before calling this "
 4472      70746D62 
 4472      6F78206D 
 4472      75737420 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 126


 4472      62652064 
 4473 009f 66756E63 		.ascii	"function\000"
 4473      74696F6E 
 4473      00
 4474              		.section	.rodata.pcb_new.str1.4,"aMS",%progbits,1
 4475              		.align	2
 4476              	.LC5:
 4477 0000 7063625F 		.ascii	"pcb_new: pcb already allocated\000"
 4477      6E65773A 
 4477      20706362 
 4477      20616C72 
 4477      65616479 
 4478              		.section	.rodata.recv_tcp.str1.4,"aMS",%progbits,1
 4479              		.align	2
 4480              	.LC22:
 4481 0000 72656376 		.ascii	"recv_tcp must have a pcb argument\000"
 4481      5F746370 
 4481      206D7573 
 4481      74206861 
 4481      76652061 
 4482 0022 0000     		.space	2
 4483              	.LC23:
 4484 0024 72656376 		.ascii	"recv_tcp must have an argument\000"
 4484      5F746370 
 4484      206D7573 
 4484      74206861 
 4484      76652061 
 4485 0043 00       		.space	1
 4486              	.LC24:
 4487 0044 72656376 		.ascii	"recv_tcp: recv for wrong pcb!\000"
 4487      5F746370 
 4487      3A207265 
 4487      63762066 
 4487      6F722077 
 4488              		.section	.rodata.recv_udp.str1.4,"aMS",%progbits,1
 4489              		.align	2
 4490              	.LC0:
 4491 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/api/api_msg.c\000"
 4491      6C657761 
 4491      7265732F 
 4491      54686972 
 4491      645F5061 
 4492 002f 00       		.space	1
 4493              	.LC1:
 4494 0030 72656376 		.ascii	"recv_udp must have a pcb argument\000"
 4494      5F756470 
 4494      206D7573 
 4494      74206861 
 4494      76652061 
 4495 0052 0000     		.space	2
 4496              	.LC2:
 4497 0054 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 4497      7274696F 
 4497      6E202225 
 4497      73222066 
 4497      61696C65 
 4498              	.LC3:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 127


 4499 007c 72656376 		.ascii	"recv_udp must have an argument\000"
 4499      5F756470 
 4499      206D7573 
 4499      74206861 
 4499      76652061 
 4500 009b 00       		.space	1
 4501              	.LC4:
 4502 009c 72656376 		.ascii	"recv_udp: recv for wrong pcb!\000"
 4502      5F756470 
 4502      3A207265 
 4502      63762066 
 4502      6F722077 
 4503              		.text
 4504              	.Letext0:
 4505              		.file 2 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/machine/_defau
 4506              		.file 3 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/_stdint.h"
 4507              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 4508              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 4509              		.file 6 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/lib/gcc/arm-none-eabi/7.2.1/include/
 4510              		.file 7 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/lock.h"
 4511              		.file 8 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/_types.h"
 4512              		.file 9 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/reent.h"
 4513              		.file 10 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/stdlib.h"
 4514              		.file 11 "Middlewares/Third_Party/LwIP/system/arch/cc.h"
 4515              		.file 12 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/time.h"
 4516              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 4517              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 4518              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 4519              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 4520              		.file 17 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 4521              		.file 18 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 4522              		.file 19 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 4523              		.file 20 "Middlewares/Third_Party/LwIP/system/arch/sys_arch.h"
 4524              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 4525              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 4526              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 4527              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 4528              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/netbuf.h"
 4529              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/api.h"
 4530              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 4531              		.file 28 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 4532              		.file 29 "Middlewares/Third_Party/LwIP/src/include/lwip/udp.h"
 4533              		.file 30 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/api_msg.h"
 4534              		.file 31 "Middlewares/Third_Party/LwIP/src/include/lwip/timeouts.h"
 4535              		.file 32 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpip.h"
 4536              		.file 33 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 4537              		.file 34 "Middlewares/Third_Party/LwIP/src/include/lwip/dns.h"
 4538              		.file 35 "Middlewares/Third_Party/LwIP/src/include/lwip/sys.h"
 4539              		.file 36 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/stdio.h"
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 128


DEFINED SYMBOLS
                            *ABS*:0000000000000000 api_msg.c
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:18     .text.recv_udp:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:24     .text.recv_udp:0000000000000000 recv_udp
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:182    .text.recv_udp:00000000000000b0 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:191    .text.setup_tcp:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:197    .text.setup_tcp:0000000000000000 setup_tcp
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:245    .text.setup_tcp:0000000000000030 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:1942   .text.recv_tcp:0000000000000000 recv_tcp
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:1839   .text.sent_tcp:0000000000000000 sent_tcp
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:1729   .text.poll_tcp:0000000000000000 poll_tcp
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:374    .text.err_tcp:0000000000000000 err_tcp
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:253    .text.pcb_new:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:259    .text.pcb_new:0000000000000000 pcb_new
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:360    .text.pcb_new:0000000000000078 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:368    .text.err_tcp:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:624    .text.err_tcp:0000000000000128 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:636    .text.lwip_netconn_do_connected:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:642    .text.lwip_netconn_do_connected:0000000000000000 lwip_netconn_do_connected
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:818    .text.lwip_netconn_do_connected:00000000000000c8 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:827    .text.lwip_netconn_do_dns_found:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:833    .text.lwip_netconn_do_dns_found:0000000000000000 lwip_netconn_do_dns_found
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:879    .text.lwip_netconn_do_writemore:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:885    .text.lwip_netconn_do_writemore:0000000000000000 lwip_netconn_do_writemore
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:1300   .text.lwip_netconn_do_writemore:00000000000001f4 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:1312   .text.lwip_netconn_do_close_internal:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:1318   .text.lwip_netconn_do_close_internal:0000000000000000 lwip_netconn_do_close_internal
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:1708   .text.lwip_netconn_do_close_internal:0000000000000208 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:1723   .text.poll_tcp:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:1826   .text.poll_tcp:0000000000000074 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:1833   .text.sent_tcp:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:1929   .text.sent_tcp:0000000000000068 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:1936   .text.recv_tcp:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:2105   .text.recv_tcp:00000000000000bc $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:2114   .text.lwip_netconn_do_newconn:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:2121   .text.lwip_netconn_do_newconn:0000000000000000 lwip_netconn_do_newconn
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:2176   .text.netconn_alloc:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:2183   .text.netconn_alloc:0000000000000000 netconn_alloc
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:2290   .text.netconn_alloc:0000000000000080 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:2297   .text.netconn_free:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:2304   .text.netconn_free:0000000000000000 netconn_free
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:2381   .text.netconn_free:0000000000000064 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:2390   .text.netconn_drain:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:2396   .text.netconn_drain:0000000000000000 netconn_drain
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:2534   .text.netconn_drain:00000000000000a4 $d
                            *COM*:0000000000000001 netconn_aborted
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:2539   .text.accept_function:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:2545   .text.accept_function:0000000000000000 accept_function
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:2747   .text.accept_function:0000000000000104 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:2752   .text.lwip_netconn_do_delconn:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:2759   .text.lwip_netconn_do_delconn:0000000000000000 lwip_netconn_do_delconn
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3008   .text.lwip_netconn_do_delconn:0000000000000154 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3019   .text.lwip_netconn_do_bind:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3026   .text.lwip_netconn_do_bind:0000000000000000 lwip_netconn_do_bind
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3109   .text.lwip_netconn_do_connect:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3116   .text.lwip_netconn_do_connect:0000000000000000 lwip_netconn_do_connect
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3310   .text.lwip_netconn_do_connect:0000000000000104 $d
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 129


/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3320   .text.lwip_netconn_do_disconnect:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3327   .text.lwip_netconn_do_disconnect:0000000000000000 lwip_netconn_do_disconnect
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3389   .text.lwip_netconn_do_listen:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3396   .text.lwip_netconn_do_listen:0000000000000000 lwip_netconn_do_listen
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3588   .text.lwip_netconn_do_listen:00000000000000ec $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3593   .text.lwip_netconn_do_send:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3600   .text.lwip_netconn_do_send:0000000000000000 lwip_netconn_do_send
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3683   .text.lwip_netconn_do_recv:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3690   .text.lwip_netconn_do_recv:0000000000000000 lwip_netconn_do_recv
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3782   .text.lwip_netconn_do_write:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3789   .text.lwip_netconn_do_write:0000000000000000 lwip_netconn_do_write
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3962   .text.lwip_netconn_do_write:00000000000000e8 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3972   .text.lwip_netconn_do_getaddr:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:3979   .text.lwip_netconn_do_getaddr:0000000000000000 lwip_netconn_do_getaddr
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4123   .text.lwip_netconn_do_getaddr:00000000000000b0 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4130   .text.lwip_netconn_do_close:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4137   .text.lwip_netconn_do_close:0000000000000000 lwip_netconn_do_close
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4311   .text.lwip_netconn_do_close:00000000000000e0 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4320   .text.lwip_netconn_do_gethostbyname:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4327   .text.lwip_netconn_do_gethostbyname:0000000000000000 lwip_netconn_do_gethostbyname
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4377   .text.lwip_netconn_do_gethostbyname:0000000000000030 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4383   .rodata.err_tcp.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4396   .rodata.lwip_netconn_do_close_internal.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4411   .rodata.lwip_netconn_do_connect.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4415   .rodata.lwip_netconn_do_connected.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4426   .rodata.lwip_netconn_do_delconn.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4438   .rodata.lwip_netconn_do_getaddr.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4442   .rodata.lwip_netconn_do_write.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4446   .rodata.lwip_netconn_do_writemore.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4459   .rodata.netconn_alloc.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4463   .rodata.netconn_free.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4475   .rodata.pcb_new.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4479   .rodata.recv_tcp.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s:4489   .rodata.recv_udp.str1.4:0000000000000000 $d

UNDEFINED SYMBOLS
printf
sys_mbox_valid
memp_malloc
sys_mbox_trypost
pbuf_free
netbuf_delete
tcp_arg
tcp_recv
tcp_sent
tcp_poll
tcp_err
udp_new_ip_type
udp_recv
tcp_new_ip_type
sys_arch_protect
sys_arch_unprotect
sys_sem_valid
sys_sem_signal
tcp_write
tcp_output
tcp_close
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccJ7CgBZ.s 			page 130


tcp_accept
tcp_shutdown
tcp_abort
tcp_recved
sys_mbox_new
sys_sem_new
sys_mbox_set_invalid
memp_free
sys_mbox_free
sys_sem_free
sys_sem_set_invalid
sys_arch_mbox_tryfetch
udp_remove
sys_mutex_unlock
sys_arch_sem_wait
sys_mutex_lock
lock_tcpip_core
udp_bind
tcp_bind
udp_connect
tcp_connect
udp_disconnect
tcp_listen_with_backlog_and_err
udp_send
udp_sendto
dns_gethostbyname_addrtype

ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ip4_frag.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.ip_reass_dequeue_datagram,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	ip_reass_dequeue_datagram:
  25              	.LFB146:
  26              		.file 1 "Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c"
   1:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * This is the IPv4 packet segmentation and reassembly implementation.
   4:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
   6:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
   7:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /*
   8:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
   9:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * All rights reserved.
  10:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  11:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Redistribution and use in source and binary forms, with or without modification,
  12:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * are permitted provided that the following conditions are met:
  13:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  14:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  15:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *    this list of conditions and the following disclaimer.
  16:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  17:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *    this list of conditions and the following disclaimer in the documentation
  18:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *    and/or other materials provided with the distribution.
  19:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * 3. The name of the author may not be used to endorse or promote products
  20:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *    derived from this software without specific prior written permission.
  21:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  22:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  23:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  24:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  25:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  26:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  27:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  30:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  31:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * OF SUCH DAMAGE.
  32:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 2


  33:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * This file is part of the lwIP TCP/IP stack.
  34:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  35:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Author: Jani Monoses <jani@iv.ro>
  36:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *         Simon Goldschmidt
  37:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * original reassembly code by Adam Dunkels <adam@sics.se>
  38:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  39:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
  40:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  41:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/opt.h"
  42:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  43:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if LWIP_IPV4
  44:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  45:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/ip4_frag.h"
  46:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/def.h"
  47:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/inet_chksum.h"
  48:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/netif.h"
  49:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/stats.h"
  50:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/icmp.h"
  51:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  52:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include <string.h>
  53:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  54:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASSEMBLY
  55:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
  56:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * The IP reassembly code currently has the following limitations:
  57:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * - IP header options are not supported
  58:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * - fragments must not overlap (e.g. due to different routes),
  59:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *   currently, overlapping or duplicate fragments are thrown away
  60:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *   if IP_REASS_CHECK_OVERLAP=1 (the default)!
  61:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  62:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @todo: work with IP header options
  63:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
  64:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  65:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Setting this to 0, you can turn off checking the fragments for overlapping
  66:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * regions. The code gets a little smaller. Only use this if you know that
  67:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * overlapping won't occur on your network! */
  68:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #ifndef IP_REASS_CHECK_OVERLAP
  69:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_CHECK_OVERLAP 1
  70:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
  71:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  72:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Set to 0 to prevent freeing the oldest datagram when the reassembly buffer is
  73:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * full (IP_REASS_MAX_PBUFS pbufs are enqueued). The code gets a little smaller.
  74:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Datagrams will be freed by timeout only. Especially useful when MEMP_NUM_REASSDATA
  75:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * is set to 1, so one datagram can be reassembled at a time, only. */
  76:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #ifndef IP_REASS_FREE_OLDEST
  77:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_FREE_OLDEST 1
  78:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
  79:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  80:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_FLAG_LASTFRAG 0x01
  81:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  82:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_VALIDATE_TELEGRAM_FINISHED  1
  83:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_VALIDATE_PBUF_QUEUED        0
  84:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_VALIDATE_PBUF_DROPPED       -1
  85:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  86:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** This is a helper struct which holds the starting
  87:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * offset and the ending offset of this fragment to
  88:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * easily chain the fragments.
  89:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * It has the same packing requirements as the IP header, since it replaces
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 3


  90:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * the IP header in memory in incoming fragments (after copying it) to keep
  91:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * track of the various fragments. (-> If the IP header doesn't need packing,
  92:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * this struct doesn't need packing, too.)
  93:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
  94:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #ifdef PACK_STRUCT_USE_INCLUDES
  95:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #  include "arch/bpstruct.h"
  96:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif
  97:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** PACK_STRUCT_BEGIN
  98:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** struct ip_reass_helper {
  99:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   PACK_STRUCT_FIELD(struct pbuf *next_pbuf);
 100:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   PACK_STRUCT_FIELD(u16_t start);
 101:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   PACK_STRUCT_FIELD(u16_t end);
 102:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** } PACK_STRUCT_STRUCT;
 103:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** PACK_STRUCT_END
 104:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #ifdef PACK_STRUCT_USE_INCLUDES
 105:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #  include "arch/epstruct.h"
 106:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif
 107:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 108:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_ADDRESSES_AND_ID_MATCH(iphdrA, iphdrB)  \
 109:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   (ip4_addr_cmp(&(iphdrA)->src, &(iphdrB)->src) && \
 110:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    ip4_addr_cmp(&(iphdrA)->dest, &(iphdrB)->dest) && \
 111:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    IPH_ID(iphdrA) == IPH_ID(iphdrB)) ? 1 : 0
 112:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 113:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /* global variables */
 114:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static struct ip_reassdata *reassdatagrams;
 115:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static u16_t ip_reass_pbufcount;
 116:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 117:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /* function prototypes */
 118:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static void ip_reass_dequeue_datagram(struct ip_reassdata *ipr, struct ip_reassdata *prev);
 119:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static int ip_reass_free_complete_datagram(struct ip_reassdata *ipr, struct ip_reassdata *prev);
 120:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 121:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 122:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Reassembly timer base function
 123:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * for both NO_SYS == 0 and 1 (!).
 124:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 125:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Should be called every 1000 msec (defined by IP_TMR_INTERVAL).
 126:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 127:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** void
 128:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_tmr(void)
 129:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 130:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata *r, *prev = NULL;
 131:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 132:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   r = reassdatagrams;
 133:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (r != NULL) {
 134:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Decrement the timer. Once it reaches 0,
 135:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * clean up the incomplete fragment assembly */
 136:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (r->timer > 0) {
 137:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r->timer--;
 138:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip_reass_tmr: timer dec %"U16_F"\n",(u16_t)r->timer));
 139:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       prev = r;
 140:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = r->next;
 141:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 142:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* reassembly timed out */
 143:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       struct ip_reassdata *tmp;
 144:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip_reass_tmr: timer timed out\n"));
 145:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       tmp = r;
 146:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* get the next pointer before freeing */
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 4


 147:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = r->next;
 148:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* free the helper struct and all enqueued pbufs */
 149:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ip_reass_free_complete_datagram(tmp, prev);
 150:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      }
 151:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    }
 152:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 153:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 154:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 155:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Free a datagram (struct ip_reassdata) and all its pbufs.
 156:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Updates the total count of enqueued pbufs (ip_reass_pbufcount),
 157:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * SNMP counters and sends an ICMP time exceeded packet.
 158:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 159:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param ipr datagram to free
 160:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param prev the previous datagram in the linked list
 161:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return the number of pbufs freed
 162:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 163:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static int
 164:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_free_complete_datagram(struct ip_reassdata *ipr, struct ip_reassdata *prev)
 165:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t pbufs_freed = 0;
 167:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t clen;
 168:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *p;
 169:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reass_helper *iprh;
 170:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("prev != ipr", prev != ipr);
 172:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (prev != NULL) {
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("prev->next == ipr", prev->next == ipr);
 174:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 175:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 176:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   MIB2_STATS_INC(mib2.ipreasmfails);
 177:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if LWIP_ICMP
 178:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh = (struct ip_reass_helper *)ipr->p->payload;
 179:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (iprh->start == 0) {
 180:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* The first fragment was received, send ICMP time exceeded. */
 181:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* First, de-queue the first pbuf from r->p. */
 182:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     p = ipr->p;
 183:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->p = iprh->next_pbuf;
 184:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Then, copy the original header into it. */
 185:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     SMEMCPY(p->payload, &ipr->iphdr, IP_HLEN);
 186:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     icmp_time_exceeded(p, ICMP_TE_FRAG);
 187:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(p);
 188:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("pbufs_freed + clen <= 0xffff", pbufs_freed + clen <= 0xffff);
 189:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 190:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(p);
 191:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 192:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* LWIP_ICMP */
 193:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 194:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* First, free all received pbufs.  The individual pbufs need to be released
 195:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      separately as they have not yet been chained */
 196:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   p = ipr->p;
 197:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (p != NULL) {
 198:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct pbuf *pcur;
 199:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh = (struct ip_reass_helper *)p->payload;
 200:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pcur = p;
 201:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* get the next pointer before freeing */
 202:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     p = iprh->next_pbuf;
 203:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(pcur);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 5


 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("pbufs_freed + clen <= 0xffff", pbufs_freed + clen <= 0xffff);
 205:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 206:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(pcur);
 207:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 208:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Then, unchain the struct ip_reassdata from the list and free it. */
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_dequeue_datagram(ipr, prev);
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("ip_reass_pbufcount >= clen", ip_reass_pbufcount >= pbufs_freed);
 211:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount -= pbufs_freed;
 212:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 213:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return pbufs_freed;
 214:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 215:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 216:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 218:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Free the oldest datagram to make room for enqueueing new fragments.
 219:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * The datagram 'fraghdr' belongs to is not freed!
 220:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 221:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param fraghdr IP header of the current fragment
 222:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param pbufs_needed number of pbufs needed to enqueue
 223:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *        (used for freeing other datagrams if not enough space)
 224:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return the number of pbufs freed
 225:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 226:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static int
 227:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_remove_oldest_datagram(struct ip_hdr *fraghdr, int pbufs_needed)
 228:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 229:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* @todo Can't we simply remove the last datagram in the
 230:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    *       linked list behind reassdatagrams?
 231:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    */
 232:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata *r, *oldest, *prev, *oldest_prev;
 233:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int pbufs_freed = 0, pbufs_freed_current;
 234:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int other_datagrams;
 235:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 236:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Free datagrams until being allowed to enqueue 'pbufs_needed' pbufs,
 237:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * but don't free the datagram that 'fraghdr' belongs to! */
 238:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   do {
 239:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     oldest = NULL;
 240:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     prev = NULL;
 241:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     oldest_prev = NULL;
 242:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     other_datagrams = 0;
 243:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     r = reassdatagrams;
 244:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     while (r != NULL) {
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (!IP_ADDRESSES_AND_ID_MATCH(&r->iphdr, fraghdr)) {
 246:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* Not the same datagram as fraghdr */
 247:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         other_datagrams++;
 248:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (oldest == NULL) {
 249:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest = r;
 250:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest_prev = prev;
 251:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         } else if (r->timer <= oldest->timer) {
 252:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* older than the previous oldest */
 253:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest = r;
 254:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest_prev = prev;
 255:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 256:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (r->next != NULL) {
 258:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         prev = r;
 259:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 260:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = r->next;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 6


 261:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 262:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (oldest != NULL) {
 263:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbufs_freed_current = ip_reass_free_complete_datagram(oldest, oldest_prev);
 264:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbufs_freed += pbufs_freed_current;
 265:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 266:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   } while ((pbufs_freed < pbufs_needed) && (other_datagrams > 1));
 267:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return pbufs_freed;
 268:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 269:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 270:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 271:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 272:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Enqueues a new fragment into the fragment queue
 273:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param fraghdr points to the new fragments IP hdr
 274:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param clen number of pbufs needed to enqueue (used for freeing other datagrams if not enough sp
 275:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return A pointer to the queue location into which the fragment was enqueued
 276:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 277:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static struct ip_reassdata*
 278:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_enqueue_new_datagram(struct ip_hdr *fraghdr, int clen)
 279:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 280:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata* ipr;
 281:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if ! IP_REASS_FREE_OLDEST
 282:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_UNUSED_ARG(clen);
 283:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif
 284:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 285:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* No matching previous fragment found, allocate a new reassdata struct */
 286:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ipr = (struct ip_reassdata *)memp_malloc(MEMP_REASSDATA);
 287:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (ipr == NULL) {
 288:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 289:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (ip_reass_remove_oldest_datagram(fraghdr, clen) >= clen) {
 290:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr = (struct ip_reassdata *)memp_malloc(MEMP_REASSDATA);
 291:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 292:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (ipr == NULL)
 293:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 294:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     {
 295:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPFRAG_STATS_INC(ip_frag.memerr);
 296:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG,("Failed to alloc reassdata struct\n"));
 297:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       return NULL;
 298:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 299:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 300:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   memset(ipr, 0, sizeof(struct ip_reassdata));
 301:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ipr->timer = IP_REASS_MAXAGE;
 302:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 303:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* enqueue the new structure to the front of the list */
 304:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ipr->next = reassdatagrams;
 305:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   reassdatagrams = ipr;
 306:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* copy the ip header for later tests and input */
 307:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* @todo: no ip options supported? */
 308:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   SMEMCPY(&(ipr->iphdr), fraghdr, IP_HLEN);
 309:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return ipr;
 310:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 311:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 312:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 313:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Dequeues a datagram from the datagram queue. Doesn't deallocate the pbufs.
 314:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param ipr points to the queue entry to dequeue
 315:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 316:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static void
 317:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_dequeue_datagram(struct ip_reassdata *ipr, struct ip_reassdata *prev)
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 7


 318:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
  27              		.loc 1 318 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              	.LVL0:
  32 0000 38B5     		push	{r3, r4, r5, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 16
  35              		.cfi_offset 3, -16
  36              		.cfi_offset 4, -12
  37              		.cfi_offset 5, -8
  38              		.cfi_offset 14, -4
  39 0002 0446     		mov	r4, r0
 319:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* dequeue the reass struct  */
 320:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (reassdatagrams == ipr) {
  40              		.loc 1 320 0
  41 0004 0C4B     		ldr	r3, .L8
  42 0006 1B68     		ldr	r3, [r3]
  43 0008 8342     		cmp	r3, r0
  44 000a 08D0     		beq	.L6
  45 000c 0D46     		mov	r5, r1
 321:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* it was the first in the list */
 322:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     reassdatagrams = ipr->next;
 323:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   } else {
 324:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* it wasn't the first, so it must have a valid 'prev' */
 325:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("sanity check linked list", prev != NULL);
  46              		.loc 1 325 0
  47 000e 51B1     		cbz	r1, .L7
  48              	.LVL1:
  49              	.L4:
 326:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     prev->next = ipr->next;
  50              		.loc 1 326 0
  51 0010 2368     		ldr	r3, [r4]
  52 0012 2B60     		str	r3, [r5]
  53              	.LVL2:
  54              	.L3:
 327:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 328:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 329:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* now we can free the ip_reassdata struct */
 330:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   memp_free(MEMP_REASSDATA, ipr);
  55              		.loc 1 330 0
  56 0014 2146     		mov	r1, r4
  57 0016 0420     		movs	r0, #4
  58 0018 FFF7FEFF 		bl	memp_free
  59              	.LVL3:
 331:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
  60              		.loc 1 331 0
  61 001c 38BD     		pop	{r3, r4, r5, pc}
  62              	.LVL4:
  63              	.L6:
 322:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   } else {
  64              		.loc 1 322 0
  65 001e 0268     		ldr	r2, [r0]
  66 0020 054B     		ldr	r3, .L8
  67 0022 1A60     		str	r2, [r3]
  68 0024 F6E7     		b	.L3
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 8


  69              	.L7:
 325:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     prev->next = ipr->next;
  70              		.loc 1 325 0 discriminator 1
  71 0026 054B     		ldr	r3, .L8+4
  72 0028 40F24512 		movw	r2, #325
  73 002c 0449     		ldr	r1, .L8+8
  74              	.LVL5:
  75 002e 0548     		ldr	r0, .L8+12
  76              	.LVL6:
  77 0030 FFF7FEFF 		bl	printf
  78              	.LVL7:
  79 0034 ECE7     		b	.L4
  80              	.L9:
  81 0036 00BF     		.align	2
  82              	.L8:
  83 0038 00000000 		.word	.LANCHOR0
  84 003c 00000000 		.word	.LC0
  85 0040 38000000 		.word	.LC1
  86 0044 54000000 		.word	.LC2
  87              		.cfi_endproc
  88              	.LFE146:
  90              		.section	.text.ip_reass_free_complete_datagram,"ax",%progbits
  91              		.align	1
  92              		.syntax unified
  93              		.thumb
  94              		.thumb_func
  95              		.fpu fpv4-sp-d16
  97              	ip_reass_free_complete_datagram:
  98              	.LFB143:
 165:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t pbufs_freed = 0;
  99              		.loc 1 165 0
 100              		.cfi_startproc
 101              		@ args = 0, pretend = 0, frame = 0
 102              		@ frame_needed = 0, uses_anonymous_args = 0
 103              	.LVL8:
 104 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 105              	.LCFI1:
 106              		.cfi_def_cfa_offset 32
 107              		.cfi_offset 3, -32
 108              		.cfi_offset 4, -28
 109              		.cfi_offset 5, -24
 110              		.cfi_offset 6, -20
 111              		.cfi_offset 7, -16
 112              		.cfi_offset 8, -12
 113              		.cfi_offset 9, -8
 114              		.cfi_offset 14, -4
 115 0004 8046     		mov	r8, r0
 116 0006 8946     		mov	r9, r1
 117              	.LVL9:
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (prev != NULL) {
 118              		.loc 1 171 0
 119 0008 8142     		cmp	r1, r0
 120 000a 15D0     		beq	.L20
 121              	.LVL10:
 122              	.L11:
 172:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("prev->next == ipr", prev->next == ipr);
 123              		.loc 1 172 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 9


 124 000c B9F1000F 		cmp	r9, #0
 125 0010 09D0     		beq	.L12
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 126              		.loc 1 173 0
 127 0012 D9F80030 		ldr	r3, [r9]
 128 0016 4345     		cmp	r3, r8
 129 0018 05D0     		beq	.L12
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 130              		.loc 1 173 0 is_stmt 0 discriminator 1
 131 001a 304B     		ldr	r3, .L24
 132 001c AD22     		movs	r2, #173
 133 001e 3049     		ldr	r1, .L24+4
 134 0020 3048     		ldr	r0, .L24+8
 135 0022 FFF7FEFF 		bl	printf
 136              	.LVL11:
 137              	.L12:
 178:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (iprh->start == 0) {
 138              		.loc 1 178 0 is_stmt 1
 139 0026 D8F80440 		ldr	r4, [r8, #4]
 140 002a 6368     		ldr	r3, [r4, #4]
 141              	.LVL12:
 179:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* The first fragment was received, send ICMP time exceeded. */
 142              		.loc 1 179 0
 143 002c 9A88     		ldrh	r2, [r3, #4]	@ unaligned
 144 002e 52B1     		cbz	r2, .L21
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t clen;
 145              		.loc 1 166 0
 146 0030 0026     		movs	r6, #0
 147              	.LVL13:
 148              	.L13:
 196:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (p != NULL) {
 149              		.loc 1 196 0
 150 0032 D8F80440 		ldr	r4, [r8, #4]
 151              	.LVL14:
 197:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct pbuf *pcur;
 152              		.loc 1 197 0
 153 0036 28E0     		b	.L14
 154              	.LVL15:
 155              	.L20:
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (prev != NULL) {
 156              		.loc 1 171 0 discriminator 1
 157 0038 284B     		ldr	r3, .L24
 158 003a AB22     		movs	r2, #171
 159 003c 2A49     		ldr	r1, .L24+12
 160              	.LVL16:
 161 003e 2948     		ldr	r0, .L24+8
 162              	.LVL17:
 163 0040 FFF7FEFF 		bl	printf
 164              	.LVL18:
 165 0044 E2E7     		b	.L11
 166              	.LVL19:
 167              	.L21:
 183:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Then, copy the original header into it. */
 168              		.loc 1 183 0
 169 0046 1B68     		ldr	r3, [r3]	@ unaligned
 170              	.LVL20:
 171 0048 C8F80430 		str	r3, [r8, #4]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 10


 172              	.LVL21:
 185:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     icmp_time_exceeded(p, ICMP_TE_FRAG);
 173              		.loc 1 185 0
 174 004c 4346     		mov	r3, r8
 175 004e 6268     		ldr	r2, [r4, #4]
 176 0050 53F8081F 		ldr	r1, [r3, #8]!	@ unaligned
 177 0054 5E68     		ldr	r6, [r3, #4]	@ unaligned
 178 0056 9D68     		ldr	r5, [r3, #8]	@ unaligned
 179 0058 D868     		ldr	r0, [r3, #12]	@ unaligned
 180 005a 1160     		str	r1, [r2]	@ unaligned
 181 005c 5660     		str	r6, [r2, #4]	@ unaligned
 182 005e 9560     		str	r5, [r2, #8]	@ unaligned
 183 0060 D060     		str	r0, [r2, #12]	@ unaligned
 184 0062 1969     		ldr	r1, [r3, #16]	@ unaligned
 185 0064 1161     		str	r1, [r2, #16]	@ unaligned
 186:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(p);
 186              		.loc 1 186 0
 187 0066 0121     		movs	r1, #1
 188 0068 2046     		mov	r0, r4
 189 006a FFF7FEFF 		bl	icmp_time_exceeded
 190              	.LVL22:
 187:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("pbufs_freed + clen <= 0xffff", pbufs_freed + clen <= 0xffff);
 191              		.loc 1 187 0
 192 006e 2046     		mov	r0, r4
 193 0070 FFF7FEFF 		bl	pbuf_clen
 194              	.LVL23:
 195 0074 0646     		mov	r6, r0
 196              	.LVL24:
 190:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 197              		.loc 1 190 0
 198 0076 2046     		mov	r0, r4
 199 0078 FFF7FEFF 		bl	pbuf_free
 200              	.LVL25:
 201 007c D9E7     		b	.L13
 202              	.LVL26:
 203              	.L15:
 204              	.LBB2:
 205:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(pcur);
 205              		.loc 1 205 0
 206 007e 3544     		add	r5, r5, r6
 207 0080 AEB2     		uxth	r6, r5
 208              	.LVL27:
 206:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 209              		.loc 1 206 0
 210 0082 2046     		mov	r0, r4
 211 0084 FFF7FEFF 		bl	pbuf_free
 212              	.LVL28:
 202:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(pcur);
 213              		.loc 1 202 0
 214 0088 3C46     		mov	r4, r7
 215              	.LVL29:
 216              	.L14:
 217              	.LBE2:
 197:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct pbuf *pcur;
 218              		.loc 1 197 0
 219 008a 84B1     		cbz	r4, .L22
 220              	.LBB3:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 11


 199:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pcur = p;
 221              		.loc 1 199 0
 222 008c 6368     		ldr	r3, [r4, #4]
 223              	.LVL30:
 202:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(pcur);
 224              		.loc 1 202 0
 225 008e 1F68     		ldr	r7, [r3]	@ unaligned
 226              	.LVL31:
 203:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("pbufs_freed + clen <= 0xffff", pbufs_freed + clen <= 0xffff);
 227              		.loc 1 203 0
 228 0090 2046     		mov	r0, r4
 229 0092 FFF7FEFF 		bl	pbuf_clen
 230              	.LVL32:
 231 0096 0546     		mov	r5, r0
 232              	.LVL33:
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 233              		.loc 1 204 0
 234 0098 3318     		adds	r3, r6, r0
 235 009a B3F5803F 		cmp	r3, #65536
 236 009e EEDB     		blt	.L15
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 237              		.loc 1 204 0 is_stmt 0 discriminator 1
 238 00a0 0E4B     		ldr	r3, .L24
 239 00a2 CC22     		movs	r2, #204
 240 00a4 1149     		ldr	r1, .L24+16
 241 00a6 0F48     		ldr	r0, .L24+8
 242              	.LVL34:
 243 00a8 FFF7FEFF 		bl	printf
 244              	.LVL35:
 245 00ac E7E7     		b	.L15
 246              	.LVL36:
 247              	.L22:
 248              	.LBE3:
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("ip_reass_pbufcount >= clen", ip_reass_pbufcount >= pbufs_freed);
 249              		.loc 1 209 0 is_stmt 1
 250 00ae 4946     		mov	r1, r9
 251 00b0 4046     		mov	r0, r8
 252 00b2 FFF7FEFF 		bl	ip_reass_dequeue_datagram
 253              	.LVL37:
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount -= pbufs_freed;
 254              		.loc 1 210 0
 255 00b6 0E4B     		ldr	r3, .L24+20
 256 00b8 1B88     		ldrh	r3, [r3]
 257 00ba B342     		cmp	r3, r6
 258 00bc 06D3     		bcc	.L23
 259              	.L17:
 211:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 260              		.loc 1 211 0
 261 00be 0C4A     		ldr	r2, .L24+20
 262 00c0 1388     		ldrh	r3, [r2]
 263 00c2 9B1B     		subs	r3, r3, r6
 264 00c4 1380     		strh	r3, [r2]	@ movhi
 214:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 265              		.loc 1 214 0
 266 00c6 3046     		mov	r0, r6
 267 00c8 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 268              	.LVL38:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 12


 269              	.L23:
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount -= pbufs_freed;
 270              		.loc 1 210 0 discriminator 1
 271 00cc 034B     		ldr	r3, .L24
 272 00ce D222     		movs	r2, #210
 273 00d0 0849     		ldr	r1, .L24+24
 274 00d2 0448     		ldr	r0, .L24+8
 275 00d4 FFF7FEFF 		bl	printf
 276              	.LVL39:
 277 00d8 F1E7     		b	.L17
 278              	.L25:
 279 00da 00BF     		.align	2
 280              	.L24:
 281 00dc 00000000 		.word	.LC0
 282 00e0 0C000000 		.word	.LC4
 283 00e4 54000000 		.word	.LC2
 284 00e8 00000000 		.word	.LC3
 285 00ec 20000000 		.word	.LC5
 286 00f0 00000000 		.word	.LANCHOR1
 287 00f4 40000000 		.word	.LC6
 288              		.cfi_endproc
 289              	.LFE143:
 291              		.section	.text.ip_reass_remove_oldest_datagram,"ax",%progbits
 292              		.align	1
 293              		.syntax unified
 294              		.thumb
 295              		.thumb_func
 296              		.fpu fpv4-sp-d16
 298              	ip_reass_remove_oldest_datagram:
 299              	.LFB144:
 228:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* @todo Can't we simply remove the last datagram in the
 300              		.loc 1 228 0
 301              		.cfi_startproc
 302              		@ args = 0, pretend = 0, frame = 0
 303              		@ frame_needed = 0, uses_anonymous_args = 0
 304              	.LVL40:
 305 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 306              	.LCFI2:
 307              		.cfi_def_cfa_offset 24
 308              		.cfi_offset 4, -24
 309              		.cfi_offset 5, -20
 310              		.cfi_offset 6, -16
 311              		.cfi_offset 7, -12
 312              		.cfi_offset 8, -8
 313              		.cfi_offset 14, -4
 314 0004 0646     		mov	r6, r0
 315 0006 8846     		mov	r8, r1
 316              	.LVL41:
 233:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int other_datagrams;
 317              		.loc 1 233 0
 318 0008 0027     		movs	r7, #0
 319 000a 2BE0     		b	.L34
 320              	.LVL42:
 321              	.L40:
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* Not the same datagram as fraghdr */
 322              		.loc 1 245 0 discriminator 1
 323 000c 9A69     		ldr	r2, [r3, #24]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 13


 324 000e D6F810C0 		ldr	ip, [r6, #16]	@ unaligned
 325 0012 6245     		cmp	r2, ip
 326 0014 11D1     		bne	.L28
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* Not the same datagram as fraghdr */
 327              		.loc 1 245 0 is_stmt 0 discriminator 2
 328 0016 B3F80CC0 		ldrh	ip, [r3, #12]
 329 001a B288     		ldrh	r2, [r6, #4]	@ unaligned
 330 001c 9445     		cmp	ip, r2
 331 001e 0CD1     		bne	.L28
 332 0020 01E0     		b	.L29
 333              	.L35:
 250:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         } else if (r->timer <= oldest->timer) {
 334              		.loc 1 250 0 is_stmt 1
 335 0022 2946     		mov	r1, r5
 336              	.LVL43:
 249:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest_prev = prev;
 337              		.loc 1 249 0
 338 0024 1846     		mov	r0, r3
 339              	.LVL44:
 340              	.L29:
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         prev = r;
 341              		.loc 1 257 0
 342 0026 1A68     		ldr	r2, [r3]
 343 0028 92B1     		cbz	r2, .L38
 344              	.LVL45:
 345              	.L30:
 346 002a 1D46     		mov	r5, r3
 347              	.LVL46:
 348 002c 1346     		mov	r3, r2
 349              	.LVL47:
 350              	.L27:
 244:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (!IP_ADDRESSES_AND_ID_MATCH(&r->iphdr, fraghdr)) {
 351              		.loc 1 244 0
 352 002e 8BB1     		cbz	r3, .L39
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* Not the same datagram as fraghdr */
 353              		.loc 1 245 0
 354 0030 5A69     		ldr	r2, [r3, #20]
 355 0032 D6F80CC0 		ldr	ip, [r6, #12]	@ unaligned
 356 0036 6245     		cmp	r2, ip
 357 0038 E8D0     		beq	.L40
 358              	.L28:
 247:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (oldest == NULL) {
 359              		.loc 1 247 0
 360 003a 0134     		adds	r4, r4, #1
 361              	.LVL48:
 248:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest = r;
 362              		.loc 1 248 0
 363 003c 0028     		cmp	r0, #0
 364 003e F0D0     		beq	.L35
 251:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* older than the previous oldest */
 365              		.loc 1 251 0
 366 0040 93F81FC0 		ldrb	ip, [r3, #31]	@ zero_extendqisi2
 367 0044 C27F     		ldrb	r2, [r0, #31]	@ zero_extendqisi2
 368 0046 9445     		cmp	ip, r2
 369 0048 EDD8     		bhi	.L29
 254:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 370              		.loc 1 254 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 14


 371 004a 2946     		mov	r1, r5
 372              	.LVL49:
 253:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest_prev = prev;
 373              		.loc 1 253 0
 374 004c 1846     		mov	r0, r3
 375              	.LVL50:
 376 004e EAE7     		b	.L29
 377              	.LVL51:
 378              	.L38:
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         prev = r;
 379              		.loc 1 257 0
 380 0050 2B46     		mov	r3, r5
 381              	.LVL52:
 382 0052 EAE7     		b	.L30
 383              	.LVL53:
 384              	.L39:
 262:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbufs_freed_current = ip_reass_free_complete_datagram(oldest, oldest_prev);
 385              		.loc 1 262 0
 386 0054 10B1     		cbz	r0, .L32
 263:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbufs_freed += pbufs_freed_current;
 387              		.loc 1 263 0
 388 0056 FFF7FEFF 		bl	ip_reass_free_complete_datagram
 389              	.LVL54:
 264:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 390              		.loc 1 264 0
 391 005a 0744     		add	r7, r7, r0
 392              	.LVL55:
 393              	.L32:
 266:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return pbufs_freed;
 394              		.loc 1 266 0
 395 005c 4745     		cmp	r7, r8
 396 005e 08DA     		bge	.L26
 266:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return pbufs_freed;
 397              		.loc 1 266 0 is_stmt 0 discriminator 1
 398 0060 012C     		cmp	r4, #1
 399 0062 06DD     		ble	.L26
 400              	.LVL56:
 401              	.L34:
 243:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     while (r != NULL) {
 402              		.loc 1 243 0 is_stmt 1
 403 0064 044B     		ldr	r3, .L41
 404 0066 1B68     		ldr	r3, [r3]
 405              	.LVL57:
 242:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     r = reassdatagrams;
 406              		.loc 1 242 0
 407 0068 0024     		movs	r4, #0
 241:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     other_datagrams = 0;
 408              		.loc 1 241 0
 409 006a 2146     		mov	r1, r4
 240:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     oldest_prev = NULL;
 410              		.loc 1 240 0
 411 006c 2546     		mov	r5, r4
 239:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     prev = NULL;
 412              		.loc 1 239 0
 413 006e 2046     		mov	r0, r4
 244:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (!IP_ADDRESSES_AND_ID_MATCH(&r->iphdr, fraghdr)) {
 414              		.loc 1 244 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 15


 415 0070 DDE7     		b	.L27
 416              	.LVL58:
 417              	.L26:
 268:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 418              		.loc 1 268 0
 419 0072 3846     		mov	r0, r7
 420 0074 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 421              	.LVL59:
 422              	.L42:
 423              		.align	2
 424              	.L41:
 425 0078 00000000 		.word	.LANCHOR0
 426              		.cfi_endproc
 427              	.LFE144:
 429              		.section	.text.ip_frag_free_pbuf_custom_ref,"ax",%progbits
 430              		.align	1
 431              		.syntax unified
 432              		.thumb
 433              		.thumb_func
 434              		.fpu fpv4-sp-d16
 436              	ip_frag_free_pbuf_custom_ref:
 437              	.LFB150:
 332:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 333:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 334:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Chain a new pbuf into the pbuf list that composes the datagram.  The pbuf list
 335:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * will grow over time as  new pbufs are rx.
 336:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Also checks that the datagram passes basic continuity checks (if the last
 337:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * fragment was received at least once).
 338:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param ipr points to the reassembly state
 339:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param new_p points to the pbuf for the current fragment
 340:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param is_last is 1 if this pbuf has MF==0 (ipr->flags not updated yet)
 341:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return see IP_REASS_VALIDATE_* defines
 342:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 343:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static int
 344:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_chain_frag_into_datagram_and_validate(struct ip_reassdata *ipr, struct pbuf *new_p, int is
 345:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 346:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reass_helper *iprh, *iprh_tmp, *iprh_prev=NULL;
 347:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *q;
 348:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t offset, len;
 349:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_hdr *fraghdr;
 350:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int valid = 1;
 351:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 352:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Extract length and fragment offset from current fragment */
 353:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   fraghdr = (struct ip_hdr*)new_p->payload;
 354:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = lwip_ntohs(IPH_LEN(fraghdr)) - IPH_HL(fraghdr) * 4;
 355:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   offset = (lwip_ntohs(IPH_OFFSET(fraghdr)) & IP_OFFMASK) * 8;
 356:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 357:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* overwrite the fragment's ip header from the pbuf with our helper struct,
 358:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * and setup the embedded helper structure. */
 359:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* make sure the struct ip_reass_helper fits into the IP header */
 360:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("sizeof(struct ip_reass_helper) <= IP_HLEN",
 361:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****               sizeof(struct ip_reass_helper) <= IP_HLEN);
 362:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh = (struct ip_reass_helper*)new_p->payload;
 363:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->next_pbuf = NULL;
 364:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->start = offset;
 365:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->end = offset + len;
 366:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 16


 367:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Iterate through until we either get to the end of the list (append),
 368:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * or we find one with a larger offset (insert). */
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   for (q = ipr->p; q != NULL;) {
 370:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_tmp = (struct ip_reass_helper*)q->payload;
 371:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (iprh->start < iprh_tmp->start) {
 372:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* the new pbuf should be inserted before this */
 373:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh->next_pbuf = q;
 374:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev != NULL) {
 375:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* not the fragment with the lowest offset */
 376:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 377:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if ((iprh->start < iprh_prev->end) || (iprh->end > iprh_tmp->start)) {
 378:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with previous or following, throw away */
 379:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           goto freepbuf;
 380:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 381:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 382:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         iprh_prev->next_pbuf = new_p;
 383:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh_prev->end != iprh->start) {
 384:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* There is a fragment missing between the current
 385:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****            * and the previous fragment */
 386:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           valid = 0;
 387:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 388:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       } else {
 389:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 390:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh->end > iprh_tmp->start) {
 391:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with following, throw away */
 392:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           goto freepbuf;
 393:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 394:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 395:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* fragment with the lowest offset */
 396:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ipr->p = new_p;
 397:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 398:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       break;
 399:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else if (iprh->start == iprh_tmp->start) {
 400:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* received the same datagram twice: no need to keep the datagram */
 401:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto freepbuf;
 402:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 403:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else if (iprh->start < iprh_tmp->end) {
 404:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* overlap: no need to keep the new datagram */
 405:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto freepbuf;
 406:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 407:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 408:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Check if the fragments received so far have no holes. */
 409:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev != NULL) {
 410:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh_prev->end != iprh_tmp->start) {
 411:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* There is a fragment missing between the current
 412:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****            * and the previous fragment */
 413:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           valid = 0;
 414:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 415:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 416:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 417:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     q = iprh_tmp->next_pbuf;
 418:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_prev = iprh_tmp;
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 420:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 421:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* If q is NULL, then we made it to the end of the list. Determine what to do now */
 422:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (q == NULL) {
 423:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (iprh_prev != NULL) {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 17


 424:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* this is (for now), the fragment with the highest offset:
 425:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * chain it to the last fragment */
 426:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_ASSERT("check fragments don't overlap", iprh_prev->end <= iprh->start);
 428:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 429:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh_prev->next_pbuf = new_p;
 430:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev->end != iprh->start) {
 431:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 432:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 433:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 434:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_ASSERT("no previous fragment, this must be the first fragment!",
 436:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ipr->p == NULL);
 437:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 438:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* this is the first fragment we ever received for this ip datagram */
 439:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr->p = new_p;
 440:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 441:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 442:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 443:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* At this point, the validation part begins: */
 444:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* If we already received the last fragment */
 445:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last || ((ipr->flags & IP_REASS_FLAG_LASTFRAG) != 0)) {
 446:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* and had no holes so far */
 447:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (valid) {
 448:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* then check if the rest of the fragments is here */
 449:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Check if the queue starts with the first datagram */
 450:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if ((ipr->p == NULL) || (((struct ip_reass_helper*)ipr->p->payload)->start != 0)) {
 451:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 452:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       } else {
 453:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* and check that there are no holes after this datagram */
 454:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         iprh_prev = iprh;
 455:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         q = iprh->next_pbuf;
 456:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         while (q != NULL) {
 457:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           iprh = (struct ip_reass_helper*)q->payload;
 458:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           if (iprh_prev->end != iprh->start) {
 459:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             valid = 0;
 460:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             break;
 461:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           }
 462:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           iprh_prev = iprh;
 463:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           q = iprh->next_pbuf;
 464:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 465:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* if still valid, all fragments are received
 466:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****          * (because to the MF==0 already arrived */
 467:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (valid) {
 468:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("sanity check", ipr->p != NULL);
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("sanity check",
 470:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             ((struct ip_reass_helper*)ipr->p->payload) != iprh);
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("validate_datagram:next_pbuf!=NULL",
 472:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             iprh->next_pbuf == NULL);
 473:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 474:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 475:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 476:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* If valid is 0 here, there are some fragments missing in the middle
 477:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * (since MF == 0 has already arrived). Such datagrams simply time out if
 478:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * no more fragments are received... */
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     return valid ? IP_REASS_VALIDATE_TELEGRAM_FINISHED : IP_REASS_VALIDATE_PBUF_QUEUED;
 480:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 18


 481:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* If we come here, not all fragments were received, yet! */
 482:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return IP_REASS_VALIDATE_PBUF_QUEUED; /* not yet valid! */
 483:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 484:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** freepbuf:
 485:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount -= pbuf_clen(new_p);
 486:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   pbuf_free(new_p);
 487:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return IP_REASS_VALIDATE_PBUF_DROPPED;
 488:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 489:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 490:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 491:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 492:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Reassembles incoming IP fragments into an IP datagram.
 493:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 494:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param p points to a pbuf chain of the fragment
 495:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return NULL if reassembly is incomplete, ? otherwise
 496:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 497:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** struct pbuf *
 498:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip4_reass(struct pbuf *p)
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 500:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *r;
 501:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_hdr *fraghdr;
 502:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata *ipr;
 503:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reass_helper *iprh;
 504:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t offset, len, clen;
 505:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int valid;
 506:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int is_last;
 507:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 508:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   IPFRAG_STATS_INC(ip_frag.recv);
 509:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   MIB2_STATS_INC(mib2.ipreasmreqds);
 510:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 511:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   fraghdr = (struct ip_hdr*)p->payload;
 512:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 513:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if ((IPH_HL(fraghdr) * 4) != IP_HLEN) {
 514:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_DEBUGF(IP_REASS_DEBUG,("ip4_reass: IP options currently not supported!\n"));
 515:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPFRAG_STATS_INC(ip_frag.err);
 516:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     goto nullreturn;
 517:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 518:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 519:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   offset = (lwip_ntohs(IPH_OFFSET(fraghdr)) & IP_OFFMASK) * 8;
 520:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = lwip_ntohs(IPH_LEN(fraghdr)) - IPH_HL(fraghdr) * 4;
 521:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 522:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Check if we are allowed to enqueue more datagrams. */
 523:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   clen = pbuf_clen(p);
 524:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS) {
 525:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 526:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (!ip_reass_remove_oldest_datagram(fraghdr, clen) ||
 527:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS))
 528:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 529:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     {
 530:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* No datagram could be freed and still too many pbufs enqueued */
 531:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG,("ip4_reass: Overflow condition: pbufct=%d, clen=%d, MAX=%d\n",
 532:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ip_reass_pbufcount, clen, IP_REASS_MAX_PBUFS));
 533:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPFRAG_STATS_INC(ip_frag.memerr);
 534:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* @todo: send ICMP time exceeded here? */
 535:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* drop this pbuf */
 536:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto nullreturn;
 537:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 19


 538:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 539:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 540:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Look for the datagram the fragment belongs to in the current datagram queue,
 541:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * remembering the previous in the queue for later dequeueing. */
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   for (ipr = reassdatagrams; ipr != NULL; ipr = ipr->next) {
 543:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 544:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        in the reassembly buffer. If so, we proceed with copying the
 545:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        fragment into the buffer. */
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (IP_ADDRESSES_AND_ID_MATCH(&ipr->iphdr, fraghdr)) {
 547:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip4_reass: matching previous fragment ID=%"X16_F"\n",
 548:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         lwip_ntohs(IPH_ID(fraghdr))));
 549:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPFRAG_STATS_INC(ip_frag.cachehit);
 550:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       break;
 551:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 552:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 553:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 554:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (ipr == NULL) {
 555:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Enqueue a new datagram into the datagram queue */
 556:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr = ip_reass_enqueue_new_datagram(fraghdr, clen);
 557:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Bail if unable to enqueue */
 558:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (ipr == NULL) {
 559:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto nullreturn;
 560:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 561:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   } else {
 562:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (((lwip_ntohs(IPH_OFFSET(fraghdr)) & IP_OFFMASK) == 0) &&
 563:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ((lwip_ntohs(IPH_OFFSET(&ipr->iphdr)) & IP_OFFMASK) != 0)) {
 564:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* ipr->iphdr is not the header from the first fragment, but fraghdr is
 565:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * -> copy fraghdr into ipr->iphdr since we want to have the header
 566:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * of the first fragment (for ICMP time exceeded and later, for copying
 567:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * all options, if supported)*/
 568:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       SMEMCPY(&ipr->iphdr, fraghdr, IP_HLEN);
 569:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 570:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 571:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 572:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* At this point, we have either created a new entry or pointing
 573:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * to an existing one */
 574:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 575:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* check for 'no more fragments', and update queue entry*/
 576:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   is_last = (IPH_OFFSET(fraghdr) & PP_NTOHS(IP_MF)) == 0;
 577:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 578:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     u16_t datagram_len = (u16_t)(offset + len);
 579:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if ((datagram_len < offset) || (datagram_len > (0xFFFF - IP_HLEN))) {
 580:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* u16_t overflow, cannot handle this */
 581:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto nullreturn;
 582:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 583:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 584:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* find the right place to insert this pbuf */
 585:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* @todo: trim pbufs if fragments are overlapping */
 586:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   valid = ip_reass_chain_frag_into_datagram_and_validate(ipr, p, is_last);
 587:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (valid == IP_REASS_VALIDATE_PBUF_DROPPED) {
 588:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     goto nullreturn;
 589:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 590:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* if we come here, the pbuf has been enqueued */
 591:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 592:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Track the current number of pbufs current 'in-flight', in order to limit
 593:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      the number of fragments that may be enqueued at any one time
 594:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      (overflow checked by testing against IP_REASS_MAX_PBUFS) */
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 20


 595:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount = (u16_t)(ip_reass_pbufcount + clen);
 596:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 597:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     u16_t datagram_len = (u16_t)(offset + len);
 598:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->datagram_len = datagram_len;
 599:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->flags |= IP_REASS_FLAG_LASTFRAG;
 600:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_DEBUGF(IP_REASS_DEBUG,
 601:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      ("ip4_reass: last fragment seen, total len %"S16_F"\n",
 602:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr->datagram_len));
 603:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 604:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 605:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (valid == IP_REASS_VALIDATE_TELEGRAM_FINISHED) {
 606:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct ip_reassdata *ipr_prev;
 607:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* the totally last fragment (flag more fragments = 0) was received at least
 608:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * once AND all fragments are received */
 609:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->datagram_len += IP_HLEN;
 610:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 611:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* save the second pbuf before copying the header over the pointer */
 612:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     r = ((struct ip_reass_helper*)ipr->p->payload)->next_pbuf;
 613:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 614:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* copy the original ip header back to the first pbuf */
 615:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     fraghdr = (struct ip_hdr*)(ipr->p->payload);
 616:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     SMEMCPY(fraghdr, &ipr->iphdr, IP_HLEN);
 617:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_LEN_SET(fraghdr, lwip_htons(ipr->datagram_len));
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_OFFSET_SET(fraghdr, 0);
 619:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_CHKSUM_SET(fraghdr, 0);
 620:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* @todo: do we need to set/calculate the correct checksum? */
 621:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if CHECKSUM_GEN_IP
 622:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IF__NETIF_CHECKSUM_ENABLED(ip_current_input_netif(), NETIF_CHECKSUM_GEN_IP) {
 623:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPH_CHKSUM_SET(fraghdr, inet_chksum(fraghdr, IP_HLEN));
 624:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 625:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* CHECKSUM_GEN_IP */
 626:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 627:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     p = ipr->p;
 628:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 629:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* chain together the pbufs contained within the reass_data list. */
 630:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     while (r != NULL) {
 631:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh = (struct ip_reass_helper*)r->payload;
 632:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 633:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* hide the ip header for every succeeding fragment */
 634:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_header(r, -IP_HLEN);
 635:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_cat(p, r);
 636:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = iprh->next_pbuf;
 637:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 638:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 639:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* find the previous entry in the linked list */
 640:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (ipr == reassdatagrams) {
 641:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr_prev = NULL;
 642:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 643:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       for (ipr_prev = reassdatagrams; ipr_prev != NULL; ipr_prev = ipr_prev->next) {
 644:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (ipr_prev->next == ipr) {
 645:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           break;
 646:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 647:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 648:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 649:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 650:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* release the sources allocate for the fragment queue entry */
 651:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ip_reass_dequeue_datagram(ipr, ipr_prev);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 21


 652:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 653:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* and adjust the number of pbufs currently queued for reassembly. */
 654:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ip_reass_pbufcount -= pbuf_clen(p);
 655:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 656:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     MIB2_STATS_INC(mib2.ipreasmoks);
 657:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 658:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Return the pbuf chain */
 659:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     return p;
 660:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 661:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* the datagram is not (yet?) reassembled completely */
 662:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_DEBUGF(IP_REASS_DEBUG,("ip_reass_pbufcount: %d out\n", ip_reass_pbufcount));
 663:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return NULL;
 664:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 665:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** nullreturn:
 666:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_DEBUGF(IP_REASS_DEBUG,("ip4_reass: nullreturn\n"));
 667:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   IPFRAG_STATS_INC(ip_frag.drop);
 668:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   pbuf_free(p);
 669:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return NULL;
 670:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 671:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASSEMBLY */
 672:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 673:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_FRAG
 674:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if !LWIP_NETIF_TX_SINGLE_PBUF
 675:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Allocate a new struct pbuf_custom_ref */
 676:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static struct pbuf_custom_ref*
 677:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_frag_alloc_pbuf_custom_ref(void)
 678:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 679:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return (struct pbuf_custom_ref*)memp_malloc(MEMP_FRAG_PBUF);
 680:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 681:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 682:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Free a struct pbuf_custom_ref */
 683:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static void
 684:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_frag_free_pbuf_custom_ref(struct pbuf_custom_ref* p)
 685:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 438              		.loc 1 685 0
 439              		.cfi_startproc
 440              		@ args = 0, pretend = 0, frame = 0
 441              		@ frame_needed = 0, uses_anonymous_args = 0
 442              	.LVL60:
 443 0000 10B5     		push	{r4, lr}
 444              	.LCFI3:
 445              		.cfi_def_cfa_offset 8
 446              		.cfi_offset 4, -8
 447              		.cfi_offset 14, -4
 686:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("p != NULL", p != NULL);
 448              		.loc 1 686 0
 449 0002 0446     		mov	r4, r0
 450 0004 20B1     		cbz	r0, .L46
 451              	.LVL61:
 452              	.L44:
 687:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   memp_free(MEMP_FRAG_PBUF, p);
 453              		.loc 1 687 0
 454 0006 2146     		mov	r1, r4
 455 0008 0520     		movs	r0, #5
 456 000a FFF7FEFF 		bl	memp_free
 457              	.LVL62:
 688:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 22


 458              		.loc 1 688 0
 459 000e 10BD     		pop	{r4, pc}
 460              	.LVL63:
 461              	.L46:
 686:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("p != NULL", p != NULL);
 462              		.loc 1 686 0 discriminator 1
 463 0010 034B     		ldr	r3, .L47
 464 0012 40F2AE22 		movw	r2, #686
 465 0016 0349     		ldr	r1, .L47+4
 466 0018 0348     		ldr	r0, .L47+8
 467              	.LVL64:
 468 001a FFF7FEFF 		bl	printf
 469              	.LVL65:
 470 001e F2E7     		b	.L44
 471              	.L48:
 472              		.align	2
 473              	.L47:
 474 0020 00000000 		.word	.LC0
 475 0024 00000000 		.word	.LC7
 476 0028 54000000 		.word	.LC2
 477              		.cfi_endproc
 478              	.LFE150:
 480              		.section	.text.ipfrag_free_pbuf_custom,"ax",%progbits
 481              		.align	1
 482              		.syntax unified
 483              		.thumb
 484              		.thumb_func
 485              		.fpu fpv4-sp-d16
 487              	ipfrag_free_pbuf_custom:
 488              	.LFB151:
 689:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 690:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Free-callback function to free a 'struct pbuf_custom_ref', called by
 691:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * pbuf_free. */
 692:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static void
 693:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ipfrag_free_pbuf_custom(struct pbuf *p)
 694:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 489              		.loc 1 694 0
 490              		.cfi_startproc
 491              		@ args = 0, pretend = 0, frame = 0
 492              		@ frame_needed = 0, uses_anonymous_args = 0
 493              	.LVL66:
 494 0000 10B5     		push	{r4, lr}
 495              	.LCFI4:
 496              		.cfi_def_cfa_offset 8
 497              		.cfi_offset 4, -8
 498              		.cfi_offset 14, -4
 499              	.LVL67:
 695:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf_custom_ref *pcr = (struct pbuf_custom_ref*)p;
 696:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("pcr != NULL", pcr != NULL);
 500              		.loc 1 696 0
 501 0002 0446     		mov	r4, r0
 502 0004 38B1     		cbz	r0, .L53
 503              	.LVL68:
 504              	.L50:
 697:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("pcr == p", (void*)pcr == (void*)p);
 698:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (pcr->original != NULL) {
 505              		.loc 1 698 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 23


 506 0006 6069     		ldr	r0, [r4, #20]
 507 0008 08B1     		cbz	r0, .L51
 699:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(pcr->original);
 508              		.loc 1 699 0
 509 000a FFF7FEFF 		bl	pbuf_free
 510              	.LVL69:
 511              	.L51:
 700:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 701:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_frag_free_pbuf_custom_ref(pcr);
 512              		.loc 1 701 0
 513 000e 2046     		mov	r0, r4
 514 0010 FFF7FEFF 		bl	ip_frag_free_pbuf_custom_ref
 515              	.LVL70:
 702:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 516              		.loc 1 702 0
 517 0014 10BD     		pop	{r4, pc}
 518              	.LVL71:
 519              	.L53:
 696:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("pcr == p", (void*)pcr == (void*)p);
 520              		.loc 1 696 0 discriminator 1
 521 0016 044B     		ldr	r3, .L54
 522 0018 4FF42E72 		mov	r2, #696
 523 001c 0349     		ldr	r1, .L54+4
 524 001e 0448     		ldr	r0, .L54+8
 525              	.LVL72:
 526 0020 FFF7FEFF 		bl	printf
 527              	.LVL73:
 528 0024 EFE7     		b	.L50
 529              	.L55:
 530 0026 00BF     		.align	2
 531              	.L54:
 532 0028 00000000 		.word	.LC0
 533 002c 00000000 		.word	.LC8
 534 0030 54000000 		.word	.LC2
 535              		.cfi_endproc
 536              	.LFE151:
 538              		.section	.text.ip_reass_chain_frag_into_datagram_and_validate,"ax",%progbits
 539              		.align	1
 540              		.syntax unified
 541              		.thumb
 542              		.thumb_func
 543              		.fpu fpv4-sp-d16
 545              	ip_reass_chain_frag_into_datagram_and_validate:
 546              	.LFB147:
 345:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reass_helper *iprh, *iprh_tmp, *iprh_prev=NULL;
 547              		.loc 1 345 0
 548              		.cfi_startproc
 549              		@ args = 0, pretend = 0, frame = 0
 550              		@ frame_needed = 0, uses_anonymous_args = 0
 551              	.LVL74:
 552 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 553              	.LCFI5:
 554              		.cfi_def_cfa_offset 32
 555              		.cfi_offset 3, -32
 556              		.cfi_offset 4, -28
 557              		.cfi_offset 5, -24
 558              		.cfi_offset 6, -20
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 24


 559              		.cfi_offset 7, -16
 560              		.cfi_offset 8, -12
 561              		.cfi_offset 9, -8
 562              		.cfi_offset 14, -4
 563 0004 8046     		mov	r8, r0
 564 0006 0F46     		mov	r7, r1
 565 0008 9146     		mov	r9, r2
 566              	.LVL75:
 353:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = lwip_ntohs(IPH_LEN(fraghdr)) - IPH_HL(fraghdr) * 4;
 567              		.loc 1 353 0
 568 000a 4C68     		ldr	r4, [r1, #4]
 569              	.LVL76:
 354:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   offset = (lwip_ntohs(IPH_OFFSET(fraghdr)) & IP_OFFMASK) * 8;
 570              		.loc 1 354 0
 571 000c 6088     		ldrh	r0, [r4, #2]	@ unaligned
 572              	.LVL77:
 573 000e FFF7FEFF 		bl	lwip_htons
 574              	.LVL78:
 575 0012 2678     		ldrb	r6, [r4]	@ zero_extendqisi2
 576 0014 06F00F06 		and	r6, r6, #15
 577 0018 A0EB8606 		sub	r6, r0, r6, lsl #2
 578 001c B6B2     		uxth	r6, r6
 579              	.LVL79:
 355:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 580              		.loc 1 355 0
 581 001e E088     		ldrh	r0, [r4, #6]	@ unaligned
 582 0020 FFF7FEFF 		bl	lwip_htons
 583              	.LVL80:
 584 0024 C0F30C00 		ubfx	r0, r0, #0, #13
 585 0028 C200     		lsls	r2, r0, #3
 586              	.LVL81:
 362:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->next_pbuf = NULL;
 587              		.loc 1 362 0
 588 002a 7D68     		ldr	r5, [r7, #4]
 589              	.LVL82:
 363:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->start = offset;
 590              		.loc 1 363 0
 591 002c 0024     		movs	r4, #0
 592              	.LVL83:
 593 002e 2C70     		strb	r4, [r5]
 594 0030 6C70     		strb	r4, [r5, #1]
 595 0032 AC70     		strb	r4, [r5, #2]
 596 0034 EC70     		strb	r4, [r5, #3]
 364:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->end = offset + len;
 597              		.loc 1 364 0
 598 0036 AA80     		strh	r2, [r5, #4]	@ unaligned
 365:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 599              		.loc 1 365 0
 600 0038 06EB020C 		add	ip, r6, r2
 601 003c 1FFA8CFC 		uxth	ip, ip
 602 0040 A5F806C0 		strh	ip, [r5, #6]	@ unaligned
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_tmp = (struct ip_reass_helper*)q->payload;
 603              		.loc 1 369 0
 604 0044 D8F80400 		ldr	r0, [r8, #4]
 605              	.LVL84:
 350:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 606              		.loc 1 350 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 25


 607 0048 0126     		movs	r6, #1
 608              	.LVL85:
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_tmp = (struct ip_reass_helper*)q->payload;
 609              		.loc 1 369 0
 610 004a 33E0     		b	.L57
 611              	.LVL86:
 612              	.L84:
 373:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev != NULL) {
 613              		.loc 1 373 0
 614 004c 2860     		str	r0, [r5]	@ unaligned
 374:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* not the fragment with the lowest offset */
 615              		.loc 1 374 0
 616 004e 4CB3     		cbz	r4, .L59
 377:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with previous or following, throw away */
 617              		.loc 1 377 0
 618 0050 E188     		ldrh	r1, [r4, #6]	@ unaligned
 619 0052 9142     		cmp	r1, r2
 620 0054 7DD8     		bhi	.L60
 377:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with previous or following, throw away */
 621              		.loc 1 377 0 is_stmt 0 discriminator 1
 622 0056 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 623              	.LVL87:
 624 0058 9C45     		cmp	ip, r3
 625 005a 7AD8     		bhi	.L60
 382:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh_prev->end != iprh->start) {
 626              		.loc 1 382 0 is_stmt 1
 627 005c 2760     		str	r7, [r4]	@ unaligned
 383:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* There is a fragment missing between the current
 628              		.loc 1 383 0
 629 005e AB88     		ldrh	r3, [r5, #4]	@ unaligned
 630 0060 9942     		cmp	r1, r3
 631 0062 00D0     		beq	.L61
 386:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 632              		.loc 1 386 0
 633 0064 0026     		movs	r6, #0
 634              	.LVL88:
 635              	.L61:
 422:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (iprh_prev != NULL) {
 636              		.loc 1 422 0
 637 0066 0028     		cmp	r0, #0
 638 0068 36D0     		beq	.L83
 639              	.LVL89:
 640              	.L64:
 445:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* and had no holes so far */
 641              		.loc 1 445 0
 642 006a B9F1000F 		cmp	r9, #0
 643 006e 04D1     		bne	.L68
 445:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* and had no holes so far */
 644              		.loc 1 445 0 is_stmt 0 discriminator 1
 645 0070 98F81E30 		ldrb	r3, [r8, #30]	@ zero_extendqisi2
 646 0074 13F0010F 		tst	r3, #1
 647 0078 79D0     		beq	.L78
 648              	.L68:
 447:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* then check if the rest of the fragments is here */
 649              		.loc 1 447 0 is_stmt 1
 650 007a 002E     		cmp	r6, #0
 651 007c 67D0     		beq	.L70
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 26


 450:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 652              		.loc 1 450 0
 653 007e D8F80430 		ldr	r3, [r8, #4]
 654 0082 002B     		cmp	r3, #0
 655 0084 60D0     		beq	.L79
 450:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 656              		.loc 1 450 0 is_stmt 0 discriminator 1
 657 0086 5868     		ldr	r0, [r3, #4]
 658 0088 8388     		ldrh	r3, [r0, #4]	@ unaligned
 659 008a 002B     		cmp	r3, #0
 660 008c 5ED1     		bne	.L80
 661              	.LVL90:
 455:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         while (q != NULL) {
 662              		.loc 1 455 0 is_stmt 1
 663 008e 2A68     		ldr	r2, [r5]	@ unaligned
 664              	.LVL91:
 665              	.L71:
 456:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           iprh = (struct ip_reass_helper*)q->payload;
 666              		.loc 1 456 0
 667 0090 002A     		cmp	r2, #0
 668 0092 44D0     		beq	.L72
 457:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           if (iprh_prev->end != iprh->start) {
 669              		.loc 1 457 0
 670 0094 5368     		ldr	r3, [r2, #4]
 671              	.LVL92:
 458:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             valid = 0;
 672              		.loc 1 458 0
 673 0096 E988     		ldrh	r1, [r5, #6]	@ unaligned
 674 0098 9A88     		ldrh	r2, [r3, #4]	@ unaligned
 675              	.LVL93:
 676 009a 9142     		cmp	r1, r2
 677 009c 3DD1     		bne	.L81
 678              	.LVL94:
 463:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 679              		.loc 1 463 0
 680 009e 1A68     		ldr	r2, [r3]	@ unaligned
 681              	.LVL95:
 457:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           if (iprh_prev->end != iprh->start) {
 682              		.loc 1 457 0
 683 00a0 1D46     		mov	r5, r3
 684 00a2 F5E7     		b	.L71
 685              	.LVL96:
 686              	.L59:
 390:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with following, throw away */
 687              		.loc 1 390 0
 688 00a4 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 689              	.LVL97:
 690 00a6 9C45     		cmp	ip, r3
 691 00a8 53D8     		bhi	.L60
 396:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 692              		.loc 1 396 0
 693 00aa C8F80470 		str	r7, [r8, #4]
 694 00ae DAE7     		b	.L61
 695              	.LVL98:
 696              	.L62:
 417:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_prev = iprh_tmp;
 697              		.loc 1 417 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 27


 698 00b0 1868     		ldr	r0, [r3]	@ unaligned
 699              	.LVL99:
 418:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 700              		.loc 1 418 0
 701 00b2 1C46     		mov	r4, r3
 702              	.LVL100:
 703              	.L57:
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_tmp = (struct ip_reass_helper*)q->payload;
 704              		.loc 1 369 0 discriminator 1
 705 00b4 0028     		cmp	r0, #0
 706 00b6 D6D0     		beq	.L61
 370:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (iprh->start < iprh_tmp->start) {
 707              		.loc 1 370 0
 708 00b8 4368     		ldr	r3, [r0, #4]
 709              	.LVL101:
 371:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* the new pbuf should be inserted before this */
 710              		.loc 1 371 0
 711 00ba 9988     		ldrh	r1, [r3, #4]	@ unaligned
 712 00bc 9142     		cmp	r1, r2
 713 00be C5D8     		bhi	.L84
 399:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* received the same datagram twice: no need to keep the datagram */
 714              		.loc 1 399 0
 715 00c0 9142     		cmp	r1, r2
 716 00c2 46D0     		beq	.L60
 403:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* overlap: no need to keep the new datagram */
 717              		.loc 1 403 0
 718 00c4 D888     		ldrh	r0, [r3, #6]	@ unaligned
 719              	.LVL102:
 720 00c6 9042     		cmp	r0, r2
 721 00c8 43D8     		bhi	.L60
 409:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh_prev->end != iprh_tmp->start) {
 722              		.loc 1 409 0
 723 00ca 002C     		cmp	r4, #0
 724 00cc F0D0     		beq	.L62
 410:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* There is a fragment missing between the current
 725              		.loc 1 410 0
 726 00ce E088     		ldrh	r0, [r4, #6]	@ unaligned
 727 00d0 8142     		cmp	r1, r0
 728 00d2 EDD0     		beq	.L62
 413:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 729              		.loc 1 413 0
 730 00d4 0026     		movs	r6, #0
 731              	.LVL103:
 732 00d6 EBE7     		b	.L62
 733              	.LVL104:
 734              	.L83:
 423:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* this is (for now), the fragment with the highest offset:
 735              		.loc 1 423 0
 736 00d8 94B1     		cbz	r4, .L65
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 737              		.loc 1 427 0
 738 00da E288     		ldrh	r2, [r4, #6]	@ unaligned
 739              	.LVL105:
 740 00dc AB88     		ldrh	r3, [r5, #4]	@ unaligned
 741 00de 9A42     		cmp	r2, r3
 742 00e0 06D8     		bhi	.L85
 743              	.LVL106:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 28


 744              	.L66:
 429:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev->end != iprh->start) {
 745              		.loc 1 429 0
 746 00e2 2760     		str	r7, [r4]	@ unaligned
 430:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 747              		.loc 1 430 0
 748 00e4 E288     		ldrh	r2, [r4, #6]	@ unaligned
 749 00e6 AB88     		ldrh	r3, [r5, #4]	@ unaligned
 750 00e8 9A42     		cmp	r2, r3
 751 00ea BED0     		beq	.L64
 431:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 752              		.loc 1 431 0
 753 00ec 0026     		movs	r6, #0
 754              	.LVL107:
 755 00ee BCE7     		b	.L64
 756              	.LVL108:
 757              	.L85:
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 758              		.loc 1 427 0 discriminator 1
 759 00f0 204B     		ldr	r3, .L87
 760 00f2 40F2AB12 		movw	r2, #427
 761 00f6 2049     		ldr	r1, .L87+4
 762 00f8 2048     		ldr	r0, .L87+8
 763              	.LVL109:
 764 00fa FFF7FEFF 		bl	printf
 765              	.LVL110:
 766 00fe F0E7     		b	.L66
 767              	.LVL111:
 768              	.L65:
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ipr->p == NULL);
 769              		.loc 1 435 0
 770 0100 D8F80430 		ldr	r3, [r8, #4]
 771 0104 33B1     		cbz	r3, .L67
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ipr->p == NULL);
 772              		.loc 1 435 0 is_stmt 0 discriminator 1
 773 0106 1B4B     		ldr	r3, .L87
 774 0108 4FF4DA72 		mov	r2, #436
 775              	.LVL112:
 776 010c 1C49     		ldr	r1, .L87+12
 777 010e 1B48     		ldr	r0, .L87+8
 778              	.LVL113:
 779 0110 FFF7FEFF 		bl	printf
 780              	.LVL114:
 781              	.L67:
 439:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 782              		.loc 1 439 0 is_stmt 1
 783 0114 C8F80470 		str	r7, [r8, #4]
 784 0118 A7E7     		b	.L64
 785              	.LVL115:
 786              	.L81:
 457:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           if (iprh_prev->end != iprh->start) {
 787              		.loc 1 457 0
 788 011a 1D46     		mov	r5, r3
 789              	.LVL116:
 459:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             break;
 790              		.loc 1 459 0
 791 011c 0026     		movs	r6, #0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 29


 792              	.LVL117:
 793              	.L72:
 467:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("sanity check", ipr->p != NULL);
 794              		.loc 1 467 0
 795 011e B6B1     		cbz	r6, .L70
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             ((struct ip_reass_helper*)ipr->p->payload) != iprh);
 796              		.loc 1 469 0
 797 0120 A842     		cmp	r0, r5
 798 0122 09D0     		beq	.L86
 799              	.L74:
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             iprh->next_pbuf == NULL);
 800              		.loc 1 471 0
 801 0124 2B68     		ldr	r3, [r5]	@ unaligned
 802 0126 93B1     		cbz	r3, .L70
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             iprh->next_pbuf == NULL);
 803              		.loc 1 471 0 is_stmt 0 discriminator 1
 804 0128 124B     		ldr	r3, .L87
 805 012a 4FF4EC72 		mov	r2, #472
 806 012e 1549     		ldr	r1, .L87+16
 807 0130 1248     		ldr	r0, .L87+8
 808 0132 FFF7FEFF 		bl	printf
 809              	.LVL118:
 810 0136 0AE0     		b	.L70
 811              	.L86:
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             ((struct ip_reass_helper*)ipr->p->payload) != iprh);
 812              		.loc 1 469 0 is_stmt 1 discriminator 1
 813 0138 0E4B     		ldr	r3, .L87
 814 013a 4FF4EB72 		mov	r2, #470
 815 013e 1249     		ldr	r1, .L87+20
 816 0140 0E48     		ldr	r0, .L87+8
 817 0142 FFF7FEFF 		bl	printf
 818              	.LVL119:
 819 0146 EDE7     		b	.L74
 820              	.LVL120:
 821              	.L79:
 451:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       } else {
 822              		.loc 1 451 0
 823 0148 0026     		movs	r6, #0
 824              	.LVL121:
 825 014a 00E0     		b	.L70
 826              	.LVL122:
 827              	.L80:
 828 014c 0026     		movs	r6, #0
 829              	.LVL123:
 830              	.L70:
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 831              		.loc 1 479 0
 832 014e 3046     		mov	r0, r6
 833 0150 0BE0     		b	.L56
 834              	.LVL124:
 835              	.L60:
 485:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   pbuf_free(new_p);
 836              		.loc 1 485 0
 837 0152 3846     		mov	r0, r7
 838 0154 FFF7FEFF 		bl	pbuf_clen
 839              	.LVL125:
 840 0158 0C4A     		ldr	r2, .L87+24
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 30


 841 015a 1388     		ldrh	r3, [r2]
 842 015c 181A     		subs	r0, r3, r0
 843 015e 1080     		strh	r0, [r2]	@ movhi
 486:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return IP_REASS_VALIDATE_PBUF_DROPPED;
 844              		.loc 1 486 0
 845 0160 3846     		mov	r0, r7
 846 0162 FFF7FEFF 		bl	pbuf_free
 847              	.LVL126:
 487:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 848              		.loc 1 487 0
 849 0166 4FF0FF30 		mov	r0, #-1
 850              	.LVL127:
 851              	.L56:
 489:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 852              		.loc 1 489 0
 853 016a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 854              	.LVL128:
 855              	.L78:
 482:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 856              		.loc 1 482 0
 857 016e 4846     		mov	r0, r9
 858 0170 FBE7     		b	.L56
 859              	.L88:
 860 0172 00BF     		.align	2
 861              	.L87:
 862 0174 00000000 		.word	.LC0
 863 0178 00000000 		.word	.LC9
 864 017c 54000000 		.word	.LC2
 865 0180 20000000 		.word	.LC10
 866 0184 68000000 		.word	.LC12
 867 0188 58000000 		.word	.LC11
 868 018c 00000000 		.word	.LANCHOR1
 869              		.cfi_endproc
 870              	.LFE147:
 872              		.section	.text.ip_frag_alloc_pbuf_custom_ref,"ax",%progbits
 873              		.align	1
 874              		.syntax unified
 875              		.thumb
 876              		.thumb_func
 877              		.fpu fpv4-sp-d16
 879              	ip_frag_alloc_pbuf_custom_ref:
 880              	.LFB149:
 678:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return (struct pbuf_custom_ref*)memp_malloc(MEMP_FRAG_PBUF);
 881              		.loc 1 678 0
 882              		.cfi_startproc
 883              		@ args = 0, pretend = 0, frame = 0
 884              		@ frame_needed = 0, uses_anonymous_args = 0
 885 0000 08B5     		push	{r3, lr}
 886              	.LCFI6:
 887              		.cfi_def_cfa_offset 8
 888              		.cfi_offset 3, -8
 889              		.cfi_offset 14, -4
 679:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 890              		.loc 1 679 0
 891 0002 0520     		movs	r0, #5
 892 0004 FFF7FEFF 		bl	memp_malloc
 893              	.LVL129:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 31


 680:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 894              		.loc 1 680 0
 895 0008 08BD     		pop	{r3, pc}
 896              		.cfi_endproc
 897              	.LFE149:
 899              		.section	.text.ip_reass_enqueue_new_datagram,"ax",%progbits
 900              		.align	1
 901              		.syntax unified
 902              		.thumb
 903              		.thumb_func
 904              		.fpu fpv4-sp-d16
 906              	ip_reass_enqueue_new_datagram:
 907              	.LFB145:
 279:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata* ipr;
 908              		.loc 1 279 0
 909              		.cfi_startproc
 910              		@ args = 0, pretend = 0, frame = 0
 911              		@ frame_needed = 0, uses_anonymous_args = 0
 912              	.LVL130:
 913 0000 70B5     		push	{r4, r5, r6, lr}
 914              	.LCFI7:
 915              		.cfi_def_cfa_offset 16
 916              		.cfi_offset 4, -16
 917              		.cfi_offset 5, -12
 918              		.cfi_offset 6, -8
 919              		.cfi_offset 14, -4
 920 0002 0546     		mov	r5, r0
 921 0004 0E46     		mov	r6, r1
 286:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (ipr == NULL) {
 922              		.loc 1 286 0
 923 0006 0420     		movs	r0, #4
 924              	.LVL131:
 925 0008 FFF7FEFF 		bl	memp_malloc
 926              	.LVL132:
 287:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 927              		.loc 1 287 0
 928 000c 0446     		mov	r4, r0
 929 000e C8B1     		cbz	r0, .L96
 930              	.LVL133:
 931              	.L92:
 300:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ipr->timer = IP_REASS_MAXAGE;
 932              		.loc 1 300 0
 933 0010 0022     		movs	r2, #0
 934 0012 6260     		str	r2, [r4, #4]	@ unaligned
 935 0014 A260     		str	r2, [r4, #8]	@ unaligned
 936 0016 E260     		str	r2, [r4, #12]	@ unaligned
 937 0018 2261     		str	r2, [r4, #16]	@ unaligned
 938 001a 6261     		str	r2, [r4, #20]	@ unaligned
 939 001c A261     		str	r2, [r4, #24]	@ unaligned
 940 001e E261     		str	r2, [r4, #28]	@ unaligned
 301:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 941              		.loc 1 301 0
 942 0020 0323     		movs	r3, #3
 943 0022 E377     		strb	r3, [r4, #31]
 304:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   reassdatagrams = ipr;
 944              		.loc 1 304 0
 945 0024 0E4B     		ldr	r3, .L98
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 32


 946 0026 1A68     		ldr	r2, [r3]
 947 0028 2260     		str	r2, [r4]
 305:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* copy the ip header for later tests and input */
 948              		.loc 1 305 0
 949 002a 1C60     		str	r4, [r3]
 308:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return ipr;
 950              		.loc 1 308 0
 951 002c 2A68     		ldr	r2, [r5]	@ unaligned
 952 002e 6E68     		ldr	r6, [r5, #4]	@ unaligned
 953              	.LVL134:
 954 0030 A868     		ldr	r0, [r5, #8]	@ unaligned
 955 0032 E968     		ldr	r1, [r5, #12]	@ unaligned
 956 0034 A260     		str	r2, [r4, #8]	@ unaligned
 957 0036 E660     		str	r6, [r4, #12]	@ unaligned
 958 0038 2061     		str	r0, [r4, #16]	@ unaligned
 959 003a 6161     		str	r1, [r4, #20]	@ unaligned
 960 003c 2A69     		ldr	r2, [r5, #16]	@ unaligned
 961 003e A261     		str	r2, [r4, #24]	@ unaligned
 962              	.L91:
 310:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 963              		.loc 1 310 0
 964 0040 2046     		mov	r0, r4
 965 0042 70BD     		pop	{r4, r5, r6, pc}
 966              	.LVL135:
 967              	.L96:
 289:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr = (struct ip_reassdata *)memp_malloc(MEMP_REASSDATA);
 968              		.loc 1 289 0
 969 0044 3146     		mov	r1, r6
 970 0046 2846     		mov	r0, r5
 971              	.LVL136:
 972 0048 FFF7FEFF 		bl	ip_reass_remove_oldest_datagram
 973              	.LVL137:
 974 004c B042     		cmp	r0, r6
 975 004e 02DA     		bge	.L97
 976              	.L93:
 292:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 977              		.loc 1 292 0
 978 0050 002C     		cmp	r4, #0
 979 0052 DDD1     		bne	.L92
 980 0054 F4E7     		b	.L91
 981              	.L97:
 290:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 982              		.loc 1 290 0
 983 0056 0420     		movs	r0, #4
 984 0058 FFF7FEFF 		bl	memp_malloc
 985              	.LVL138:
 986 005c 0446     		mov	r4, r0
 987              	.LVL139:
 988 005e F7E7     		b	.L93
 989              	.L99:
 990              		.align	2
 991              	.L98:
 992 0060 00000000 		.word	.LANCHOR0
 993              		.cfi_endproc
 994              	.LFE145:
 996              		.section	.text.ip_reass_tmr,"ax",%progbits
 997              		.align	1
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 33


 998              		.global	ip_reass_tmr
 999              		.syntax unified
 1000              		.thumb
 1001              		.thumb_func
 1002              		.fpu fpv4-sp-d16
 1004              	ip_reass_tmr:
 1005              	.LFB142:
 129:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata *r, *prev = NULL;
 1006              		.loc 1 129 0
 1007              		.cfi_startproc
 1008              		@ args = 0, pretend = 0, frame = 0
 1009              		@ frame_needed = 0, uses_anonymous_args = 0
 1010 0000 38B5     		push	{r3, r4, r5, lr}
 1011              	.LCFI8:
 1012              		.cfi_def_cfa_offset 16
 1013              		.cfi_offset 3, -16
 1014              		.cfi_offset 4, -12
 1015              		.cfi_offset 5, -8
 1016              		.cfi_offset 14, -4
 1017              	.LVL140:
 132:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (r != NULL) {
 1018              		.loc 1 132 0
 1019 0002 094B     		ldr	r3, .L107
 1020 0004 1868     		ldr	r0, [r3]
 1021              	.LVL141:
 130:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1022              		.loc 1 130 0
 1023 0006 0024     		movs	r4, #0
 133:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Decrement the timer. Once it reaches 0,
 1024              		.loc 1 133 0
 1025 0008 04E0     		b	.L101
 1026              	.LVL142:
 1027              	.L102:
 1028              	.LBB4:
 147:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* free the helper struct and all enqueued pbufs */
 1029              		.loc 1 147 0
 1030 000a 0568     		ldr	r5, [r0]
 1031              	.LVL143:
 149:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      }
 1032              		.loc 1 149 0
 1033 000c 2146     		mov	r1, r4
 1034 000e FFF7FEFF 		bl	ip_reass_free_complete_datagram
 1035              	.LVL144:
 147:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* free the helper struct and all enqueued pbufs */
 1036              		.loc 1 147 0
 1037 0012 2846     		mov	r0, r5
 1038              	.LVL145:
 1039              	.L101:
 1040              	.LBE4:
 133:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Decrement the timer. Once it reaches 0,
 1041              		.loc 1 133 0
 1042 0014 38B1     		cbz	r0, .L106
 136:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r->timer--;
 1043              		.loc 1 136 0
 1044 0016 C37F     		ldrb	r3, [r0, #31]	@ zero_extendqisi2
 1045 0018 002B     		cmp	r3, #0
 1046 001a F6D0     		beq	.L102
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 34


 137:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip_reass_tmr: timer dec %"U16_F"\n",(u16_t)r->timer));
 1047              		.loc 1 137 0
 1048 001c 013B     		subs	r3, r3, #1
 1049 001e C377     		strb	r3, [r0, #31]
 1050              	.LVL146:
 139:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = r->next;
 1051              		.loc 1 139 0
 1052 0020 0446     		mov	r4, r0
 140:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 1053              		.loc 1 140 0
 1054 0022 0068     		ldr	r0, [r0]
 1055              	.LVL147:
 1056 0024 F6E7     		b	.L101
 1057              	.L106:
 152:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1058              		.loc 1 152 0
 1059 0026 38BD     		pop	{r3, r4, r5, pc}
 1060              	.LVL148:
 1061              	.L108:
 1062              		.align	2
 1063              	.L107:
 1064 0028 00000000 		.word	.LANCHOR0
 1065              		.cfi_endproc
 1066              	.LFE142:
 1068              		.section	.text.ip4_reass,"ax",%progbits
 1069              		.align	1
 1070              		.global	ip4_reass
 1071              		.syntax unified
 1072              		.thumb
 1073              		.thumb_func
 1074              		.fpu fpv4-sp-d16
 1076              	ip4_reass:
 1077              	.LFB148:
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *r;
 1078              		.loc 1 499 0
 1079              		.cfi_startproc
 1080              		@ args = 0, pretend = 0, frame = 0
 1081              		@ frame_needed = 0, uses_anonymous_args = 0
 1082              	.LVL149:
 1083 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 1084              	.LCFI9:
 1085              		.cfi_def_cfa_offset 32
 1086              		.cfi_offset 3, -32
 1087              		.cfi_offset 4, -28
 1088              		.cfi_offset 5, -24
 1089              		.cfi_offset 6, -20
 1090              		.cfi_offset 7, -16
 1091              		.cfi_offset 8, -12
 1092              		.cfi_offset 9, -8
 1093              		.cfi_offset 14, -4
 1094 0004 8146     		mov	r9, r0
 511:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1095              		.loc 1 511 0
 1096 0006 4568     		ldr	r5, [r0, #4]
 1097              	.LVL150:
 513:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_DEBUGF(IP_REASS_DEBUG,("ip4_reass: IP options currently not supported!\n"));
 1098              		.loc 1 513 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 35


 1099 0008 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 1100 000a 03F00F03 		and	r3, r3, #15
 1101 000e 052B     		cmp	r3, #5
 1102 0010 24D1     		bne	.L110
 519:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = lwip_ntohs(IPH_LEN(fraghdr)) - IPH_HL(fraghdr) * 4;
 1103              		.loc 1 519 0
 1104 0012 E888     		ldrh	r0, [r5, #6]	@ unaligned
 1105              	.LVL151:
 1106 0014 FFF7FEFF 		bl	lwip_htons
 1107              	.LVL152:
 1108 0018 C0F30C00 		ubfx	r0, r0, #0, #13
 1109 001c C700     		lsls	r7, r0, #3
 1110              	.LVL153:
 520:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1111              		.loc 1 520 0
 1112 001e 6888     		ldrh	r0, [r5, #2]	@ unaligned
 1113 0020 FFF7FEFF 		bl	lwip_htons
 1114              	.LVL154:
 1115 0024 2E78     		ldrb	r6, [r5]	@ zero_extendqisi2
 1116 0026 06F00F06 		and	r6, r6, #15
 1117 002a A0EB8606 		sub	r6, r0, r6, lsl #2
 1118 002e B6B2     		uxth	r6, r6
 1119              	.LVL155:
 523:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS) {
 1120              		.loc 1 523 0
 1121 0030 4846     		mov	r0, r9
 1122 0032 FFF7FEFF 		bl	pbuf_clen
 1123              	.LVL156:
 1124 0036 8046     		mov	r8, r0
 1125              	.LVL157:
 524:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 1126              		.loc 1 524 0
 1127 0038 594B     		ldr	r3, .L133
 1128 003a 1B88     		ldrh	r3, [r3]
 1129 003c 0344     		add	r3, r3, r0
 1130 003e 0A2B     		cmp	r3, #10
 1131 0040 02DC     		bgt	.L129
 1132              	.LVL158:
 1133              	.L111:
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 1134              		.loc 1 542 0
 1135 0042 584B     		ldr	r3, .L133+4
 1136 0044 1C68     		ldr	r4, [r3]
 1137              	.LVL159:
 1138 0046 0FE0     		b	.L112
 1139              	.LVL160:
 1140              	.L129:
 526:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS))
 1141              		.loc 1 526 0
 1142 0048 0146     		mov	r1, r0
 1143 004a 2846     		mov	r0, r5
 1144              	.LVL161:
 1145 004c FFF7FEFF 		bl	ip_reass_remove_oldest_datagram
 1146              	.LVL162:
 1147 0050 20B1     		cbz	r0, .L110
 527:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 1148              		.loc 1 527 0 discriminator 1
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 36


 1149 0052 534B     		ldr	r3, .L133
 1150 0054 1B88     		ldrh	r3, [r3]
 1151 0056 4344     		add	r3, r3, r8
 526:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS))
 1152              		.loc 1 526 0 discriminator 1
 1153 0058 0A2B     		cmp	r3, #10
 1154 005a F2DD     		ble	.L111
 1155              	.LVL163:
 1156              	.L110:
 668:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return NULL;
 1157              		.loc 1 668 0
 1158 005c 4846     		mov	r0, r9
 1159 005e FFF7FEFF 		bl	pbuf_free
 1160              	.LVL164:
 669:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 1161              		.loc 1 669 0
 1162 0062 0027     		movs	r7, #0
 1163 0064 96E0     		b	.L109
 1164              	.LVL165:
 1165              	.L113:
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 1166              		.loc 1 542 0 discriminator 2
 1167 0066 2468     		ldr	r4, [r4]
 1168              	.LVL166:
 1169              	.L112:
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 1170              		.loc 1 542 0 is_stmt 0 discriminator 1
 1171 0068 5CB1     		cbz	r4, .L114
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip4_reass: matching previous fragment ID=%"X16_F"\n",
 1172              		.loc 1 546 0 is_stmt 1
 1173 006a 6269     		ldr	r2, [r4, #20]
 1174 006c EB68     		ldr	r3, [r5, #12]	@ unaligned
 1175 006e 9A42     		cmp	r2, r3
 1176 0070 F9D1     		bne	.L113
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip4_reass: matching previous fragment ID=%"X16_F"\n",
 1177              		.loc 1 546 0 is_stmt 0 discriminator 1
 1178 0072 A269     		ldr	r2, [r4, #24]
 1179 0074 2B69     		ldr	r3, [r5, #16]	@ unaligned
 1180 0076 9A42     		cmp	r2, r3
 1181 0078 F5D1     		bne	.L113
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip4_reass: matching previous fragment ID=%"X16_F"\n",
 1182              		.loc 1 546 0 discriminator 2
 1183 007a A289     		ldrh	r2, [r4, #12]
 1184 007c AB88     		ldrh	r3, [r5, #4]	@ unaligned
 1185 007e 9A42     		cmp	r2, r3
 1186 0080 F1D1     		bne	.L113
 1187              	.L114:
 554:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Enqueue a new datagram into the datagram queue */
 1188              		.loc 1 554 0 is_stmt 1
 1189 0082 002C     		cmp	r4, #0
 1190 0084 48D0     		beq	.L130
 562:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ((lwip_ntohs(IPH_OFFSET(&ipr->iphdr)) & IP_OFFMASK) != 0)) {
 1191              		.loc 1 562 0
 1192 0086 E888     		ldrh	r0, [r5, #6]	@ unaligned
 1193 0088 FFF7FEFF 		bl	lwip_htons
 1194              	.LVL167:
 1195 008c C0F30C00 		ubfx	r0, r0, #0, #13
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 37


 1196 0090 0028     		cmp	r0, #0
 1197 0092 49D0     		beq	.L131
 1198              	.L117:
 576:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 1199              		.loc 1 576 0
 1200 0094 ED88     		ldrh	r5, [r5, #6]	@ unaligned
 1201              	.LVL168:
 1202 0096 05F02005 		and	r5, r5, #32
 1203 009a 002D     		cmp	r5, #0
 1204 009c 0CBF     		ite	eq
 1205 009e 0122     		moveq	r2, #1
 1206 00a0 0022     		movne	r2, #0
 1207              	.LVL169:
 577:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     u16_t datagram_len = (u16_t)(offset + len);
 1208              		.loc 1 577 0
 1209 00a2 07D1     		bne	.L118
 1210              	.LBB5:
 578:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if ((datagram_len < offset) || (datagram_len > (0xFFFF - IP_HLEN))) {
 1211              		.loc 1 578 0
 1212 00a4 BB19     		adds	r3, r7, r6
 1213 00a6 9BB2     		uxth	r3, r3
 1214              	.LVL170:
 579:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* u16_t overflow, cannot handle this */
 1215              		.loc 1 579 0
 1216 00a8 9F42     		cmp	r7, r3
 1217 00aa D7D8     		bhi	.L110
 579:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* u16_t overflow, cannot handle this */
 1218              		.loc 1 579 0 is_stmt 0 discriminator 1
 1219 00ac 4FF6EB71 		movw	r1, #65515
 1220 00b0 8B42     		cmp	r3, r1
 1221 00b2 D3D8     		bhi	.L110
 1222              	.LVL171:
 1223              	.L118:
 1224              	.LBE5:
 586:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (valid == IP_REASS_VALIDATE_PBUF_DROPPED) {
 1225              		.loc 1 586 0 is_stmt 1
 1226 00b4 4946     		mov	r1, r9
 1227 00b6 2046     		mov	r0, r4
 1228 00b8 FFF7FEFF 		bl	ip_reass_chain_frag_into_datagram_and_validate
 1229              	.LVL172:
 587:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     goto nullreturn;
 1230              		.loc 1 587 0
 1231 00bc B0F1FF3F 		cmp	r0, #-1
 1232 00c0 CCD0     		beq	.L110
 595:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 1233              		.loc 1 595 0
 1234 00c2 374B     		ldr	r3, .L133
 1235 00c4 1A88     		ldrh	r2, [r3]
 1236 00c6 9044     		add	r8, r8, r2
 1237 00c8 A3F80080 		strh	r8, [r3]	@ movhi
 596:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     u16_t datagram_len = (u16_t)(offset + len);
 1238              		.loc 1 596 0
 1239 00cc 2DB9     		cbnz	r5, .L119
 1240              	.LBB6:
 597:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->datagram_len = datagram_len;
 1241              		.loc 1 597 0
 1242 00ce 3E44     		add	r6, r6, r7
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 38


 1243              	.LVL173:
 598:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->flags |= IP_REASS_FLAG_LASTFRAG;
 1244              		.loc 1 598 0
 1245 00d0 A683     		strh	r6, [r4, #28]	@ movhi
 599:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_DEBUGF(IP_REASS_DEBUG,
 1246              		.loc 1 599 0
 1247 00d2 A37F     		ldrb	r3, [r4, #30]	@ zero_extendqisi2
 1248 00d4 43F00103 		orr	r3, r3, #1
 1249 00d8 A377     		strb	r3, [r4, #30]
 1250              	.LVL174:
 1251              	.L119:
 1252              	.LBE6:
 605:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct ip_reassdata *ipr_prev;
 1253              		.loc 1 605 0
 1254 00da 0128     		cmp	r0, #1
 1255 00dc 5DD1     		bne	.L126
 1256              	.LBB7:
 609:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1257              		.loc 1 609 0
 1258 00de A38B     		ldrh	r3, [r4, #28]
 1259 00e0 1433     		adds	r3, r3, #20
 1260 00e2 A383     		strh	r3, [r4, #28]	@ movhi
 612:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1261              		.loc 1 612 0
 1262 00e4 6368     		ldr	r3, [r4, #4]
 1263 00e6 5E68     		ldr	r6, [r3, #4]
 1264 00e8 3568     		ldr	r5, [r6]	@ unaligned
 1265              	.LVL175:
 616:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_LEN_SET(fraghdr, lwip_htons(ipr->datagram_len));
 1266              		.loc 1 616 0
 1267 00ea 2346     		mov	r3, r4
 1268 00ec 53F8082F 		ldr	r2, [r3, #8]!	@ unaligned
 1269 00f0 5F68     		ldr	r7, [r3, #4]	@ unaligned
 1270              	.LVL176:
 1271 00f2 9868     		ldr	r0, [r3, #8]	@ unaligned
 1272              	.LVL177:
 1273 00f4 D968     		ldr	r1, [r3, #12]	@ unaligned
 1274 00f6 3260     		str	r2, [r6]	@ unaligned
 1275 00f8 7760     		str	r7, [r6, #4]	@ unaligned
 1276 00fa B060     		str	r0, [r6, #8]	@ unaligned
 1277 00fc F160     		str	r1, [r6, #12]	@ unaligned
 1278 00fe 1A69     		ldr	r2, [r3, #16]	@ unaligned
 1279 0100 3261     		str	r2, [r6, #16]	@ unaligned
 617:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_OFFSET_SET(fraghdr, 0);
 1280              		.loc 1 617 0
 1281 0102 A08B     		ldrh	r0, [r4, #28]
 1282 0104 FFF7FEFF 		bl	lwip_htons
 1283              	.LVL178:
 1284 0108 7080     		strh	r0, [r6, #2]	@ unaligned
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_CHKSUM_SET(fraghdr, 0);
 1285              		.loc 1 618 0
 1286 010a 0023     		movs	r3, #0
 1287 010c B371     		strb	r3, [r6, #6]
 1288 010e F371     		strb	r3, [r6, #7]
 619:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* @todo: do we need to set/calculate the correct checksum? */
 1289              		.loc 1 619 0
 1290 0110 B372     		strb	r3, [r6, #10]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 39


 1291 0112 F372     		strb	r3, [r6, #11]
 627:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1292              		.loc 1 627 0
 1293 0114 6768     		ldr	r7, [r4, #4]
 1294              	.LVL179:
 630:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh = (struct ip_reass_helper*)r->payload;
 1295              		.loc 1 630 0
 1296 0116 26E0     		b	.L121
 1297              	.LVL180:
 1298              	.L130:
 1299              	.LBE7:
 556:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Bail if unable to enqueue */
 1300              		.loc 1 556 0
 1301 0118 4146     		mov	r1, r8
 1302 011a 2846     		mov	r0, r5
 1303 011c FFF7FEFF 		bl	ip_reass_enqueue_new_datagram
 1304              	.LVL181:
 558:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto nullreturn;
 1305              		.loc 1 558 0
 1306 0120 0446     		mov	r4, r0
 1307 0122 0028     		cmp	r0, #0
 1308 0124 B6D1     		bne	.L117
 1309 0126 99E7     		b	.L110
 1310              	.LVL182:
 1311              	.L131:
 563:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* ipr->iphdr is not the header from the first fragment, but fraghdr is
 1312              		.loc 1 563 0 discriminator 1
 1313 0128 E089     		ldrh	r0, [r4, #14]
 1314 012a FFF7FEFF 		bl	lwip_htons
 1315              	.LVL183:
 562:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ((lwip_ntohs(IPH_OFFSET(&ipr->iphdr)) & IP_OFFMASK) != 0)) {
 1316              		.loc 1 562 0 discriminator 1
 1317 012e C0F30C00 		ubfx	r0, r0, #0, #13
 1318 0132 0028     		cmp	r0, #0
 1319 0134 AED0     		beq	.L117
 568:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 1320              		.loc 1 568 0
 1321 0136 2A68     		ldr	r2, [r5]	@ unaligned
 1322 0138 D5F804C0 		ldr	ip, [r5, #4]	@ unaligned
 1323 013c A868     		ldr	r0, [r5, #8]	@ unaligned
 1324 013e E968     		ldr	r1, [r5, #12]	@ unaligned
 1325 0140 A260     		str	r2, [r4, #8]	@ unaligned
 1326 0142 C4F80CC0 		str	ip, [r4, #12]	@ unaligned
 1327 0146 2061     		str	r0, [r4, #16]	@ unaligned
 1328 0148 6161     		str	r1, [r4, #20]	@ unaligned
 1329 014a 2A69     		ldr	r2, [r5, #16]	@ unaligned
 1330 014c A261     		str	r2, [r4, #24]	@ unaligned
 1331 014e A1E7     		b	.L117
 1332              	.LVL184:
 1333              	.L122:
 1334              	.LBB8:
 631:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1335              		.loc 1 631 0
 1336 0150 6E68     		ldr	r6, [r5, #4]
 1337              	.LVL185:
 634:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_cat(p, r);
 1338              		.loc 1 634 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 40


 1339 0152 6FF01301 		mvn	r1, #19
 1340 0156 2846     		mov	r0, r5
 1341 0158 FFF7FEFF 		bl	pbuf_header
 1342              	.LVL186:
 635:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = iprh->next_pbuf;
 1343              		.loc 1 635 0
 1344 015c 2946     		mov	r1, r5
 1345 015e 3846     		mov	r0, r7
 1346 0160 FFF7FEFF 		bl	pbuf_cat
 1347              	.LVL187:
 636:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 1348              		.loc 1 636 0
 1349 0164 3568     		ldr	r5, [r6]	@ unaligned
 1350              	.LVL188:
 1351              	.L121:
 630:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh = (struct ip_reass_helper*)r->payload;
 1352              		.loc 1 630 0
 1353 0166 002D     		cmp	r5, #0
 1354 0168 F2D1     		bne	.L122
 640:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr_prev = NULL;
 1355              		.loc 1 640 0
 1356 016a 0E4B     		ldr	r3, .L133+4
 1357 016c 1968     		ldr	r1, [r3]
 1358 016e A142     		cmp	r1, r4
 1359 0170 05D0     		beq	.L132
 1360              	.L124:
 1361              	.LVL189:
 643:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (ipr_prev->next == ipr) {
 1362              		.loc 1 643 0 discriminator 1
 1363 0172 29B1     		cbz	r1, .L123
 644:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           break;
 1364              		.loc 1 644 0
 1365 0174 0B68     		ldr	r3, [r1]
 1366 0176 A342     		cmp	r3, r4
 1367 0178 02D0     		beq	.L123
 643:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (ipr_prev->next == ipr) {
 1368              		.loc 1 643 0
 1369 017a 1946     		mov	r1, r3
 1370              	.LVL190:
 1371 017c F9E7     		b	.L124
 1372              	.L132:
 641:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 1373              		.loc 1 641 0
 1374 017e 0021     		movs	r1, #0
 1375              	.L123:
 1376              	.LVL191:
 651:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1377              		.loc 1 651 0
 1378 0180 2046     		mov	r0, r4
 1379 0182 FFF7FEFF 		bl	ip_reass_dequeue_datagram
 1380              	.LVL192:
 654:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1381              		.loc 1 654 0
 1382 0186 3846     		mov	r0, r7
 1383 0188 FFF7FEFF 		bl	pbuf_clen
 1384              	.LVL193:
 1385 018c 044A     		ldr	r2, .L133
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 41


 1386 018e 1388     		ldrh	r3, [r2]
 1387 0190 181A     		subs	r0, r3, r0
 1388 0192 1080     		strh	r0, [r2]	@ movhi
 1389              	.LVL194:
 1390              	.L109:
 1391              	.LBE8:
 670:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASSEMBLY */
 1392              		.loc 1 670 0
 1393 0194 3846     		mov	r0, r7
 1394 0196 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1395              	.LVL195:
 1396              	.L126:
 663:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1397              		.loc 1 663 0
 1398 019a 0027     		movs	r7, #0
 1399              	.LVL196:
 1400 019c FAE7     		b	.L109
 1401              	.L134:
 1402 019e 00BF     		.align	2
 1403              	.L133:
 1404 01a0 00000000 		.word	.LANCHOR1
 1405 01a4 00000000 		.word	.LANCHOR0
 1406              		.cfi_endproc
 1407              	.LFE148:
 1409              		.section	.text.ip4_frag,"ax",%progbits
 1410              		.align	1
 1411              		.global	ip4_frag
 1412              		.syntax unified
 1413              		.thumb
 1414              		.thumb_func
 1415              		.fpu fpv4-sp-d16
 1417              	ip4_frag:
 1418              	.LFB152:
 703:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* !LWIP_NETIF_TX_SINGLE_PBUF */
 704:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 705:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 706:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Fragment an IP datagram if too large for the netif.
 707:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 708:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Chop the datagram in MTU sized chunks and send them in order
 709:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * by pointing PBUF_REFs into p.
 710:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 711:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param p ip packet to send
 712:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param netif the netif on which to send
 713:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param dest destination ip address to which to send
 714:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 715:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return ERR_OK if sent successfully, err_t otherwise
 716:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 717:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** err_t
 718:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip4_frag(struct pbuf *p, struct netif *netif, const ip4_addr_t *dest)
 719:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 1419              		.loc 1 719 0
 1420              		.cfi_startproc
 1421              		@ args = 0, pretend = 0, frame = 40
 1422              		@ frame_needed = 0, uses_anonymous_args = 0
 1423              	.LVL197:
 1424 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1425              	.LCFI10:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 42


 1426              		.cfi_def_cfa_offset 36
 1427              		.cfi_offset 4, -36
 1428              		.cfi_offset 5, -32
 1429              		.cfi_offset 6, -28
 1430              		.cfi_offset 7, -24
 1431              		.cfi_offset 8, -20
 1432              		.cfi_offset 9, -16
 1433              		.cfi_offset 10, -12
 1434              		.cfi_offset 11, -8
 1435              		.cfi_offset 14, -4
 1436 0004 8DB0     		sub	sp, sp, #52
 1437              	.LCFI11:
 1438              		.cfi_def_cfa_offset 88
 1439 0006 0646     		mov	r6, r0
 1440 0008 0891     		str	r1, [sp, #32]
 1441 000a 0B92     		str	r2, [sp, #44]
 1442              	.LVL198:
 720:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *rambuf;
 721:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if !LWIP_NETIF_TX_SINGLE_PBUF
 722:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *newpbuf;
 723:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t newpbuflen = 0;
 724:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t left_to_copy;
 725:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif
 726:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_hdr *original_iphdr;
 727:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_hdr *iphdr;
 728:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   const u16_t nfb = (netif->mtu - IP_HLEN) / 8;
 1443              		.loc 1 728 0
 1444 000c CB8C     		ldrh	r3, [r1, #38]
 1445 000e 143B     		subs	r3, r3, #20
 1446 0010 4DD4     		bmi	.L152
 1447              	.L136:
 1448 0012 DB10     		asrs	r3, r3, #3
 1449 0014 0793     		str	r3, [sp, #28]
 1450 0016 9BB2     		uxth	r3, r3
 1451 0018 0A93     		str	r3, [sp, #40]
 1452              	.LVL199:
 729:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t left, fragsize;
 730:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t ofo;
 731:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int last;
 732:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t poff = IP_HLEN;
 733:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t tmp;
 734:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 735:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   original_iphdr = (struct ip_hdr *)p->payload;
 1453              		.loc 1 735 0
 1454 001a D6F804A0 		ldr	r10, [r6, #4]
 1455              	.LVL200:
 736:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iphdr = original_iphdr;
 737:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ERROR("ip4_frag() does not support IP options", IPH_HL(iphdr) * 4 == IP_HLEN, return ERR_VAL
 1456              		.loc 1 737 0
 1457 001e 9AF80030 		ldrb	r3, [r10]	@ zero_extendqisi2
 1458 0022 03F00F03 		and	r3, r3, #15
 1459 0026 052B     		cmp	r3, #5
 1460 0028 43D1     		bne	.L153
 738:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 739:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Save original offset */
 740:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   tmp = lwip_ntohs(IPH_OFFSET(iphdr));
 1461              		.loc 1 740 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 43


 1462 002a BAF80600 		ldrh	r0, [r10, #6]	@ unaligned
 1463              	.LVL201:
 1464 002e FFF7FEFF 		bl	lwip_htons
 1465              	.LVL202:
 741:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ofo = tmp & IP_OFFMASK;
 1466              		.loc 1 741 0
 1467 0032 C0F30C03 		ubfx	r3, r0, #0, #13
 1468 0036 0693     		str	r3, [sp, #24]
 1469              	.LVL203:
 742:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ERROR("ip_frag(): MF already set", (tmp & IP_MF) == 0, return ERR_VAL);
 1470              		.loc 1 742 0
 1471 0038 10F4005F 		tst	r0, #8192
 1472 003c 43D1     		bne	.L154
 743:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 744:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   left = p->tot_len - IP_HLEN;
 1473              		.loc 1 744 0
 1474 003e B6F80880 		ldrh	r8, [r6, #8]
 1475 0042 A8F11408 		sub	r8, r8, #20
 1476 0046 1FFA88FB 		uxth	fp, r8
 1477              	.LVL204:
 732:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t tmp;
 1478              		.loc 1 732 0
 1479 004a 4FF01409 		mov	r9, #20
 723:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t left_to_copy;
 1480              		.loc 1 723 0
 1481 004e 0024     		movs	r4, #0
 1482              	.LVL205:
 1483              	.L140:
 745:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 746:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (left) {
 1484              		.loc 1 746 0
 1485 0050 BBF1000F 		cmp	fp, #0
 1486 0054 00F0B980 		beq	.L155
 747:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Fill this fragment */
 748:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     fragsize = LWIP_MIN(left, nfb * 8);
 1487              		.loc 1 748 0
 1488 0058 BDF81C30 		ldrh	r3, [sp, #28]
 1489 005c DB00     		lsls	r3, r3, #3
 1490 005e CDF824B0 		str	fp, [sp, #36]
 1491 0062 5B45     		cmp	r3, fp
 1492 0064 A8BF     		it	ge
 1493 0066 5B46     		movge	r3, fp
 1494 0068 9BB2     		uxth	r3, r3
 1495 006a 0593     		str	r3, [sp, #20]
 1496              	.LVL206:
 749:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 750:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
 751:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     rambuf = pbuf_alloc(PBUF_IP, fragsize, PBUF_RAM);
 752:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (rambuf == NULL) {
 753:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto memerr;
 754:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 755:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("this needs a pbuf in one piece!",
 756:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       (rambuf->len == rambuf->tot_len) && (rambuf->next == NULL));
 757:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     poff += pbuf_copy_partial(p, rambuf->payload, fragsize, poff);
 758:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* make room for the IP header */
 759:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (pbuf_header(rambuf, IP_HLEN)) {
 760:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_free(rambuf);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 44


 761:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto memerr;
 762:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 763:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* fill in the IP header */
 764:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     SMEMCPY(rambuf->payload, original_iphdr, IP_HLEN);
 765:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iphdr = (struct ip_hdr*)rambuf->payload;
 766:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #else /* LWIP_NETIF_TX_SINGLE_PBUF */
 767:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* When not using a static buffer, create a chain of pbufs.
 768:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * The first will be a PBUF_RAM holding the link and IP header.
 769:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * The rest will be PBUF_REFs mirroring the pbuf chain to be fragged,
 770:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * but limited to the size of an mtu.
 771:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      */
 772:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     rambuf = pbuf_alloc(PBUF_LINK, IP_HLEN, PBUF_RAM);
 1497              		.loc 1 772 0
 1498 006c 0022     		movs	r2, #0
 1499 006e 1421     		movs	r1, #20
 1500 0070 0220     		movs	r0, #2
 1501 0072 FFF7FEFF 		bl	pbuf_alloc
 1502              	.LVL207:
 773:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (rambuf == NULL) {
 1503              		.loc 1 773 0
 1504 0076 0490     		str	r0, [sp, #16]
 1505 0078 0028     		cmp	r0, #0
 1506 007a 00F0A880 		beq	.L150
 774:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto memerr;
 775:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 776:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("this needs a pbuf in one piece!",
 1507              		.loc 1 776 0
 1508 007e 7389     		ldrh	r3, [r6, #10]
 1509 0080 132B     		cmp	r3, #19
 1510 0082 2AD9     		bls	.L156
 1511              	.LVL208:
 1512              	.L141:
 777:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                 (p->len >= (IP_HLEN)));
 778:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     SMEMCPY(rambuf->payload, original_iphdr, IP_HLEN);
 1513              		.loc 1 778 0
 1514 0084 049F     		ldr	r7, [sp, #16]
 1515 0086 7B68     		ldr	r3, [r7, #4]
 1516 0088 DAF80020 		ldr	r2, [r10]	@ unaligned
 1517 008c DAF80450 		ldr	r5, [r10, #4]	@ unaligned
 1518 0090 DAF80800 		ldr	r0, [r10, #8]	@ unaligned
 1519 0094 DAF80C10 		ldr	r1, [r10, #12]	@ unaligned
 1520 0098 1A60     		str	r2, [r3]	@ unaligned
 1521 009a 5D60     		str	r5, [r3, #4]	@ unaligned
 1522 009c 9860     		str	r0, [r3, #8]	@ unaligned
 1523 009e D960     		str	r1, [r3, #12]	@ unaligned
 1524 00a0 DAF81020 		ldr	r2, [r10, #16]	@ unaligned
 1525 00a4 1A61     		str	r2, [r3, #16]	@ unaligned
 779:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iphdr = (struct ip_hdr *)rambuf->payload;
 1526              		.loc 1 779 0
 1527 00a6 D7F80480 		ldr	r8, [r7, #4]
 1528              	.LVL209:
 780:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 781:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     left_to_copy = fragsize;
 1529              		.loc 1 781 0
 1530 00aa 059D     		ldr	r5, [sp, #20]
 782:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     while (left_to_copy) {
 1531              		.loc 1 782 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 45


 1532 00ac 3DE0     		b	.L142
 1533              	.LVL210:
 1534              	.L152:
 728:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t left, fragsize;
 1535              		.loc 1 728 0
 1536 00ae 0733     		adds	r3, r3, #7
 1537 00b0 AFE7     		b	.L136
 1538              	.LVL211:
 1539              	.L153:
 737:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1540              		.loc 1 737 0 discriminator 1
 1541 00b2 484B     		ldr	r3, .L160
 1542 00b4 40F2E122 		movw	r2, #737
 1543              	.LVL212:
 1544 00b8 4749     		ldr	r1, .L160+4
 1545              	.LVL213:
 1546 00ba 4848     		ldr	r0, .L160+8
 1547              	.LVL214:
 1548 00bc FFF7FEFF 		bl	printf
 1549              	.LVL215:
 1550 00c0 6FF00500 		mvn	r0, #5
 1551 00c4 43E0     		b	.L138
 1552              	.LVL216:
 1553              	.L154:
 742:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1554              		.loc 1 742 0 discriminator 1
 1555 00c6 434B     		ldr	r3, .L160
 1556 00c8 40F2E622 		movw	r2, #742
 1557 00cc 4449     		ldr	r1, .L160+12
 1558 00ce 4348     		ldr	r0, .L160+8
 1559              	.LVL217:
 1560 00d0 FFF7FEFF 		bl	printf
 1561              	.LVL218:
 1562 00d4 6FF00500 		mvn	r0, #5
 1563 00d8 39E0     		b	.L138
 1564              	.LVL219:
 1565              	.L156:
 776:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                 (p->len >= (IP_HLEN)));
 1566              		.loc 1 776 0 discriminator 1
 1567 00da 3E4B     		ldr	r3, .L160
 1568 00dc 40F20932 		movw	r2, #777
 1569 00e0 4049     		ldr	r1, .L160+16
 1570 00e2 3E48     		ldr	r0, .L160+8
 1571              	.LVL220:
 1572 00e4 FFF7FEFF 		bl	printf
 1573              	.LVL221:
 1574 00e8 CCE7     		b	.L141
 1575              	.LVL222:
 1576              	.L143:
 1577              	.LBB9:
 783:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       struct pbuf_custom_ref *pcr;
 784:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       u16_t plen = p->len - poff;
 785:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       newpbuflen = LWIP_MIN(left_to_copy, plen);
 786:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Is this pbuf already empty? */
 787:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (!newpbuflen) {
 788:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         poff = 0;
 789:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         p = p->next;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 46


 790:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         continue;
 791:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 792:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pcr = ip_frag_alloc_pbuf_custom_ref();
 1578              		.loc 1 792 0
 1579 00ea FFF7FEFF 		bl	ip_frag_alloc_pbuf_custom_ref
 1580              	.LVL223:
 793:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (pcr == NULL) {
 1581              		.loc 1 793 0
 1582 00ee 0746     		mov	r7, r0
 1583 00f0 40B3     		cbz	r0, .L157
 794:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         pbuf_free(rambuf);
 795:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         goto memerr;
 796:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 797:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Mirror this pbuf, although we might not need all of it. */
 798:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       newpbuf = pbuf_alloced_custom(PBUF_RAW, newpbuflen, PBUF_REF, &pcr->pc,
 799:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         (u8_t*)p->payload + poff, newpbuflen);
 1584              		.loc 1 799 0
 1585 00f2 7368     		ldr	r3, [r6, #4]
 798:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         (u8_t*)p->payload + poff, newpbuflen);
 1586              		.loc 1 798 0
 1587 00f4 4B44     		add	r3, r3, r9
 1588 00f6 0194     		str	r4, [sp, #4]
 1589 00f8 0093     		str	r3, [sp]
 1590 00fa 0346     		mov	r3, r0
 1591 00fc 0222     		movs	r2, #2
 1592 00fe 2146     		mov	r1, r4
 1593 0100 0420     		movs	r0, #4
 1594              	.LVL224:
 1595 0102 FFF7FEFF 		bl	pbuf_alloced_custom
 1596              	.LVL225:
 800:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (newpbuf == NULL) {
 1597              		.loc 1 800 0
 1598 0106 0390     		str	r0, [sp, #12]
 1599 0108 20B3     		cbz	r0, .L158
 801:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ip_frag_free_pbuf_custom_ref(pcr);
 802:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         pbuf_free(rambuf);
 803:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         goto memerr;
 804:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 805:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_ref(p);
 1600              		.loc 1 805 0
 1601 010a 3046     		mov	r0, r6
 1602              	.LVL226:
 1603 010c FFF7FEFF 		bl	pbuf_ref
 1604              	.LVL227:
 806:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pcr->original = p;
 1605              		.loc 1 806 0
 1606 0110 7E61     		str	r6, [r7, #20]
 807:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pcr->pc.custom_free_function = ipfrag_free_pbuf_custom;
 1607              		.loc 1 807 0
 1608 0112 354B     		ldr	r3, .L160+20
 1609 0114 3B61     		str	r3, [r7, #16]
 808:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 809:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Add it to end of rambuf's chain, but using pbuf_cat, not pbuf_chain
 810:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * so that it is removed when pbuf_dechain is later called on rambuf.
 811:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        */
 812:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_cat(rambuf, newpbuf);
 1610              		.loc 1 812 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 47


 1611 0116 0399     		ldr	r1, [sp, #12]
 1612 0118 0498     		ldr	r0, [sp, #16]
 1613 011a FFF7FEFF 		bl	pbuf_cat
 1614              	.LVL228:
 813:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       left_to_copy -= newpbuflen;
 1615              		.loc 1 813 0
 1616 011e 2D1B     		subs	r5, r5, r4
 1617              	.LVL229:
 1618 0120 ADB2     		uxth	r5, r5
 1619              	.LVL230:
 814:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (left_to_copy) {
 1620              		.loc 1 814 0
 1621 0122 15B1     		cbz	r5, .L142
 1622              	.LVL231:
 815:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         poff = 0;
 816:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         p = p->next;
 1623              		.loc 1 816 0
 1624 0124 3668     		ldr	r6, [r6]
 1625              	.LVL232:
 815:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         poff = 0;
 1626              		.loc 1 815 0
 1627 0126 4FF00009 		mov	r9, #0
 1628              	.LVL233:
 1629              	.L142:
 1630              	.LBE9:
 782:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       struct pbuf_custom_ref *pcr;
 1631              		.loc 1 782 0
 1632 012a E5B1     		cbz	r5, .L159
 1633              	.LBB10:
 784:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       newpbuflen = LWIP_MIN(left_to_copy, plen);
 1634              		.loc 1 784 0
 1635 012c 7489     		ldrh	r4, [r6, #10]
 1636              	.LVL234:
 1637 012e A4EB0904 		sub	r4, r4, r9
 1638 0132 A4B2     		uxth	r4, r4
 1639              	.LVL235:
 785:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Is this pbuf already empty? */
 1640              		.loc 1 785 0
 1641 0134 AC42     		cmp	r4, r5
 1642 0136 28BF     		it	cs
 1643 0138 2C46     		movcs	r4, r5
 1644              	.LVL236:
 787:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         poff = 0;
 1645              		.loc 1 787 0
 1646 013a 002C     		cmp	r4, #0
 1647 013c D5D1     		bne	.L143
 1648              	.LVL237:
 789:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         continue;
 1649              		.loc 1 789 0
 1650 013e 3668     		ldr	r6, [r6]
 1651              	.LVL238:
 788:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         p = p->next;
 1652              		.loc 1 788 0
 1653 0140 A146     		mov	r9, r4
 790:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 1654              		.loc 1 790 0
 1655 0142 F2E7     		b	.L142
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 48


 1656              	.LVL239:
 1657              	.L157:
 794:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         goto memerr;
 1658              		.loc 1 794 0
 1659 0144 0498     		ldr	r0, [sp, #16]
 1660              	.LVL240:
 1661 0146 FFF7FEFF 		bl	pbuf_free
 1662              	.LVL241:
 1663              	.LBE10:
 817:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 818:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     poff += newpbuflen;
 820:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 821:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 822:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Correct header */
 823:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     last = (left <= netif->mtu - IP_HLEN);
 824:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 825:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Set new offset and MF flag */
 826:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     tmp = (IP_OFFMASK & (ofo));
 827:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (!last) {
 828:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       tmp = tmp | IP_MF;
 829:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 830:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_OFFSET_SET(iphdr, lwip_htons(tmp));
 831:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_LEN_SET(iphdr, lwip_htons(fragsize + IP_HLEN));
 832:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_CHKSUM_SET(iphdr, 0);
 833:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if CHECKSUM_GEN_IP
 834:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_IP) {
 835:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPH_CHKSUM_SET(iphdr, inet_chksum(iphdr, IP_HLEN));
 836:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 837:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* CHECKSUM_GEN_IP */
 838:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 839:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* No need for separate header pbuf - we allowed room for it in rambuf
 840:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * when allocated.
 841:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      */
 842:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     netif->output(netif, rambuf, dest);
 843:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPFRAG_STATS_INC(ip_frag.xmit);
 844:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 845:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Unfortunately we can't reuse rambuf - the hardware may still be
 846:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * using the buffer. Instead we free it (and the ensuing chain) and
 847:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * recreate it next time round the loop. If we're lucky the hardware
 848:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * will have already sent the packet, the free will really free, and
 849:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * there will be zero memory penalty.
 850:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      */
 851:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 852:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(rambuf);
 853:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     left -= fragsize;
 854:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ofo += nfb;
 855:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 856:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   MIB2_STATS_INC(mib2.ipfragoks);
 857:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return ERR_OK;
 858:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** memerr:
 859:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   MIB2_STATS_INC(mib2.ipfragfails);
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return ERR_MEM;
 1664              		.loc 1 860 0
 1665 014a 4FF0FF30 		mov	r0, #-1
 1666              	.LVL242:
 1667              	.L138:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 49


 861:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 1668              		.loc 1 861 0
 1669 014e 0DB0     		add	sp, sp, #52
 1670              	.LCFI12:
 1671              		.cfi_remember_state
 1672              		.cfi_def_cfa_offset 36
 1673              		@ sp needed
 1674 0150 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1675              	.LVL243:
 1676              	.L158:
 1677              	.LCFI13:
 1678              		.cfi_restore_state
 1679              	.LBB11:
 801:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         pbuf_free(rambuf);
 1680              		.loc 1 801 0
 1681 0154 3846     		mov	r0, r7
 1682              	.LVL244:
 1683 0156 FFF7FEFF 		bl	ip_frag_free_pbuf_custom_ref
 1684              	.LVL245:
 802:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         goto memerr;
 1685              		.loc 1 802 0
 1686 015a 0498     		ldr	r0, [sp, #16]
 1687 015c FFF7FEFF 		bl	pbuf_free
 1688              	.LVL246:
 1689              	.LBE11:
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 1690              		.loc 1 860 0
 1691 0160 4FF0FF30 		mov	r0, #-1
 1692              	.LBB12:
 803:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 1693              		.loc 1 803 0
 1694 0164 F3E7     		b	.L138
 1695              	.LVL247:
 1696              	.L159:
 1697              	.LBE12:
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 1698              		.loc 1 819 0
 1699 0166 A144     		add	r9, r9, r4
 1700              	.LVL248:
 1701 0168 1FFA89F9 		uxth	r9, r9
 1702              	.LVL249:
 823:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1703              		.loc 1 823 0
 1704 016c 089B     		ldr	r3, [sp, #32]
 1705 016e DB8C     		ldrh	r3, [r3, #38]
 1706 0170 143B     		subs	r3, r3, #20
 1707              	.LVL250:
 826:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (!last) {
 1708              		.loc 1 826 0
 1709 0172 069A     		ldr	r2, [sp, #24]
 1710 0174 C2F30C00 		ubfx	r0, r2, #0, #13
 1711              	.LVL251:
 827:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       tmp = tmp | IP_MF;
 1712              		.loc 1 827 0
 1713 0178 099A     		ldr	r2, [sp, #36]
 1714 017a 9A42     		cmp	r2, r3
 1715 017c 01DD     		ble	.L148
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 50


 828:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 1716              		.loc 1 828 0
 1717 017e 40F40050 		orr	r0, r0, #8192
 1718              	.LVL252:
 1719              	.L148:
 830:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_LEN_SET(iphdr, lwip_htons(fragsize + IP_HLEN));
 1720              		.loc 1 830 0
 1721 0182 FFF7FEFF 		bl	lwip_htons
 1722              	.LVL253:
 1723 0186 A8F80600 		strh	r0, [r8, #6]	@ unaligned
 831:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_CHKSUM_SET(iphdr, 0);
 1724              		.loc 1 831 0
 1725 018a 059D     		ldr	r5, [sp, #20]
 1726              	.LVL254:
 1727 018c 05F11400 		add	r0, r5, #20
 1728 0190 80B2     		uxth	r0, r0
 1729 0192 FFF7FEFF 		bl	lwip_htons
 1730              	.LVL255:
 1731 0196 A8F80200 		strh	r0, [r8, #2]	@ unaligned
 832:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if CHECKSUM_GEN_IP
 1732              		.loc 1 832 0
 1733 019a 0023     		movs	r3, #0
 1734 019c 88F80A30 		strb	r3, [r8, #10]
 1735 01a0 88F80B30 		strb	r3, [r8, #11]
 842:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPFRAG_STATS_INC(ip_frag.xmit);
 1736              		.loc 1 842 0
 1737 01a4 0898     		ldr	r0, [sp, #32]
 1738 01a6 4369     		ldr	r3, [r0, #20]
 1739 01a8 0B9A     		ldr	r2, [sp, #44]
 1740 01aa 049F     		ldr	r7, [sp, #16]
 1741 01ac 3946     		mov	r1, r7
 1742 01ae 9847     		blx	r3
 1743              	.LVL256:
 852:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     left -= fragsize;
 1744              		.loc 1 852 0
 1745 01b0 3846     		mov	r0, r7
 1746 01b2 FFF7FEFF 		bl	pbuf_free
 1747              	.LVL257:
 853:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ofo += nfb;
 1748              		.loc 1 853 0
 1749 01b6 ABEB050B 		sub	fp, fp, r5
 1750              	.LVL258:
 1751 01ba 1FFA8BFB 		uxth	fp, fp
 1752              	.LVL259:
 854:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 1753              		.loc 1 854 0
 1754 01be 069B     		ldr	r3, [sp, #24]
 1755 01c0 0A9A     		ldr	r2, [sp, #40]
 1756 01c2 1344     		add	r3, r3, r2
 1757 01c4 9BB2     		uxth	r3, r3
 1758 01c6 0693     		str	r3, [sp, #24]
 1759              	.LVL260:
 1760 01c8 42E7     		b	.L140
 1761              	.LVL261:
 1762              	.L155:
 857:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** memerr:
 1763              		.loc 1 857 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 51


 1764 01ca 0020     		movs	r0, #0
 1765 01cc BFE7     		b	.L138
 1766              	.LVL262:
 1767              	.L150:
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 1768              		.loc 1 860 0
 1769 01ce 4FF0FF30 		mov	r0, #-1
 1770              	.LVL263:
 1771 01d2 BCE7     		b	.L138
 1772              	.L161:
 1773              		.align	2
 1774              	.L160:
 1775 01d4 00000000 		.word	.LC0
 1776 01d8 00000000 		.word	.LC13
 1777 01dc 54000000 		.word	.LC2
 1778 01e0 28000000 		.word	.LC14
 1779 01e4 44000000 		.word	.LC15
 1780 01e8 00000000 		.word	ipfrag_free_pbuf_custom
 1781              		.cfi_endproc
 1782              	.LFE152:
 1784              		.section	.bss.ip_reass_pbufcount,"aw",%nobits
 1785              		.align	1
 1786              		.set	.LANCHOR1,. + 0
 1789              	ip_reass_pbufcount:
 1790 0000 0000     		.space	2
 1791              		.section	.bss.reassdatagrams,"aw",%nobits
 1792              		.align	2
 1793              		.set	.LANCHOR0,. + 0
 1796              	reassdatagrams:
 1797 0000 00000000 		.space	4
 1798              		.section	.rodata.ip4_frag.str1.4,"aMS",%progbits,1
 1799              		.align	2
 1800              	.LC13:
 1801 0000 6970345F 		.ascii	"ip4_frag() does not support IP options\000"
 1801      66726167 
 1801      28292064 
 1801      6F657320 
 1801      6E6F7420 
 1802 0027 00       		.space	1
 1803              	.LC14:
 1804 0028 69705F66 		.ascii	"ip_frag(): MF already set\000"
 1804      72616728 
 1804      293A204D 
 1804      4620616C 
 1804      72656164 
 1805 0042 0000     		.space	2
 1806              	.LC15:
 1807 0044 74686973 		.ascii	"this needs a pbuf in one piece!\000"
 1807      206E6565 
 1807      64732061 
 1807      20706275 
 1807      6620696E 
 1808              		.section	.rodata.ip_frag_free_pbuf_custom_ref.str1.4,"aMS",%progbits,1
 1809              		.align	2
 1810              	.LC7:
 1811 0000 7020213D 		.ascii	"p != NULL\000"
 1811      204E554C 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 52


 1811      4C00
 1812              		.section	.rodata.ip_reass_chain_frag_into_datagram_and_validate.str1.4,"aMS",%progbits,1
 1813              		.align	2
 1814              	.LC9:
 1815 0000 63686563 		.ascii	"check fragments don't overlap\000"
 1815      6B206672 
 1815      61676D65 
 1815      6E747320 
 1815      646F6E27 
 1816 001e 0000     		.space	2
 1817              	.LC10:
 1818 0020 6E6F2070 		.ascii	"no previous fragment, this must be the first fragme"
 1818      72657669 
 1818      6F757320 
 1818      66726167 
 1818      6D656E74 
 1819 0053 6E742100 		.ascii	"nt!\000"
 1820 0057 00       		.space	1
 1821              	.LC11:
 1822 0058 73616E69 		.ascii	"sanity check\000"
 1822      74792063 
 1822      6865636B 
 1822      00
 1823 0065 000000   		.space	3
 1824              	.LC12:
 1825 0068 76616C69 		.ascii	"validate_datagram:next_pbuf!=NULL\000"
 1825      64617465 
 1825      5F646174 
 1825      61677261 
 1825      6D3A6E65 
 1826              		.section	.rodata.ip_reass_dequeue_datagram.str1.4,"aMS",%progbits,1
 1827              		.align	2
 1828              	.LC0:
 1829 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag"
 1829      6C657761 
 1829      7265732F 
 1829      54686972 
 1829      645F5061 
 1830 0033 2E6300   		.ascii	".c\000"
 1831 0036 0000     		.space	2
 1832              	.LC1:
 1833 0038 73616E69 		.ascii	"sanity check linked list\000"
 1833      74792063 
 1833      6865636B 
 1833      206C696E 
 1833      6B656420 
 1834 0051 000000   		.space	3
 1835              	.LC2:
 1836 0054 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 1836      7274696F 
 1836      6E202225 
 1836      73222066 
 1836      61696C65 
 1837              		.section	.rodata.ip_reass_free_complete_datagram.str1.4,"aMS",%progbits,1
 1838              		.align	2
 1839              	.LC3:
 1840 0000 70726576 		.ascii	"prev != ipr\000"
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 53


 1840      20213D20 
 1840      69707200 
 1841              	.LC4:
 1842 000c 70726576 		.ascii	"prev->next == ipr\000"
 1842      2D3E6E65 
 1842      7874203D 
 1842      3D206970 
 1842      7200
 1843 001e 0000     		.space	2
 1844              	.LC5:
 1845 0020 70627566 		.ascii	"pbufs_freed + clen <= 0xffff\000"
 1845      735F6672 
 1845      65656420 
 1845      2B20636C 
 1845      656E203C 
 1846 003d 000000   		.space	3
 1847              	.LC6:
 1848 0040 69705F72 		.ascii	"ip_reass_pbufcount >= clen\000"
 1848      65617373 
 1848      5F706275 
 1848      66636F75 
 1848      6E74203E 
 1849              		.section	.rodata.ipfrag_free_pbuf_custom.str1.4,"aMS",%progbits,1
 1850              		.align	2
 1851              	.LC8:
 1852 0000 70637220 		.ascii	"pcr != NULL\000"
 1852      213D204E 
 1852      554C4C00 
 1853              		.text
 1854              	.Letext0:
 1855              		.file 2 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/machine/_defau
 1856              		.file 3 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/_stdint.h"
 1857              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 1858              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 1859              		.file 6 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/lock.h"
 1860              		.file 7 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/_types.h"
 1861              		.file 8 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/lib/gcc/arm-none-eabi/7.2.1/include/
 1862              		.file 9 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/reent.h"
 1863              		.file 10 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/stdlib.h"
 1864              		.file 11 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/time.h"
 1865              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 1866              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 1867              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 1868              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 1869              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 1870              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 1871              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 1872              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 1873              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 1874              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 1875              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_frag.h"
 1876              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/icmp.h"
 1877              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
 1878              		.file 25 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/stdio.h"
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 54


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ip4_frag.c
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:18     .text.ip_reass_dequeue_datagram:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:24     .text.ip_reass_dequeue_datagram:0000000000000000 ip_reass_dequeue_datagram
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:83     .text.ip_reass_dequeue_datagram:0000000000000038 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:91     .text.ip_reass_free_complete_datagram:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:97     .text.ip_reass_free_complete_datagram:0000000000000000 ip_reass_free_complete_datagram
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:281    .text.ip_reass_free_complete_datagram:00000000000000dc $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:292    .text.ip_reass_remove_oldest_datagram:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:298    .text.ip_reass_remove_oldest_datagram:0000000000000000 ip_reass_remove_oldest_datagram
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:425    .text.ip_reass_remove_oldest_datagram:0000000000000078 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:430    .text.ip_frag_free_pbuf_custom_ref:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:436    .text.ip_frag_free_pbuf_custom_ref:0000000000000000 ip_frag_free_pbuf_custom_ref
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:474    .text.ip_frag_free_pbuf_custom_ref:0000000000000020 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:481    .text.ipfrag_free_pbuf_custom:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:487    .text.ipfrag_free_pbuf_custom:0000000000000000 ipfrag_free_pbuf_custom
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:532    .text.ipfrag_free_pbuf_custom:0000000000000028 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:539    .text.ip_reass_chain_frag_into_datagram_and_validate:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:545    .text.ip_reass_chain_frag_into_datagram_and_validate:0000000000000000 ip_reass_chain_frag_into_datagram_and_validate
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:862    .text.ip_reass_chain_frag_into_datagram_and_validate:0000000000000174 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:873    .text.ip_frag_alloc_pbuf_custom_ref:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:879    .text.ip_frag_alloc_pbuf_custom_ref:0000000000000000 ip_frag_alloc_pbuf_custom_ref
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:900    .text.ip_reass_enqueue_new_datagram:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:906    .text.ip_reass_enqueue_new_datagram:0000000000000000 ip_reass_enqueue_new_datagram
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:992    .text.ip_reass_enqueue_new_datagram:0000000000000060 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:997    .text.ip_reass_tmr:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:1004   .text.ip_reass_tmr:0000000000000000 ip_reass_tmr
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:1064   .text.ip_reass_tmr:0000000000000028 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:1069   .text.ip4_reass:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:1076   .text.ip4_reass:0000000000000000 ip4_reass
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:1404   .text.ip4_reass:00000000000001a0 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:1410   .text.ip4_frag:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:1417   .text.ip4_frag:0000000000000000 ip4_frag
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:1775   .text.ip4_frag:00000000000001d4 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:1785   .bss.ip_reass_pbufcount:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:1789   .bss.ip_reass_pbufcount:0000000000000000 ip_reass_pbufcount
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:1792   .bss.reassdatagrams:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:1796   .bss.reassdatagrams:0000000000000000 reassdatagrams
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:1799   .rodata.ip4_frag.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:1809   .rodata.ip_frag_free_pbuf_custom_ref.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:1813   .rodata.ip_reass_chain_frag_into_datagram_and_validate.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:1827   .rodata.ip_reass_dequeue_datagram.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:1838   .rodata.ip_reass_free_complete_datagram.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s:1850   .rodata.ipfrag_free_pbuf_custom.str1.4:0000000000000000 $d

UNDEFINED SYMBOLS
memp_free
printf
icmp_time_exceeded
pbuf_clen
pbuf_free
lwip_htons
memp_malloc
pbuf_header
pbuf_cat
pbuf_alloc
pbuf_alloced_custom
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccKNwkpX.s 			page 55


pbuf_ref

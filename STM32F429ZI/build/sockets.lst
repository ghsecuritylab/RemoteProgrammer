ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"sockets.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.get_socket,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	get_socket:
  25              	.LFB149:
  26              		.file 1 "Middlewares/Third_Party/LwIP/src/api/sockets.c"
   1:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
   2:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Sockets BSD-Like API module
   4:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
   5:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @defgroup socket Socket API
   6:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @ingroup sequential_api
   7:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * BSD-style socket API.\n
   8:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Thread-safe, to be called from non-TCPIP threads only.\n
   9:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Can be activated by defining @ref LWIP_SOCKET to 1.\n
  10:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Header is in posix/sys/socket.h\b
  11:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
  12:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  13:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /*
  14:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  15:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * All rights reserved.
  16:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  17:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Redistribution and use in source and binary forms, with or without modification,
  18:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * are permitted provided that the following conditions are met:
  19:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  20:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  21:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *    this list of conditions and the following disclaimer.
  22:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  23:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *    this list of conditions and the following disclaimer in the documentation
  24:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *    and/or other materials provided with the distribution.
  25:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * 3. The name of the author may not be used to endorse or promote products
  26:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *    derived from this software without specific prior written permission.
  27:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  28:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  29:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  30:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  31:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  32:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 2


  33:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  34:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  35:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  36:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  37:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * OF SUCH DAMAGE.
  38:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  39:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * This file is part of the lwIP TCP/IP stack.
  40:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  41:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Author: Adam Dunkels <adam@sics.se>
  42:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  43:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Improved by Marc Boucher <marc@mbsi.ca> and David Haas <dhaas@alum.rpi.edu>
  44:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  45:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
  46:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  47:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/opt.h"
  48:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  49:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET /* don't build if not configured for use in lwipopts.h */
  50:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  51:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/sockets.h"
  52:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/api.h"
  53:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/sys.h"
  54:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/igmp.h"
  55:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/inet.h"
  56:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/tcp.h"
  57:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/raw.h"
  58:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/udp.h"
  59:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/memp.h"
  60:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/pbuf.h"
  61:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/priv/tcpip_priv.h"
  62:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
  63:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/inet_chksum.h"
  64:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
  65:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  66:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include <string.h>
  67:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  68:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* If the netconn API is not required publicly, then we include the necessary
  69:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    files here to get the implementation */
  70:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_NETCONN
  71:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #undef LWIP_NETCONN
  72:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_NETCONN 1
  73:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "api_msg.c"
  74:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "api_lib.c"
  75:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "netbuf.c"
  76:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #undef LWIP_NETCONN
  77:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_NETCONN 0
  78:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
  79:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  80:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4
  81:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IP4ADDR_PORT_TO_SOCKADDR(sin, ipaddr, port) do { \
  82:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin)->sin_len = sizeof(struct sockaddr_in); \
  83:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin)->sin_family = AF_INET; \
  84:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin)->sin_port = lwip_htons((port)); \
  85:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       inet_addr_from_ip4addr(&(sin)->sin_addr, ipaddr); \
  86:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       memset((sin)->sin_zero, 0, SIN_ZERO_LEN); }while(0)
  87:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR4_TO_IP4ADDR_PORT(sin, ipaddr, port) do { \
  88:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     inet_addr_to_ip4addr(ip_2_ip4(ipaddr), &((sin)->sin_addr)); \
  89:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     (port) = lwip_ntohs((sin)->sin_port); }while(0)
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 3


  90:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 */
  91:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  92:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
  93:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IP6ADDR_PORT_TO_SOCKADDR(sin6, ipaddr, port) do { \
  94:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_len = sizeof(struct sockaddr_in6); \
  95:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_family = AF_INET6; \
  96:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_port = lwip_htons((port)); \
  97:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_flowinfo = 0; \
  98:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       inet6_addr_from_ip6addr(&(sin6)->sin6_addr, ipaddr); \
  99:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_scope_id = 0; }while(0)
 100:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR6_TO_IP6ADDR_PORT(sin6, ipaddr, port) do { \
 101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     inet6_addr_to_ip6addr(ip_2_ip6(ipaddr), &((sin6)->sin6_addr)); \
 102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     (port) = lwip_ntohs((sin6)->sin6_port); }while(0)
 103:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
 104:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 105:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 106:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void sockaddr_to_ipaddr_port(const struct sockaddr* sockaddr, ip_addr_t* ipaddr, u16_t* port
 107:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 108:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_LEN_VALID(namelen)  (((namelen) == sizeof(struct sockaddr_in)) || \
 109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                          ((namelen) == sizeof(struct sockaddr_in6)))
 110:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID(name)    (((name)->sa_family == AF_INET) || \
 111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                          ((name)->sa_family == AF_INET6))
 112:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH(name, sock) \
 113:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        ((((name)->sa_family == AF_INET) && !(NETCONNTYPE_ISIPV6((sock)->conn->type))) || \
 114:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        (((name)->sa_family == AF_INET6) && (NETCONNTYPE_ISIPV6((sock)->conn->type))))
 115:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IPADDR_PORT_TO_SOCKADDR(sockaddr, ipaddr, port) do { \
 116:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (IP_IS_V6(ipaddr)) { \
 117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP6ADDR_PORT_TO_SOCKADDR((struct sockaddr_in6*)(void*)(sockaddr), ip_2_ip6(ipaddr), port); \
 118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else { \
 119:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP4ADDR_PORT_TO_SOCKADDR((struct sockaddr_in*)(void*)(sockaddr), ip_2_ip4(ipaddr), port); \
 120:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } } while(0)
 121:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR_TO_IPADDR_PORT(sockaddr, ipaddr, port) sockaddr_to_ipaddr_port(sockaddr, ipaddr, &
 122:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define DOMAIN_TO_NETCONN_TYPE(domain, type) (((domain) == AF_INET) ? \
 123:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   (type) : (enum netconn_type)((type) | NETCONN_TYPE_IPV6))
 124:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #elif LWIP_IPV6 /* LWIP_IPV4 && LWIP_IPV6 */
 125:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_LEN_VALID(namelen)  ((namelen) == sizeof(struct sockaddr_in6))
 126:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID(name)    ((name)->sa_family == AF_INET6)
 127:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH(name, sock) 1
 128:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IPADDR_PORT_TO_SOCKADDR(sockaddr, ipaddr, port) \
 129:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         IP6ADDR_PORT_TO_SOCKADDR((struct sockaddr_in6*)(void*)(sockaddr), ip_2_ip6(ipaddr), port)
 130:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR_TO_IPADDR_PORT(sockaddr, ipaddr, port) \
 131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SOCKADDR6_TO_IP6ADDR_PORT((const struct sockaddr_in6*)(const void*)(sockaddr), ipaddr, port
 132:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define DOMAIN_TO_NETCONN_TYPE(domain, netconn_type) (netconn_type)
 133:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /*-> LWIP_IPV4: LWIP_IPV4 && LWIP_IPV6 */
 134:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_LEN_VALID(namelen)  ((namelen) == sizeof(struct sockaddr_in))
 135:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID(name)    ((name)->sa_family == AF_INET)
 136:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH(name, sock) 1
 137:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IPADDR_PORT_TO_SOCKADDR(sockaddr, ipaddr, port) \
 138:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         IP4ADDR_PORT_TO_SOCKADDR((struct sockaddr_in*)(void*)(sockaddr), ip_2_ip4(ipaddr), port)
 139:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR_TO_IPADDR_PORT(sockaddr, ipaddr, port) \
 140:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SOCKADDR4_TO_IP4ADDR_PORT((const struct sockaddr_in*)(const void*)(sockaddr), ipaddr, port)
 141:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define DOMAIN_TO_NETCONN_TYPE(domain, netconn_type) (netconn_type)
 142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
 143:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 144:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name)    (((name)->sa_family == AF_UNSPEC) || \
 145:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                                     IS_SOCK_ADDR_TYPE_VALID(name))
 146:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH_OR_UNSPEC(name, sock) (((name)->sa_family == AF_UNSPEC) || \
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 4


 147:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                                     SOCK_ADDR_TYPE_MATCH(name, sock))
 148:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_ALIGNED(name)      ((((mem_ptr_t)(name)) % 4) == 0)
 149:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 150:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 151:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN(optlen, opttype) do { if ((optlen) < sizeof(opttype)) { return EI
 152:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, opttype) do { \
 153:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKOPT_CHECK_OPTLEN(optlen, opttype); \
 154:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((sock)->conn == NULL) { return EINVAL; } }while(0)
 155:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, opttype) do { \
 156:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKOPT_CHECK_OPTLEN(optlen, opttype); \
 157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (((sock)->conn == NULL) || ((sock)->conn->pcb.tcp == NULL)) { return EINVAL; } }while(0)
 158:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, opttype, netconntype) do { \
 159:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, opttype); \
 160:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type((sock)->conn)) != netconntype) { return ENOPROTOOPT; } }while(
 161:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 162:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 163:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_REF(name)     API_VAR_REF(name)
 164:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_DECLARE(name) API_VAR_DECLARE(struct lwip_setgetsockopt_data, n
 165:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_FREE(name)    API_VAR_FREE(MEMP_SOCKET_SETGETSOCKOPT_DATA, name
 166:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
 167:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(name, sock) do { \
 168:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   name = (struct lwip_setgetsockopt_data *)memp_malloc(MEMP_SOCKET_SETGETSOCKOPT_DATA); \
 169:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (name == NULL) { \
 170:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENOMEM); \
 171:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1; \
 172:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } }while(0)
 173:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
 174:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(name, sock)
 175:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
 176:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 177:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_SNDRCVTIMEO_NONSTANDARD
 178:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_OPTTYPE int
 179:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_SET(optval, val) (*(int *)(optval) = (val))
 180:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_GET_MS(optval)   ((s32_t)*(const int*)(optval))
 181:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
 182:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_OPTTYPE struct timeval
 183:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_SET(optval, val)  do { \
 184:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   s32_t loc = (val); \
 185:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ((struct timeval *)(optval))->tv_sec = (loc) / 1000U; \
 186:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ((struct timeval *)(optval))->tv_usec = ((loc) % 1000U) * 1000U; }while(0)
 187:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_GET_MS(optval) ((((const struct timeval *)(optval))->tv_sec * 1000U) + 
 188:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 189:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 190:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define NUM_SOCKETS MEMP_NUM_NETCONN
 191:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 192:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** This is overridable for the rare case where more than 255 threads
 193:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * select on the same socket...
 194:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 195:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #ifndef SELWAIT_T
 196:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SELWAIT_T u8_t
 197:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 198:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 199:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** Contains all internal pointers and states used for a socket */
 200:Middlewares/Third_Party/LwIP/src/api/sockets.c **** struct lwip_sock {
 201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** sockets currently are built on netconns, each socket has one netconn */
 202:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn;
 203:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** data that was left from the previous read */
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 5


 204:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   void *lastdata;
 205:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** offset in the data that was left from the previous read */
 206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t lastoffset;
 207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** number of times data was received, set by event_callback(),
 208:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       tested by the receive and select functions */
 209:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   s16_t rcvevent;
 210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** number of times data was ACKed (free send buffer), set by event_callback(),
 211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       tested by select */
 212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t sendevent;
 213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** error happened for this socket, set by event_callback(), tested by select */
 214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t errevent;
 215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** last error that occurred on this socket (in fact, all our errnos fit into an u8_t) */
 216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t err;
 217:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** counter of how many threads are waiting for this socket using select */
 218:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SELWAIT_T select_waiting;
 219:Middlewares/Third_Party/LwIP/src/api/sockets.c **** };
 220:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 221:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 222:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SELECT_SEM_T        sys_sem_t*
 223:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SELECT_SEM_PTR(sem) (sem)
 224:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
 225:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SELECT_SEM_T        sys_sem_t
 226:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SELECT_SEM_PTR(sem) (&(sem))
 227:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
 228:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 229:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** Description for a task waiting in select */
 230:Middlewares/Third_Party/LwIP/src/api/sockets.c **** struct lwip_select_cb {
 231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** Pointer to the next waiting task */
 232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_select_cb *next;
 233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** Pointer to the previous waiting task */
 234:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_select_cb *prev;
 235:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** readset passed to select */
 236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set *readset;
 237:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** writeset passed to select */
 238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set *writeset;
 239:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** unimplemented: exceptset passed to select */
 240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set *exceptset;
 241:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** don't signal the same semaphore twice: set to 1 when signalled */
 242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int sem_signalled;
 243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** semaphore to wake up a task waiting for select */
 244:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SELECT_SEM_T sem;
 245:Middlewares/Third_Party/LwIP/src/api/sockets.c **** };
 246:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 247:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** A struct sockaddr replacement that has the same alignment as sockaddr_in/
 248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *  sockaddr_in6 if instantiated.
 249:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 250:Middlewares/Third_Party/LwIP/src/api/sockets.c **** union sockaddr_aligned {
 251:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    struct sockaddr sa;
 252:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
 253:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    struct sockaddr_in6 sin6;
 254:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
 255:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4
 256:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    struct sockaddr_in sin;
 257:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 */
 258:Middlewares/Third_Party/LwIP/src/api/sockets.c **** };
 259:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 260:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IGMP
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 6


 261:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Define the number of IPv4 multicast memberships, default is one per socket */
 262:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #ifndef LWIP_SOCKET_MAX_MEMBERSHIPS
 263:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_MAX_MEMBERSHIPS NUM_SOCKETS
 264:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 265:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 266:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* This is to keep track of IP_ADD_MEMBERSHIP calls to drop the membership when
 267:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    a socket is closed */
 268:Middlewares/Third_Party/LwIP/src/api/sockets.c **** struct lwip_socket_multicast_pair {
 269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the socket */
 270:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock* sock;
 271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the interface address */
 272:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip4_addr_t if_addr;
 273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the group address */
 274:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip4_addr_t multi_addr;
 275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** };
 276:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 277:Middlewares/Third_Party/LwIP/src/api/sockets.c **** struct lwip_socket_multicast_pair socket_ipv4_multicast_memberships[LWIP_SOCKET_MAX_MEMBERSHIPS];
 278:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 279:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int  lwip_socket_register_membership(int s, const ip4_addr_t *if_addr, const ip4_addr_t *mul
 280:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_socket_unregister_membership(int s, const ip4_addr_t *if_addr, const ip4_addr_t *m
 281:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_socket_drop_registered_memberships(int s);
 282:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IGMP */
 283:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 284:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** The global array of available sockets */
 285:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock sockets[NUM_SOCKETS];
 286:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** The global list of tasks waiting for select */
 287:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_select_cb *select_cb_list;
 288:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** This counter is increased from lwip_select when the list is changed
 289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     and checked in event_callback to see if it has changed. */
 290:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static volatile int select_cb_ctr;
 291:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 292:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SET_ERRNO
 293:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #ifndef set_errno
 294:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define set_errno(err) do { if (err) { errno = (err); } } while(0)
 295:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 296:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_SOCKET_SET_ERRNO */
 297:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define set_errno(err)
 298:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SET_ERRNO */
 299:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 300:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define sock_set_errno(sk, e) do { \
 301:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   const int sockerr = (e); \
 302:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sk->err = (u8_t)sockerr; \
 303:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(sockerr); \
 304:Middlewares/Third_Party/LwIP/src/api/sockets.c **** } while (0)
 305:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 306:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Forward declaration of some functions */
 307:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void event_callback(struct netconn *conn, enum netconn_evt evt, u16_t len);
 308:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 309:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_getsockopt_callback(void *arg);
 310:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_setsockopt_callback(void *arg);
 311:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 312:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static u8_t lwip_getsockopt_impl(int s, int level, int optname, void *optval, socklen_t *optlen);
 313:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static u8_t lwip_setsockopt_impl(int s, int level, int optname, const void *optval, socklen_t optle
 314:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 316:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
 317:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sockaddr_to_ipaddr_port(const struct sockaddr* sockaddr, ip_addr_t* ipaddr, u16_t* port)
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 7


 318:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 319:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((sockaddr->sa_family) == AF_INET6) {
 320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR6_TO_IP6ADDR_PORT((const struct sockaddr_in6*)(const void*)(sockaddr), ipaddr, *port);
 321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ipaddr->type = IPADDR_TYPE_V6;
 322:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR4_TO_IP4ADDR_PORT((const struct sockaddr_in*)(const void*)(sockaddr), ipaddr, *port);
 324:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ipaddr->type = IPADDR_TYPE_V4;
 325:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 326:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 327:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 328:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 329:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** LWIP_NETCONN_SEM_PER_THREAD==1: initialize thread-local semaphore */
 330:Middlewares/Third_Party/LwIP/src/api/sockets.c **** void
 331:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_socket_thread_init(void)
 332:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 333:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    netconn_thread_init();
 334:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 335:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 336:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** LWIP_NETCONN_SEM_PER_THREAD==1: destroy thread-local semaphore */
 337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** void
 338:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_socket_thread_cleanup(void)
 339:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    netconn_thread_cleanup();
 341:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 342:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 343:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
 344:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Map a externally used socket index to the internal socket representation.
 345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 346:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param s externally used socket index
 347:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return struct lwip_sock for the socket or NULL if not found
 348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 349:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock *
 350:Middlewares/Third_Party/LwIP/src/api/sockets.c **** get_socket(int s)
 351:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
  27              		.loc 1 351 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              	.LVL0:
 352:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 353:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 354:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   s -= LWIP_SOCKET_OFFSET;
 355:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((s < 0) || (s >= NUM_SOCKETS)) {
  33              		.loc 1 356 0
  34 0000 0328     		cmp	r0, #3
  35 0002 0CD8     		bhi	.L7
 351:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
  36              		.loc 1 351 0
  37 0004 10B4     		push	{r4}
  38              	.LCFI0:
  39              		.cfi_def_cfa_offset 4
  40              		.cfi_offset 4, -4
 357:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("get_socket(%d): invalid\n", s + LWIP_SOCKET_OFFSET));
 358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EBADF);
 359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 8


 360:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 361:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = &sockets[s];
  41              		.loc 1 362 0
  42 0006 0B4C     		ldr	r4, .L9
  43 0008 8300     		lsls	r3, r0, #2
  44 000a 1918     		adds	r1, r3, r0
  45 000c 8A00     		lsls	r2, r1, #2
  46 000e 1146     		mov	r1, r2
  47 0010 2244     		add	r2, r2, r4
  48              	.LVL1:
 363:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock->conn) {
  49              		.loc 1 364 0
  50 0012 6358     		ldr	r3, [r4, r1]
  51 0014 4BB1     		cbz	r3, .L8
  52              	.LVL2:
  53              	.L1:
 365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("get_socket(%d): not active\n", s + LWIP_SOCKET_OFFSET));
 366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EBADF);
 367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 369:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return sock;
 371:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
  54              		.loc 1 371 0
  55 0016 1046     		mov	r0, r2
  56              	.LVL3:
  57 0018 5DF8044B 		ldr	r4, [sp], #4
  58              	.LCFI1:
  59              		.cfi_restore 4
  60              		.cfi_def_cfa_offset 0
  61              	.LVL4:
  62 001c 7047     		bx	lr
  63              	.LVL5:
  64              	.L7:
 358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
  65              		.loc 1 358 0 discriminator 1
  66 001e 064B     		ldr	r3, .L9+4
  67 0020 0922     		movs	r2, #9
  68 0022 1A60     		str	r2, [r3]
 359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
  69              		.loc 1 359 0 discriminator 1
  70 0024 0022     		movs	r2, #0
  71              		.loc 1 371 0 discriminator 1
  72 0026 1046     		mov	r0, r2
  73              	.LVL6:
  74 0028 7047     		bx	lr
  75              	.LVL7:
  76              	.L8:
  77              	.LCFI2:
  78              		.cfi_def_cfa_offset 4
  79              		.cfi_offset 4, -4
 366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
  80              		.loc 1 366 0 discriminator 1
  81 002a 034B     		ldr	r3, .L9+4
  82 002c 0922     		movs	r2, #9
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 9


  83              	.LVL8:
  84 002e 1A60     		str	r2, [r3]
 367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
  85              		.loc 1 367 0 discriminator 1
  86 0030 0022     		movs	r2, #0
  87 0032 F0E7     		b	.L1
  88              	.L10:
  89              		.align	2
  90              	.L9:
  91 0034 00000000 		.word	.LANCHOR0
  92 0038 00000000 		.word	errno
  93              		.cfi_endproc
  94              	.LFE149:
  96              		.section	.text.tryget_socket,"ax",%progbits
  97              		.align	1
  98              		.syntax unified
  99              		.thumb
 100              		.thumb_func
 101              		.fpu fpv4-sp-d16
 103              	tryget_socket:
 104              	.LFB150:
 372:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 373:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
 374:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Same as get_socket but doesn't set errno
 375:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 376:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param s externally used socket index
 377:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return struct lwip_sock for the socket or NULL if not found
 378:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 379:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock *
 380:Middlewares/Third_Party/LwIP/src/api/sockets.c **** tryget_socket(int s)
 381:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 105              		.loc 1 381 0
 106              		.cfi_startproc
 107              		@ args = 0, pretend = 0, frame = 0
 108              		@ frame_needed = 0, uses_anonymous_args = 0
 109              		@ link register save eliminated.
 110              	.LVL9:
 382:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   s -= LWIP_SOCKET_OFFSET;
 383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((s < 0) || (s >= NUM_SOCKETS)) {
 111              		.loc 1 383 0
 112 0000 0328     		cmp	r0, #3
 113 0002 0BD8     		bhi	.L13
 384:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 386:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sockets[s].conn) {
 114              		.loc 1 386 0
 115 0004 00EB8002 		add	r2, r0, r0, lsl #2
 116 0008 9300     		lsls	r3, r2, #2
 117 000a 064A     		ldr	r2, .L15
 118 000c D358     		ldr	r3, [r2, r3]
 119 000e 3BB1     		cbz	r3, .L14
 387:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return &sockets[s];
 120              		.loc 1 389 0
 121 0010 00EB8000 		add	r0, r0, r0, lsl #2
 122              	.LVL10:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 10


 123 0014 8300     		lsls	r3, r0, #2
 124 0016 1046     		mov	r0, r2
 125 0018 1844     		add	r0, r0, r3
 126 001a 7047     		bx	lr
 127              	.LVL11:
 128              	.L13:
 384:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 129              		.loc 1 384 0
 130 001c 0020     		movs	r0, #0
 131              	.LVL12:
 132 001e 7047     		bx	lr
 133              	.LVL13:
 134              	.L14:
 387:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 135              		.loc 1 387 0
 136 0020 0020     		movs	r0, #0
 137              	.LVL14:
 390:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 138              		.loc 1 390 0
 139 0022 7047     		bx	lr
 140              	.L16:
 141              		.align	2
 142              	.L15:
 143 0024 00000000 		.word	.LANCHOR0
 144              		.cfi_endproc
 145              	.LFE150:
 147              		.section	.text.lwip_setsockopt_impl,"ax",%progbits
 148              		.align	1
 149              		.syntax unified
 150              		.thumb
 151              		.thumb_func
 152              		.fpu fpv4-sp-d16
 154              	lwip_setsockopt_impl:
 155              	.LFB177:
 391:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 392:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
 393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Allocate a new socket for a given netconn.
 394:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 395:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param newconn the netconn for which to allocate a socket
 396:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param accepted 1 if socket has been created by accept(),
 397:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *                 0 if socket has been created by socket()
 398:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return the index of the new socket; -1 on error
 399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 400:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
 401:Middlewares/Third_Party/LwIP/src/api/sockets.c **** alloc_socket(struct netconn *newconn, int accepted)
 402:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 403:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 404:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 405:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 406:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* allocate a new socket identifier */
 407:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = 0; i < NUM_SOCKETS; ++i) {
 408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_PROTECT(lev);
 410:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sockets[i].conn && (sockets[i].select_waiting == 0)) {
 411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].conn       = newconn;
 412:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* The socket is not yet known to anyone, so no need to protect
 413:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          after having marked it as used. */
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 11


 414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
 415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].lastdata   = NULL;
 416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].lastoffset = 0;
 417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 418:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* TCP sendbuf is empty, but the socket is not yet writable until connected
 419:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * (unless it has been created by accept()). */
 420:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].sendevent  = (NETCONNTYPE_GROUP(newconn->type) == NETCONN_TCP ? (accepted != 0) : 
 421:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 422:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].err        = 0;
 423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return i + LWIP_SOCKET_OFFSET;
 424:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 425:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
 426:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 427:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
 428:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 429:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 430:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** Free a socket. The socket's netconn must have been
 431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * delete before!
 432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 433:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param sock the socket to free
 434:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param is_tcp != 0 for TCP sockets, used to free lastdata
 435:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 436:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
 437:Middlewares/Third_Party/LwIP/src/api/sockets.c **** free_socket(struct lwip_sock *sock, int is_tcp)
 438:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 439:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   void *lastdata;
 440:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lastdata         = sock->lastdata;
 442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock->lastdata   = NULL;
 443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock->lastoffset = 0;
 444:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock->err        = 0;
 445:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 446:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Protect socket array */
 447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_SET(sock->conn, NULL);
 448:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* don't use 'sock' after this line, as another task might have allocated it */
 449:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (lastdata != NULL) {
 451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (is_tcp) {
 452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       pbuf_free((struct pbuf *)lastdata);
 453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_delete((struct netbuf *)lastdata);
 455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 457:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 458:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 459:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Below this, the well-known socket functions are implemented.
 460:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Use google.com or opengroup.org to get a good description :-)
 461:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 462:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Exceptions are documented!
 463:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 464:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 465:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 466:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_accept(int s, struct sockaddr *addr, socklen_t *addrlen)
 467:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock, *nsock;
 469:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *newconn;
 470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t naddr;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 12


 471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t port = 0;
 472:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int newsock;
 473:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 475:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d)...\n", s));
 477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 478:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 480:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 481:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 482:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (netconn_is_nonblocking(sock->conn) && (sock->rcvevent <= 0)) {
 483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): returning EWOULDBLOCK\n", s));
 484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EWOULDBLOCK);
 485:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 487:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* wait for a new connection */
 489:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_accept(sock->conn, &newconn);
 490:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 491:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_acept failed, err=%d\n", s, err));
 492:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 493:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EINVAL);
 496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 497:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 498:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 500:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 501:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("newconn != NULL", newconn != NULL);
 502:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 503:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newsock = alloc_socket(newconn, 1);
 504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (newsock == -1) {
 505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(newconn);
 506:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENFILE);
 507:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("invalid socket index", (newsock >= LWIP_SOCKET_OFFSET) && (newsock < NUM_SOCKETS + L
 510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("newconn->callback == event_callback", newconn->callback == event_callback);
 511:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 512:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 513:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* See event_callback: If data comes in right away after an accept, even
 514:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * though the server task might not have created a new socket yet.
 515:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * In that case, newconn->socket is counted down (newconn->socket--),
 516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * so nsock->rcvevent is >= 1 here!
 517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    */
 518:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 519:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock->rcvevent += (s16_t)(-1 - newconn->socket);
 520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newconn->socket = newsock;
 521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 522:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Note that POSIX only requires us to check addr is non-NULL. addrlen must
 524:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * not be NULL if addr is valid.
 525:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    */
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (addr != NULL) {
 527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     union sockaddr_aligned tempaddr;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 13


 528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* get the IP address and port of the remote host */
 529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_peer(newconn, &naddr, &port);
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_peer failed, err=%d\n", s, err));
 532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netconn_delete(newconn);
 533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       free_socket(nsock, 1);
 534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 536:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("addr valid but addrlen NULL", addrlen != NULL);
 538:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 539:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     IPADDR_PORT_TO_SOCKADDR(&tempaddr, &naddr, port);
 540:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *addrlen = tempaddr.sa.sa_len;
 542:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     MEMCPY(addr, &tempaddr, *addrlen);
 544:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d) returning new sock=%d addr=", s, newsock));
 546:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, naddr);
 547:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F"\n", port));
 548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 549:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d) returning new sock=%d", s, newsock));
 550:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 551:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
 553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return newsock;
 554:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 555:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 556:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 557:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_bind(int s, const struct sockaddr *name, socklen_t namelen)
 558:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 559:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t local_addr;
 561:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t local_port;
 562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 563:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 564:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 565:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 566:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 567:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 568:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!SOCK_ADDR_TYPE_MATCH(name, sock)) {
 570:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* sockaddr does not match socket type (IPv4/IPv6) */
 571:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_VAL));
 572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 573:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 574:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* check size, family and alignment of 'name' */
 576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_bind: invalid address", (IS_SOCK_ADDR_LEN_VALID(namelen) &&
 577:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); return -1;);
 579:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(namelen);
 580:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SOCKADDR_TO_IPADDR_PORT(name, &local_addr, local_port);
 582:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 583:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, local_addr);
 584:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", local_port));
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 14


 585:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 586:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 587:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
 588:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (IP_IS_V6_VAL(local_addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&local_addr))) {
 589:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     unmap_ipv4_mapped_ipv6(ip_2_ip4(&local_addr), ip_2_ip6(&local_addr));
 590:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     IP_SET_TYPE_VAL(local_addr, IPADDR_TYPE_V4);
 591:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 592:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 593:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_bind(sock->conn, &local_addr, local_port);
 595:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) failed, err=%d\n", s, err));
 598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 599:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 600:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 601:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 602:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) succeeded\n", s));
 603:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
 604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 605:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 606:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 607:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 608:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_close(int s)
 609:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 610:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int is_tcp = 0;
 612:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 613:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 614:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_close(%d)\n", s));
 615:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 616:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 619:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 620:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 621:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->conn != NULL) {
 622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     is_tcp = NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP;
 623:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("sock->lastdata == NULL", sock->lastdata == NULL);
 625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 626:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 627:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IGMP
 628:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* drop all possibly joined IGMP memberships */
 629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_socket_drop_registered_memberships(s);
 630:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IGMP */
 631:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_delete(sock->conn);
 633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 634:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 635:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 636:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 637:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   free_socket(sock, is_tcp);
 639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
 640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 641:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 15


 642:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 643:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_connect(int s, const struct sockaddr *name, socklen_t namelen)
 645:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 647:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 648:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 649:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 650:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     printf("Cannot get socket\r\n");
 652:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 654:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!SOCK_ADDR_TYPE_MATCH_OR_UNSPEC(name, sock)) {
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* sockaddr does not match socket type (IPv4/IPv6) */
 657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     printf("sockaddr does not match socket type (IPv4/IPv6)\r\n");
 658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_VAL));
 659:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 662:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(namelen);
 663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (name->sa_family == AF_UNSPEC) {
 664:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, AF_UNSPEC)\n", s));
 665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_disconnect(sock->conn);
 666:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 667:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_t remote_addr;
 668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t remote_port;
 669:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* check size, family and alignment of 'name' */
 671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ERROR("lwip_connect: invalid address", IS_SOCK_ADDR_LEN_VALID(namelen) &&
 672:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                sock_set_errno(sock, err_to_errno(ERR_ARG)); return -1;);
 674:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(name, &remote_addr, remote_port);
 676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, remote_addr);
 678:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", remote_port));
 679:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 680:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 681:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
 682:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (IP_IS_V6_VAL(remote_addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&remote_addr))) {
 683:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       unmap_ipv4_mapped_ipv6(ip_2_ip4(&remote_addr), ip_2_ip6(&remote_addr));
 684:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP_SET_TYPE_VAL(remote_addr, IPADDR_TYPE_V4);
 685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 686:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 687:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_connect(sock->conn, &remote_addr, remote_port);
 689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 690:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 692:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) failed, err=%d\n", s, err));
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 697:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) succeeded\n", s));
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 16


 699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 700:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 701:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 702:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
 703:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Set a socket into listen mode.
 704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * The socket may not have been used for another connection previously.
 705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 706:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param s the socket to set to listening mode
 707:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param backlog (ATTENTION: needs TCP_LISTEN_BACKLOG=1)
 708:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return 0 on success, non-zero on failure
 709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 710:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 711:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_listen(int s, int backlog)
 712:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 713:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 715:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d, backlog=%d)\n", s, backlog));
 717:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 722:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 723:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* limit the "backlog" parameter to fit in an u8_t */
 724:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   backlog = LWIP_MIN(LWIP_MAX(backlog, 0), 0xff);
 725:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_listen_with_backlog(sock->conn, (u8_t)backlog);
 727:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 728:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 729:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d) failed, err=%d\n", s, err));
 730:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 731:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 732:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 737:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
 739:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 740:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 741:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 742:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recvfrom(int s, void *mem, size_t len, int flags,
 744:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               struct sockaddr *from, socklen_t *fromlen)
 745:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 746:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 747:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   void             *buf = NULL;
 748:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct pbuf      *p;
 749:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t            buflen, copylen;
 750:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int              off = 0;
 751:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t             done = 0;
 752:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t            err;
 753:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 754:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom(%d, %p, %"SZT_F", 0x%x, ..)\n", s, mem, len, flags));
 755:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 17


 756:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 757:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 758:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 759:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   do {
 761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom: top while sock->lastdata=%p\n", sock->lastdata));
 762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Check if there is data left from the last recv operation. */
 763:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->lastdata) {
 764:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       buf = sock->lastdata;
 765:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 766:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* If this is non-blocking call, then check first */
 767:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (((flags & MSG_DONTWAIT) || netconn_is_nonblocking(sock->conn)) &&
 768:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (sock->rcvevent <= 0)) {
 769:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (off > 0) {
 770:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* already received data, return that */
 771:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock_set_errno(sock, 0);
 772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return off;
 773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 774:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom(%d): returning EWOULDBLOCK\n", s));
 775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         set_errno(EWOULDBLOCK);
 776:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
 777:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 778:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 779:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* No data was left from the previous operation, so we try to get
 780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          some from the network. */
 781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
 782:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err = netconn_recv_tcp_pbuf(sock->conn, (struct pbuf **)&buf);
 783:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
 784:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err = netconn_recv(sock->conn, (struct netbuf **)&buf);
 785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom: netconn_recv err=%d, netbuf=%p\n",
 787:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err, buf));
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 789:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (err != ERR_OK) {
 790:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (off > 0) {
 791:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (err == ERR_CLSD) {
 792:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* closed but already received data, ensure select gets the FIN, too */
 793:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             event_callback(sock->conn, NETCONN_EVT_RCVPLUS, 0);
 794:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 795:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* already received data, return that */
 796:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock_set_errno(sock, 0);
 797:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return off;
 798:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 799:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* We should really do some error checking here. */
 800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom(%d): buf == NULL, error is \"%s\"!\n",
 801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           s, lwip_strerr(err)));
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, err_to_errno(err));
 803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return 0;
 805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
 806:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return -1;
 807:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("buf != NULL", buf != NULL);
 810:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata = buf;
 811:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 812:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 18


 813:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
 814:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p = (struct pbuf *)buf;
 815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 816:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p = ((struct netbuf *)buf)->p;
 817:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 818:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     buflen = p->tot_len;
 819:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom: buflen=%"U16_F" len=%"SZT_F" off=%d sock->lastoffse
 820:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       buflen, len, off, sock->lastoffset));
 821:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 822:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     buflen -= sock->lastoffset;
 823:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 824:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (len > buflen) {
 825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = buflen;
 826:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 827:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = (u16_t)len;
 828:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 829:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* copy the contents of the received buffer into
 831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     the supplied memory pointer mem */
 832:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     pbuf_copy_partial(p, (u8_t*)mem + off, copylen, sock->lastoffset);
 833:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 834:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     off += copylen;
 835:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 836:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
 837:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("invalid copylen, len would underflow", len >= copylen);
 838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       len -= copylen;
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((len <= 0) ||
 840:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (p->flags & PBUF_FLAG_PUSH) ||
 841:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (sock->rcvevent <= 0) ||
 842:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ((flags & MSG_PEEK) != 0)) {
 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done = 1;
 844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 845:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 846:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done = 1;
 847:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 848:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Check to see from where the data was.*/
 850:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (done) {
 851:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !SOCKETS_DEBUG
 852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (from && fromlen)
 853:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 854:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       {
 855:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t port;
 856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ip_addr_t tmpaddr;
 857:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ip_addr_t *fromaddr;
 858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         union sockaddr_aligned saddr;
 859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom(%d): addr=", s));
 860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fromaddr = &tmpaddr;
 862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           netconn_getaddr(sock->conn, fromaddr, &port, 0);
 863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
 864:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           port = netbuf_fromport((struct netbuf *)buf);
 865:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fromaddr = netbuf_fromaddr((struct netbuf *)buf);
 866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 867:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 868:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 869:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Dual-stack: Map IPv4 addresses to IPv4 mapped IPv6 */
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 19


 870:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (NETCONNTYPE_ISIPV6(netconn_type(sock->conn)) && IP_IS_V4(fromaddr)) {
 871:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ip4_2_ipv4_mapped_ipv6(ip_2_ip6(fromaddr), ip_2_ip4(fromaddr));
 872:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           IP_SET_TYPE(fromaddr, IPADDR_TYPE_V6);
 873:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 874:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 875:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 876:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         IPADDR_PORT_TO_SOCKADDR(&saddr, fromaddr, port);
 877:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ip_addr_debug_print(SOCKETS_DEBUG, fromaddr);
 878:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F" len=%d\n", port, off));
 879:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if SOCKETS_DEBUG
 880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (from && fromlen)
 881:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* SOCKETS_DEBUG */
 882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         {
 883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*fromlen > saddr.sa.sa_len) {
 884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *fromlen = saddr.sa.sa_len;
 885:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           MEMCPY(from, &saddr, *fromlen);
 887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 890:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* If we don't peek the incoming message... */
 892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((flags & MSG_PEEK) == 0) {
 893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* If this is a TCP socket, check if there is data left in the
 894:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          buffer. If so, it should be saved in the sock structure for next
 895:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          time around. */
 896:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) && (buflen - copylen > 0)) {
 897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->lastdata = buf;
 898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->lastoffset += copylen;
 899:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom: lastdata now netbuf=%p\n", buf));
 900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->lastdata = NULL;
 902:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->lastoffset = 0;
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom: deleting netbuf=%p\n", buf));
 904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
 905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           pbuf_free((struct pbuf *)buf);
 906:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
 907:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           netbuf_delete((struct netbuf *)buf);
 908:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         buf = NULL;
 910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 911:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } while (!done);
 913:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 914:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
 915:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return off;
 916:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 917:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 918:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 919:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_read(int s, void *mem, size_t len)
 920:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, 0, NULL, NULL);
 922:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 923:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 924:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 925:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv(int s, void *mem, size_t len, int flags)
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 20


 927:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, flags, NULL, NULL);
 928:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 929:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 930:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 931:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_send(int s, const void *data, size_t size, int flags)
 932:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 933:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 934:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 935:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t write_flags;
 936:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   size_t written;
 937:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_send(%d, data=%p, size=%"SZT_F", flags=0x%x)\n",
 939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               s, data, size, flags));
 940:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 943:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 944:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 945:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 946:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 947:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if (LWIP_UDP || LWIP_RAW)
 948:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return lwip_sendto(s, data, size, flags, NULL, 0);
 949:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* (LWIP_UDP || LWIP_RAW) */
 950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_ARG));
 951:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 952:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* (LWIP_UDP || LWIP_RAW) */
 953:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 954:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 955:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   write_flags = NETCONN_COPY |
 956:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 957:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0);
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   written = 0;
 959:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_write_partly(sock->conn, data, size, write_flags, &written);
 960:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_send(%d) err=%d written=%"SZT_F"\n", s, err, written));
 962:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(err));
 963:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? (int)written : -1);
 964:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 966:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 967:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_sendmsg(int s, const struct msghdr *msg, int flags)
 968:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 969:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 970:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 971:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 972:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t write_flags;
 973:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   size_t written;
 974:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int size = 0;
 976:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err = ERR_OK;
 977:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 978:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 979:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 980:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 981:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 982:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 983:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendmsg: invalid msghdr", msg != NULL,
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 21


 984:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); return -1;);
 985:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 986:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_control);
 987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_controllen);
 988:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_flags);
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendmsg: invalid msghdr iov", (msg->msg_iov != NULL && msg->msg_iovlen != 0),
 990:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); return -1;);
 991:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 992:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
 993:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 994:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     write_flags = NETCONN_COPY |
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0);
 997:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 998:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = 0; i < msg->msg_iovlen; i++) {
 999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u8_t apiflags = write_flags;
1000:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (i + 1 < msg->msg_iovlen) {
1001:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         apiflags |= NETCONN_MORE;
1002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1003:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       written = 0;
1004:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = netconn_write_partly(sock->conn, msg->msg_iov[i].iov_base, msg->msg_iov[i].iov_len, wri
1005:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (err == ERR_OK) {
1006:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         size += written;
1007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* check that the entire IO vector was accepected, if not return a partial write */
1008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (written != msg->msg_iov[i].iov_len)
1009:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
1010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1011:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* none of this IO vector was accepted, but previous was, return partial write and conceal ER
1012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       else if (err == ERR_WOULDBLOCK && size > 0) {
1013:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err = ERR_OK;
1014:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* let ERR_WOULDBLOCK persist on the netconn since we are returning ERR_OK */
1015:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
1016:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
1017:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         size = -1;
1018:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
1019:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1020:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1021:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
1022:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return size;
1023:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
1024:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_ARG));
1025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1026:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
1027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1028:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* else, UDP and RAW NETCONNs */
1029:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP || LWIP_RAW
1030:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   {
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct netbuf *chain_buf;
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_UNUSED_ARG(flags);
1034:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ERROR("lwip_sendmsg: invalid msghdr name", (((msg->msg_name == NULL) && (msg->msg_namelen 
1035:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)) ,
1036:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                sock_set_errno(sock, err_to_errno(ERR_ARG)); return -1;);
1037:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1038:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* initialize chain buffer with destination */
1039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     chain_buf = netbuf_new();
1040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!chain_buf) {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 22


1041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(ERR_MEM));
1042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_name) {
1045:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t remote_port;
1046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SOCKADDR_TO_IPADDR_PORT((const struct sockaddr *)msg->msg_name, &chain_buf->addr, remote_port
1047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(chain_buf) = remote_port;
1048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1049:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
1050:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = 0; i < msg->msg_iovlen; i++) {
1051:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size += msg->msg_iov[i].iov_len;
1052:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1053:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Allocate a new netbuf and copy the data into it. */
1054:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (netbuf_alloc(chain_buf, (u16_t)size) == NULL) {
1055:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        err = ERR_MEM;
1056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
1057:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* flatten the IO vectors */
1058:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size_t offset = 0;
1059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = 0; i < msg->msg_iovlen; i++) {
1060:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         MEMCPY(&((u8_t*)chain_buf->p->payload)[offset], msg->msg_iov[i].iov_base, msg->msg_iov[i].i
1061:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         offset += msg->msg_iov[i].iov_len;
1062:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1063:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
1064:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       {
1065:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* This can be improved by using LWIP_CHKSUM_COPY() and aggregating the checksum for each I
1066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t chksum = ~inet_chksum_pbuf(chain_buf->p);
1067:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         netbuf_set_chksum(chain_buf, chksum);
1068:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1069:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1070:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ERR_OK;
1071:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETIF_TX_SINGLE_PBUF */
1073:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* create a chained netbuf from the IO vectors. NOTE: we assemble a pbuf chain
1074:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        manually to avoid having to allocate, chain, and delete a netbuf for each iov */
1075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = 0; i < msg->msg_iovlen; i++) {
1076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p = pbuf_alloc(PBUF_TRANSPORT, 0, PBUF_REF);
1077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p == NULL) {
1078:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err = ERR_MEM; /* let netbuf_delete() cleanup chain_buf */
1079:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
1080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->payload = msg->msg_iov[i].iov_base;
1082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("iov_len < u16_t", msg->msg_iov[i].iov_len <= 0xFFFF);
1083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
1084:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
1085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (chain_buf->p == NULL) {
1086:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         chain_buf->p = chain_buf->ptr = p;
1087:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* add pbuf to existing pbuf chain */
1088:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
1089:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         pbuf_cat(chain_buf->p, p);
1090:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1091:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* save size of total chain */
1093:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err == ERR_OK) {
1094:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size = netbuf_len(chain_buf);
1095:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1096:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 23


1098:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err == ERR_OK) {
1099:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
1100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
1101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (IP_IS_V6_VAL(chain_buf->addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&chain_buf->addr))) {
1102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         unmap_ipv4_mapped_ipv6(ip_2_ip4(&chain_buf->addr), ip_2_ip6(&chain_buf->addr));
1103:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         IP_SET_TYPE_VAL(chain_buf->addr, IPADDR_TYPE_V4);
1104:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1105:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1106:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* send the data */
1108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = netconn_send(sock->conn, chain_buf);
1109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1110:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* deallocated the buffer */
1112:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_delete(chain_buf);
1113:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1114:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
1115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return (err == ERR_OK ? size : -1);
1116:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1117:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_UDP || LWIP_RAW */
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(ERR_ARG));
1119:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
1120:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP || LWIP_RAW */
1121:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1122:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1123:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
1124:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_sendto(int s, const void *data, size_t size, int flags,
1125:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        const struct sockaddr *to, socklen_t tolen)
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
1129:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t short_size;
1130:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t remote_port;
1131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netbuf buf;
1132:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1133:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
1134:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1135:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1136:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1137:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1138:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
1139:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1140:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return lwip_send(s, data, size, flags);
1141:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_UNUSED_ARG(flags);
1143:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_ARG));
1144:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1145:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
1146:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1147:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* @todo: split into multiple sendto's? */
1149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("lwip_sendto: size must fit in u16_t", size <= 0xffff);
1150:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   short_size = (u16_t)size;
1151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendto: invalid address", (((to == NULL) && (tolen == 0)) ||
1152:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
1153:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(to) && IS_SOCK_ADDR_ALIGNED(to))),
1154:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); return -1;);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 24


1155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(tolen);
1156:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* initialize a buffer */
1158:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   buf.p = buf.ptr = NULL;
1159:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
1160:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   buf.flags = 0;
1161:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1162:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (to) {
1163:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(to, &buf.addr, remote_port);
1164:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
1165:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     remote_port = 0;
1166:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_set_any(NETCONNTYPE_ISIPV6(netconn_type(sock->conn)), &buf.addr);
1167:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1168:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netbuf_fromport(&buf) = remote_port;
1169:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1170:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1171:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_sendto(%d, data=%p, short_size=%"U16_F", flags=0x%x to=",
1172:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               s, data, short_size, flags));
1173:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print(SOCKETS_DEBUG, &buf.addr);
1174:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F"\n", remote_port));
1175:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1176:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* make the buffer point to the data that should be sent */
1177:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
1178:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Allocate a new netbuf and copy the data into it. */
1179:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (netbuf_alloc(&buf, short_size) == NULL) {
1180:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = ERR_MEM;
1181:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
1182:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
1183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_RAW) {
1184:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t chksum = LWIP_CHKSUM_COPY(buf.p->payload, data, short_size);
1185:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_set_chksum(&buf, chksum);
1186:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else
1187:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1188:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     {
1189:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       MEMCPY(buf.p->payload, data, short_size);
1190:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1191:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = ERR_OK;
1192:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1193:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETIF_TX_SINGLE_PBUF */
1194:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netbuf_ref(&buf, data, short_size);
1195:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
1196:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err == ERR_OK) {
1197:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
1198:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
1199:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (IP_IS_V6_VAL(buf.addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&buf.addr))) {
1200:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       unmap_ipv4_mapped_ipv6(ip_2_ip4(&buf.addr), ip_2_ip6(&buf.addr));
1201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP_SET_TYPE_VAL(buf.addr, IPADDR_TYPE_V4);
1202:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1203:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1204:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1205:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* send the data */
1206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_send(sock->conn, &buf);
1207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1208:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1209:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* deallocated the buffer */
1210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netbuf_free(&buf);
1211:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 25


1212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(err));
1213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? short_size : -1);
1214:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1215:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1216:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
1217:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_socket(int domain, int type, int protocol)
1218:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn;
1220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
1221:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(domain); /* @todo: check this */
1223:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* create a netconn */
1225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (type) {
1226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case SOCK_RAW:
1227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     conn = netconn_new_with_proto_and_callback(DOMAIN_TO_NETCONN_TYPE(domain, NETCONN_RAW),
1228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                                (u8_t)protocol, event_callback);
1229:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_RAW, %d) = ",
1230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                  domain == PF_INET ? "PF_INET" : "UNKNOWN", protocol));
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
1232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case SOCK_DGRAM:
1233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     conn = netconn_new_with_callback(DOMAIN_TO_NETCONN_TYPE(domain,
1234:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                  ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_UDP)) ,
1235:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                  event_callback);
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_DGRAM, %d) = ",
1237:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                  domain == PF_INET ? "PF_INET" : "UNKNOWN", protocol));
1238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
1239:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case SOCK_STREAM:
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     conn = netconn_new_with_callback(DOMAIN_TO_NETCONN_TYPE(domain, NETCONN_TCP), event_callback);
1241:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
1242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                  domain == PF_INET ? "PF_INET" : "UNKNOWN", protocol));
1243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
1244:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   default:
1245:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%d, %d/UNKNOWN, %d) = -1\n",
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                  domain, type, protocol));
1247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EINVAL);
1248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1249:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1250:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1251:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!conn) {
1252:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("-1 / ENOBUFS (could not create netconn)\n"));
1253:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENOBUFS);
1254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1255:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1256:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1257:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   i = alloc_socket(conn, 0);
1258:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (i == -1) {
1260:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(conn);
1261:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENFILE);
1262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1263:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1264:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   conn->socket = i;
1265:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("%d\n", i));
1266:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
1267:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return i;
1268:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 26


1269:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1270:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
1271:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_write(int s, const void *data, size_t size)
1272:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_send(s, data, size, 0);
1274:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1276:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
1277:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_writev(int s, const struct iovec *iov, int iovcnt)
1278:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1279:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
1280:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1281:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_name = NULL;
1282:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
1283:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
1284:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      Blame the opengroup standard for this inconsistency. */
1285:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iov = LWIP_CONST_CAST(struct iovec *, iov);
1286:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
1287:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
1290:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_sendmsg(s, &msg, 0);
1291:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1292:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1293:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
1294:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Go through the readset and writeset lists and see which socket of the sockets
1295:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * set in the sets has events. On return, readset, writeset and exceptset have
1296:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * the sockets enabled that had events.
1297:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
1298:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param maxfdp1 the highest socket index in the sets
1299:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param readset_in    set of sockets to check for read events
1300:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param writeset_in   set of sockets to check for write events
1301:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param exceptset_in  set of sockets to check for error events
1302:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param readset_out   set of sockets that had read events
1303:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param writeset_out  set of sockets that had write events
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param exceptset_out set os sockets that had error events
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return number of sockets that had events (read/write/exception) (>= 0)
1306:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
1307:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_selscan(int maxfdp1, fd_set *readset_in, fd_set *writeset_in, fd_set *exceptset_in,
1309:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              fd_set *readset_out, fd_set *writeset_out, fd_set *exceptset_out)
1310:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1311:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i, nready = 0;
1312:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
1313:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1314:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
1315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1316:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lreadset);
1317:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
1318:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
1319:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Go through each socket in each list to count number of sockets which
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      currently match */
1322:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
1323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
1324:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!(readset_in && FD_ISSET(i, readset_in)) &&
1325:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 27


1326:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
1327:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       continue;
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1329:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* First get the socket's status (protected)... */
1330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_PROTECT(lev);
1331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock = tryget_socket(i);
1332:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock != NULL) {
1333:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       void* lastdata = sock->lastdata;
1334:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       s16_t rcvevent = sock->rcvevent;
1335:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t sendevent = sock->sendevent;
1336:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t errevent = sock->errevent;
1337:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
1338:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* ... then examine it: */
1340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* See if netconn of this socket is ready for read */
1341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (readset_in && FD_ISSET(i, readset_in) && ((lastdata != NULL) || (rcvevent > 0))) {
1342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
1343:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for reading\n", i));
1344:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
1345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1346:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* See if netconn of this socket is ready for write */
1347:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (writeset_in && FD_ISSET(i, writeset_in) && (sendevent != 0)) {
1348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
1349:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for writing\n", i));
1350:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
1351:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1352:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* See if netconn of this socket had an error */
1353:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (exceptset_in && FD_ISSET(i, exceptset_in) && (errevent != 0)) {
1354:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
1355:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for exception\n", i));
1356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
1357:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
1359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
1360:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* continue on to next FD in list */
1361:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1363:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* copy local sets to the ones provided as arguments */
1364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *readset_out = lreadset;
1365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *writeset_out = lwriteset;
1366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *exceptset_out = lexceptset;
1367:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("nready >= 0", nready >= 0);
1369:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
1370:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1371:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1372:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
1373:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_select(int maxfdp1, fd_set *readset, fd_set *writeset, fd_set *exceptset,
1374:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             struct timeval *timeout)
1375:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1376:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
1377:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
1378:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
1379:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t msectimeout;
1380:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_select_cb select_cb;
1381:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
1382:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int maxfdp2;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 28


1383:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
1384:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int waited = 0;
1385:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1386:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
1387:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select(%d, %p, %p, %p, tvsec=%"S32_F" tvusec=%"S32_F")\n",
1389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   maxfdp1, (void *)readset, (void *) writeset, (void *) exceptset,
1390:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   timeout ? (s32_t)timeout->tv_sec : (s32_t)-1,
1391:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   timeout ? (s32_t)timeout->tv_usec : (s32_t)-1));
1392:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Go through each socket in each list to count number of sockets which
1394:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      currently match */
1395:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nready = lwip_selscan(maxfdp1, readset, writeset, exceptset, &lreadset, &lwriteset, &lexceptset);
1396:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1397:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* If we don't have any current events, then suspend if we are supposed to */
1398:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!nready) {
1399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (timeout && timeout->tv_sec == 0 && timeout->tv_usec == 0) {
1400:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
1401:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* This is OK as the local fdsets are empty and nready is zero,
1402:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          or we would have returned earlier. */
1403:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       goto return_copy_fdsets;
1404:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1405:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1406:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* None ready: add our semaphore to list:
1407:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        We don't actually need any dynamic memory. Our entry on the
1408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        list is only valid while we are in this function, so it's ok
1409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        to use local variables. */
1410:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb.next = NULL;
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb.prev = NULL;
1413:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb.readset = readset;
1414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb.writeset = writeset;
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb.exceptset = exceptset;
1416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb.sem_signalled = 0;
1417:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb.sem = LWIP_NETCONN_THREAD_SEM_GET();
1419:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
1420:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sys_sem_new(&select_cb.sem, 0) != ERR_OK) {
1421:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* failed to create semaphore */
1422:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(ENOMEM);
1423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1424:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
1426:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1427:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect the select_cb_list */
1428:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_PROTECT(lev);
1429:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1430:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Put this select_cb on top of list */
1431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb.next = select_cb_list;
1432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (select_cb_list != NULL) {
1433:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       select_cb_list->prev = &select_cb;
1434:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1435:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = &select_cb;
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Increasing this counter tells event_callback that the list has changed. */
1437:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_ctr++;
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1439:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Now we can safely unprotect */
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 29


1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
1441:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Increase select_waiting for each socket we are interested in */
1443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     maxfdp2 = maxfdp1;
1444:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
1445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((readset && FD_ISSET(i, readset)) ||
1446:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (writeset && FD_ISSET(i, writeset)) ||
1447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (exceptset && FD_ISSET(i, exceptset))) {
1448:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         struct lwip_sock *sock;
1449:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_PROTECT(lev);
1450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock = tryget_socket(i);
1451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (sock != NULL) {
1452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->select_waiting++;
1453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_ASSERT("sock->select_waiting > 0", sock->select_waiting > 0);
1454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
1455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* Not a valid socket */
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           nready = -1;
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           maxfdp2 = i;
1458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           SYS_ARCH_UNPROTECT(lev);
1459:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1461:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
1462:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1463:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1464:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1465:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (nready >= 0) {
1466:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Call lwip_selscan again: there could have been events between
1467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          the last scan (without us on the list) and putting us on the list! */
1468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       nready = lwip_selscan(maxfdp1, readset, writeset, exceptset, &lreadset, &lwriteset, &lexcepts
1469:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (!nready) {
1470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Still none ready, just wait to be woken */
1471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (timeout == 0) {
1472:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* Wait forever */
1473:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           msectimeout = 0;
1474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           msectimeout =  ((timeout->tv_sec * 1000) + ((timeout->tv_usec + 500)/1000));
1476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (msectimeout == 0) {
1477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Wait 1ms at least (0 means wait forever) */
1478:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             msectimeout = 1;
1479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
1480:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1481:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1482:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         waitres = sys_arch_sem_wait(SELECT_SEM_PTR(select_cb.sem), msectimeout);
1483:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
1484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         waited = 1;
1485:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1488:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1489:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Decrease select_waiting for each socket we are interested in */
1490:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = LWIP_SOCKET_OFFSET; i < maxfdp2; i++) {
1491:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((readset && FD_ISSET(i, readset)) ||
1492:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (writeset && FD_ISSET(i, writeset)) ||
1493:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (exceptset && FD_ISSET(i, exceptset))) {
1494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         struct lwip_sock *sock;
1495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_PROTECT(lev);
1496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock = tryget_socket(i);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 30


1497:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (sock != NULL) {
1498:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* for now, handle select_waiting==0... */
1499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_ASSERT("sock->select_waiting > 0", sock->select_waiting > 0);
1500:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
1501:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting--;
1502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
1503:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
1504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* Not a valid socket */
1505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           nready = -1;
1506:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1507:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
1508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Take us off the list */
1511:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_PROTECT(lev);
1512:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (select_cb.next != NULL) {
1513:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       select_cb.next->prev = select_cb.prev;
1514:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1515:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (select_cb_list == &select_cb) {
1516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("select_cb.prev == NULL", select_cb.prev == NULL);
1517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       select_cb_list = select_cb.next;
1518:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
1519:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("select_cb.prev != NULL", select_cb.prev != NULL);
1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       select_cb.prev->next = select_cb.next;
1521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Increasing this counter tells event_callback that the list has changed. */
1523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_ctr++;
1524:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
1525:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1526:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
1527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (select_cb.sem_signalled && (!waited || (waitres == SYS_ARCH_TIMEOUT))) {
1528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* don't leave the thread-local semaphore signalled */
1529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sys_arch_sem_wait(select_cb.sem, 1);
1530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1531:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sys_sem_free(&select_cb.sem);
1533:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
1534:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (nready < 0) {
1536:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* This happens when a socket got closed while waiting */
1537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EBADF);
1538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1539:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1540:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (waitres == SYS_ARCH_TIMEOUT) {
1542:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Timeout */
1543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: timeout expired\n"));
1544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* This is OK as the local fdsets are empty and nready is zero,
1545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          or we would have returned earlier. */
1546:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       goto return_copy_fdsets;
1547:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1548:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1549:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* See what's set */
1550:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     nready = lwip_selscan(maxfdp1, readset, writeset, exceptset, &lreadset, &lwriteset, &lexceptset
1551:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1552:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 31


1554:Middlewares/Third_Party/LwIP/src/api/sockets.c **** return_copy_fdsets:
1555:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
1556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (readset) {
1557:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *readset = lreadset;
1558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1559:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (writeset) {
1560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *writeset = lwriteset;
1561:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (exceptset) {
1563:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *exceptset = lexceptset;
1564:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1565:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
1566:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1567:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
1569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Callback registered in the netconn layer for each socket-netconn.
1570:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Processes recvevent (data available) and wakes up tasks waiting for select.
1571:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
1573:Middlewares/Third_Party/LwIP/src/api/sockets.c **** event_callback(struct netconn *conn, enum netconn_evt evt, u16_t len)
1574:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int s;
1576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1577:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_select_cb *scb;
1578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int last_select_cb_ctr;
1579:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
1580:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(len);
1582:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1583:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Get socket */
1584:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (conn) {
1585:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     s = conn->socket;
1586:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (s < 0) {
1587:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Data comes in right away after an accept, even though
1588:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * the server task might not have created a new socket yet.
1589:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * Just count down (or up) if that's the case and we
1590:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * will use the data later. Note that only receive events
1591:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * can happen before the new socket is set up. */
1592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_PROTECT(lev);
1593:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (conn->socket < 0) {
1594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (evt == NETCONN_EVT_RCVPLUS) {
1595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           conn->socket--;
1596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
1598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return;
1599:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1600:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       s = conn->socket;
1601:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
1602:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1603:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock = get_socket(s);
1605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sock) {
1606:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return;
1607:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
1609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return;
1610:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 32


1611:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1612:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Set event as required */
1614:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (evt) {
1615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_RCVPLUS:
1616:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->rcvevent++;
1617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_RCVMINUS:
1619:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->rcvevent--;
1620:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1621:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_SENDPLUS:
1622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->sendevent = 1;
1623:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_SENDMINUS:
1625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->sendevent = 0;
1626:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1627:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_ERROR:
1628:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->errevent = 1;
1629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
1631:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("unknown event", 0);
1632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1634:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1635:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->select_waiting == 0) {
1636:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* noone is waiting for this socket, no need to check select_cb_list */
1637:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
1638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return;
1639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1640:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Now decide if anyone is waiting for this socket */
1642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* NOTE: This code goes through the select_cb_list list multiple times
1643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      ONLY IF a select was actually waiting. We go through the list the number
1644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      of waiting select calls + 1. This list is expected to be small. */
1645:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* At this point, SYS_ARCH is still protected! */
1647:Middlewares/Third_Party/LwIP/src/api/sockets.c **** again:
1648:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (scb = select_cb_list; scb != NULL; scb = scb->next) {
1649:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* remember the state of select_cb_list to detect changes */
1650:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     last_select_cb_ctr = select_cb_ctr;
1651:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
1652:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* semaphore not signalled yet */
1653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       int do_signal = 0;
1654:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Test this select call for our socket */
1655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->rcvevent > 0) {
1656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (scb->readset && FD_ISSET(s, scb->readset)) {
1657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           do_signal = 1;
1658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1659:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->sendevent != 0) {
1661:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (!do_signal && scb->writeset && FD_ISSET(s, scb->writeset)) {
1662:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           do_signal = 1;
1663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1664:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->errevent != 0) {
1666:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (!do_signal && scb->exceptset && FD_ISSET(s, scb->exceptset)) {
1667:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           do_signal = 1;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 33


1668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (do_signal) {
1671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         scb->sem_signalled = 1;
1672:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Don't call SYS_ARCH_UNPROTECT() before signaling the semaphore, as this might
1673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            lead to the select thread taking itself off the list, invalidating the semaphore. */
1674:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sys_sem_signal(SELECT_SEM_PTR(scb->sem));
1675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* unlock interrupts with each step */
1678:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* this makes sure interrupt protection time is short */
1680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_PROTECT(lev);
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (last_select_cb_ctr != select_cb_ctr) {
1682:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* someone has changed select_cb_list, restart at the beginning */
1683:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       goto again;
1684:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
1687:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1688:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1689:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
1690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Close one end of a full-duplex connection.
1691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
1692:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
1693:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_shutdown(int s, int how)
1694:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1696:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
1697:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t shut_rx = 0, shut_tx = 0;
1698:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_shutdown(%d, how=%d)\n", s, how));
1700:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
1702:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1703:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1705:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1706:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->conn != NULL) {
1707:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
1708:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
1709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1710:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1711:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
1712:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENOTCONN);
1713:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1715:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (how == SHUT_RD) {
1717:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
1718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (how == SHUT_WR) {
1719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_tx = 1;
1720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (how == SHUT_RDWR) {
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
1722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_tx = 1;
1723:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
1724:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EINVAL);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 34


1725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_shutdown(sock->conn, shut_rx, shut_tx);
1728:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1729:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(err));
1730:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? 0 : -1);
1731:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1732:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1733:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
1734:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getaddrname(int s, struct sockaddr *name, socklen_t *namelen, u8_t local)
1735:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1737:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
1738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t naddr;
1739:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t port;
1740:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
1741:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1742:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
1743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1744:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1745:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1746:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1747:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* get the IP address and port */
1748:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_getaddr(sock->conn, &naddr, &port, local);
1749:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
1750:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
1751:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1752:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1753:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1754:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
1755:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Dual-stack: Map IPv4 addresses to IPv4 mapped IPv6 */
1756:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_ISIPV6(netconn_type(sock->conn)) &&
1757:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP_IS_V4_VAL(naddr)) {
1758:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip4_2_ipv4_mapped_ipv6(ip_2_ip6(&naddr), ip_2_ip4(&naddr));
1759:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     IP_SET_TYPE_VAL(naddr, IPADDR_TYPE_V6);
1760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1761:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1762:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1763:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   IPADDR_PORT_TO_SOCKADDR(&saddr, &naddr, port);
1764:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1765:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getaddrname(%d, addr=", s));
1766:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, naddr);
1767:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", port));
1768:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1769:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*namelen > saddr.sa.sa_len) {
1770:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *namelen = saddr.sa.sa_len;
1771:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   MEMCPY(name, &saddr, *namelen);
1773:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1774:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
1775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
1776:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1777:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1778:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
1779:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getpeername(int s, struct sockaddr *name, socklen_t *namelen)
1780:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 0);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 35


1782:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1783:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1784:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
1785:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getsockname(int s, struct sockaddr *name, socklen_t *namelen)
1786:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1787:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 1);
1788:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1789:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1790:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
1791:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getsockopt(int s, int level, int optname, void *optval, socklen_t *optlen)
1792:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1793:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t err;
1794:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
1795:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
1796:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_DECLARE(data);
1797:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
1798:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1799:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1802:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((NULL == optval) || (NULL == optlen)) {
1804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1806:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1807:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
1809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* core-locking can just call the -impl function */
1810:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LOCK_TCPIP_CORE();
1811:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_getsockopt_impl(s, level, optname, optval, optlen);
1812:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
1813:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1814:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1815:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1816:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
1817:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* MPU_COMPATIBLE copies the optval data, so check for max size here */
1818:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*optlen > LWIP_SETGETSOCKOPT_MAXOPTLEN) {
1819:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENOBUFS);
1820:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1821:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1822:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
1823:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1824:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(data, sock);
1825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).s = s;
1826:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).level = level;
1827:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optname = optname;
1828:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen = *optlen;
1829:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_MPU_COMPATIBLE
1830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval.p = optval;
1831:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !LWIP_MPU_COMPATIBLE */
1832:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err = 0;
1833:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
1834:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = LWIP_NETCONN_THREAD_SEM_GET();
1835:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
1836:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = &sock->conn->op_completed;
1837:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = tcpip_callback(lwip_getsockopt_callback, &LWIP_SETGETSOCKOPT_DATA_VAR_REF(data));
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 36


1839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
1840:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
1841:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
1842:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sys_arch_sem_wait((sys_sem_t*)(LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem), 0);
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1846:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* write back optlen and optval */
1847:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *optlen = LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen;
1848:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
1849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   MEMCPY(optval, LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval,
1850:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen);
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
1852:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* maybe lwip_getsockopt_internal has changed err */
1854:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err;
1855:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
1856:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1857:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err);
1859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err ? -1 : 0;
1860:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1861:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1862:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
1863:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** lwip_getsockopt_callback: only used without CORE_LOCKING
1864:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * to get into the tcpip_thread
1865:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
1866:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
1867:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getsockopt_callback(void *arg)
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1869:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_setgetsockopt_data *data;
1870:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("arg != NULL", arg != NULL);
1871:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   data = (struct lwip_setgetsockopt_data*)arg;
1872:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1873:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   data->err = lwip_getsockopt_impl(data->s, data->level, data->optname,
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
1875:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     data->optval,
1876:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
1877:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     data->optval.p,
1878:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
1879:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     &data->optlen);
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1881:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sys_sem_signal((sys_sem_t*)(data->completed_sem));
1882:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1883:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif  /* LWIP_TCPIP_CORE_LOCKING */
1884:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1885:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** lwip_getsockopt_impl: the actual implementation of getsockopt:
1886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * same argument as lwip_getsockopt, either called directly or through callback
1887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
1888:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static u8_t
1889:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getsockopt_impl(int s, int level, int optname, void *optval, socklen_t *optlen)
1890:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t err = 0;
1892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
1893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1894:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return EBADF;
1895:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 37


1896:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (level) {
1898:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1899:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Level: SOL_SOCKET */
1900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case SOL_SOCKET:
1901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     switch (optname) {
1902:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1903:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_ACCEPTCONN:
1905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
1906:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
1907:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return ENOPROTOOPT;
1908:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((sock->conn->pcb.tcp != NULL) && (sock->conn->pcb.tcp->state == LISTEN)) {
1910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         *(int*)optval = 1;
1911:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
1912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         *(int*)optval = 0;
1913:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1914:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1915:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
1916:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1917:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* The option flags */
1918:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_BROADCAST:
1919:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_KEEPALIVE:
1920:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if SO_REUSE
1921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_REUSEADDR:
1922:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* SO_REUSE */
1923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
1924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = ip_get_option(sock->conn->pcb.ip, optname);
1925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, optname=0x%x, ..) = %s\n",
1926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   s, optname, (*(int*)optval?"on":"off")));
1927:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1928:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_TYPE:
1930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, int);
1931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
1932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       case NETCONN_RAW:
1933:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         *(int*)optval = SOCK_RAW;
1934:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
1935:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       case NETCONN_TCP:
1936:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         *(int*)optval = SOCK_STREAM;
1937:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
1938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       case NETCONN_UDP:
1939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         *(int*)optval = SOCK_DGRAM;
1940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
1941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       default: /* unrecognized socket type */
1942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         *(int*)optval = netconn_type(sock->conn);
1943:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG,
1944:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                     ("lwip_getsockopt(%d, SOL_SOCKET, SO_TYPE): unrecognized socket type %d\n",
1945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                     s, *(int *)optval));
1946:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (netconn_type(sock->conn)) */
1947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_TYPE) = %d\n",
1948:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, *(int *)optval));
1949:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1950:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1951:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_ERROR:
1952:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN(*optlen, int);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 38


1953:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* only overwrite ERR_OK or temporary errors */
1954:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (((sock->err == 0) || (sock->err == EINPROGRESS)) && (sock->conn != NULL)) {
1955:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, err_to_errno(sock->conn->last_err));
1956:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1957:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int *)optval = (sock->err == 0xFF ? (int)-1 : (int)sock->err);
1958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->err = 0;
1959:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
1960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, *(int *)optval));
1961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1962:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1963:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_SNDTIMEO
1964:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_SNDTIMEO:
1965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
1966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SO_SNDRCVTIMEO_SET(optval, netconn_get_sendtimeout(sock->conn));
1967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1968:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_SNDTIMEO */
1969:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVTIMEO
1970:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_RCVTIMEO:
1971:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
1972:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SO_SNDRCVTIMEO_SET(optval, netconn_get_recvtimeout(sock->conn));
1973:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1974:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVTIMEO */
1975:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF
1976:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_RCVBUF:
1977:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, int);
1978:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int *)optval = netconn_get_recvbufsize(sock->conn);
1979:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1980:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
1981:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_LINGER
1982:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_LINGER:
1983:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       {
1984:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         s16_t conn_linger;
1985:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         struct linger* linger = (struct linger*)optval;
1986:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, struct linger);
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         conn_linger = sock->conn->linger;
1988:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (conn_linger >= 0) {
1989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           linger->l_onoff = 1;
1990:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           linger->l_linger = (int)conn_linger;
1991:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
1992:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           linger->l_onoff = 0;
1993:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           linger->l_linger = 0;
1994:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1997:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_LINGER */
1998:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP
1999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_NO_CHECK:
2000:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, *optlen, int, NETCONN_UDP);
2001:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
2002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((udp_flags(sock->conn->pcb.udp) & UDP_FLAGS_UDPLITE) != 0) {
2003:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* this flag is only available for UDP, not for UDP lite */
2004:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return EAFNOSUPPORT;
2005:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2006:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDPLITE */
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = (udp_flags(sock->conn->pcb.udp) & UDP_FLAGS_NOCHKSUM) ? 1 : 0;
2008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2009:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP*/
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 39


2010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
2011:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, UNIMPL: optname=0x%x, ..)\n",
2012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, optname));
2013:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ENOPROTOOPT;
2014:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2015:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }  /* switch (optname) */
2016:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2017:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2018:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Level: IPPROTO_IP */
2019:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case IPPROTO_IP:
2020:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     switch (optname) {
2021:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IP_TTL:
2022:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
2023:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = sock->conn->pcb.ip->ttl;
2024:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TTL) = %d\n",
2025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, *(int *)optval));
2026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IP_TOS:
2028:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
2029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = sock->conn->pcb.ip->tos;
2030:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TOS) = %d\n",
2031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, *(int *)optval));
2032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MULTICAST_TX_OPTIONS
2034:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IP_MULTICAST_TTL:
2035:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, u8_t);
2036:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_UDP) {
2037:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return ENOPROTOOPT;
2038:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(u8_t*)optval = udp_get_multicast_ttl(sock->conn->pcb.udp);
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_MULTICAST_TTL) = %d\n",
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, *(int *)optval));
2042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IP_MULTICAST_IF:
2044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, struct in_addr);
2045:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_UDP) {
2046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return ENOPROTOOPT;
2047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       inet_addr_from_ip4addr((struct in_addr*)optval, udp_get_multicast_netif_addr(sock->conn->pcb.
2049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_MULTICAST_IF) = 0x%"X32_F"\n"
2050:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, *(u32_t *)optval));
2051:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2052:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IP_MULTICAST_LOOP:
2053:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, u8_t);
2054:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((sock->conn->pcb.udp->flags & UDP_FLAGS_MULTICAST_LOOP) != 0) {
2055:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         *(u8_t*)optval = 1;
2056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2057:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         *(u8_t*)optval = 0;
2058:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_MULTICAST_LOOP) = %d\n",
2060:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, *(int *)optval));
2061:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2062:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MULTICAST_TX_OPTIONS */
2063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
2064:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, UNIMPL: optname=0x%x, ..)\n",
2065:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, optname));
2066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ENOPROTOOPT;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 40


2067:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2068:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }  /* switch (optname) */
2069:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2070:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2071:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
2072:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Level: IPPROTO_TCP */
2073:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case IPPROTO_TCP:
2074:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Special case: all IPPROTO_TCP option take an int */
2075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, *optlen, int, NETCONN_TCP);
2076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->conn->pcb.tcp->state == LISTEN) {
2077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return EINVAL;
2078:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2079:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     switch (optname) {
2080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case TCP_NODELAY:
2081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = tcp_nagle_disabled(sock->conn->pcb.tcp);
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_NODELAY) = %s\n",
2083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, (*(int*)optval)?"on":"off") );
2084:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case TCP_KEEPALIVE:
2086:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = (int)sock->conn->pcb.tcp->keep_idle;
2087:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) = %d\n",
2088:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, *(int *)optval));
2089:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2090:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2091:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP_KEEPALIVE
2092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case TCP_KEEPIDLE:
2093:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = (int)(sock->conn->pcb.tcp->keep_idle/1000);
2094:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPIDLE) = %d\n",
2095:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, *(int *)optval));
2096:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2097:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case TCP_KEEPINTVL:
2098:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = (int)(sock->conn->pcb.tcp->keep_intvl/1000);
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPINTVL) = %d\n",
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, *(int *)optval));
2101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case TCP_KEEPCNT:
2103:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = (int)sock->conn->pcb.tcp->keep_cnt;
2104:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPCNT) = %d\n",
2105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, *(int *)optval));
2106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2107:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP_KEEPALIVE */
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
2109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, UNIMPL: optname=0x%x, ..)\n",
2110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, optname));
2111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ENOPROTOOPT;
2112:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2113:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }  /* switch (optname) */
2114:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2115:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
2116:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2117:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
2118:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Level: IPPROTO_IPV6 */
2119:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case IPPROTO_IPV6:
2120:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     switch (optname) {
2121:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPV6_V6ONLY:
2122:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, int);
2123:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = (netconn_get_ipv6only(sock->conn) ? 1 : 0);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 41


2124:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IPV6, IPV6_V6ONLY) = %d\n",
2125:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, *(int *)optval));
2126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
2128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IPV6, UNIMPL: optname=0x%x, ..)\n",
2129:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, optname));
2130:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ENOPROTOOPT;
2131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2132:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }  /* switch (optname) */
2133:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2134:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
2135:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2136:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP && LWIP_UDPLITE
2137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Level: IPPROTO_UDPLITE */
2138:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case IPPROTO_UDPLITE:
2139:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Special case: all IPPROTO_UDPLITE option take an int */
2140:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
2141:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* If this is no UDP lite socket, ignore any options. */
2142:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!NETCONNTYPE_ISUDPLITE(netconn_type(sock->conn))) {
2143:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return ENOPROTOOPT;
2144:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2145:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     switch (optname) {
2146:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case UDPLITE_SEND_CSCOV:
2147:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = sock->conn->pcb.udp->chksum_len_tx;
2148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_UDPLITE, UDPLITE_SEND_CSCOV) = %d\n"
2149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, (*(int*)optval)) );
2150:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case UDPLITE_RECV_CSCOV:
2152:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = sock->conn->pcb.udp->chksum_len_rx;
2153:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_UDPLITE, UDPLITE_RECV_CSCOV) = %d\n"
2154:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, (*(int*)optval)) );
2155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2156:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
2157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_UDPLITE, UNIMPL: optname=0x%x, ..)\n
2158:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, optname));
2159:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ENOPROTOOPT;
2160:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2161:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }  /* switch (optname) */
2162:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2163:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP */
2164:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Level: IPPROTO_RAW */
2165:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case IPPROTO_RAW:
2166:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     switch (optname) {
2167:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6 && LWIP_RAW
2168:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPV6_CHECKSUM:
2169:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, *optlen, int, NETCONN_RAW);
2170:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.raw->chksum_reqd == 0) {
2171:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         *(int *)optval = -1;
2172:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2173:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         *(int *)optval = sock->conn->pcb.raw->chksum_offset;
2174:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2175:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_RAW, IPV6_CHECKSUM) = %d\n",
2176:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, (*(int*)optval)) );
2177:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2178:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 && LWIP_RAW */
2179:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
2180:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_RAW, UNIMPL: optname=0x%x, ..)\n",
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 42


2181:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, optname));
2182:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ENOPROTOOPT;
2183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2184:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }  /* switch (optname) */
2185:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2186:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   default:
2187:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, level=0x%x, UNIMPL: optname=0x%x, ..)\n",
2188:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                 s, level, optname));
2189:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = ENOPROTOOPT;
2190:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2191:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } /* switch (level) */
2192:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2193:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err;
2194:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2195:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2196:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
2197:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_setsockopt(int s, int level, int optname, const void *optval, socklen_t optlen)
2198:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2199:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t err = 0;
2200:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
2202:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_DECLARE(data);
2203:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
2204:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2205:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
2206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2208:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2209:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NULL == optval) {
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
2211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2213:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2214:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
2215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* core-locking can just call the -impl function */
2216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LOCK_TCPIP_CORE();
2217:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_setsockopt_impl(s, level, optname, optval, optlen);
2218:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
2219:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2220:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
2221:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2222:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
2223:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* MPU_COMPATIBLE copies the optval data, so check for max size here */
2224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (optlen > LWIP_SETGETSOCKOPT_MAXOPTLEN) {
2225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENOBUFS);
2226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2228:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
2229:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(data, sock);
2231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).s = s;
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).level = level;
2233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optname = optname;
2234:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen = optlen;
2235:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
2236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   MEMCPY(LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval, optval, optlen);
2237:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 43


2238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval.pc = (const void*)optval;
2239:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
2240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err = 0;
2241:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = LWIP_NETCONN_THREAD_SEM_GET();
2243:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
2244:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = &sock->conn->op_completed;
2245:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = tcpip_callback(lwip_setsockopt_callback, &LWIP_SETGETSOCKOPT_DATA_VAR_REF(data));
2247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
2248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
2249:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
2250:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2251:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2252:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sys_arch_sem_wait((sys_sem_t*)(LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem), 0);
2253:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* maybe lwip_getsockopt_internal has changed err */
2255:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err;
2256:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
2257:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif  /* LWIP_TCPIP_CORE_LOCKING */
2258:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err);
2260:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err ? -1 : 0;
2261:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2262:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2263:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
2264:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** lwip_setsockopt_callback: only used without CORE_LOCKING
2265:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * to get into the tcpip_thread
2266:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2267:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
2268:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_setsockopt_callback(void *arg)
2269:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2270:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_setgetsockopt_data *data;
2271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("arg != NULL", arg != NULL);
2272:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   data = (struct lwip_setgetsockopt_data*)arg;
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2274:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   data->err = lwip_setsockopt_impl(data->s, data->level, data->optname,
2275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
2276:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     data->optval,
2277:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
2278:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     data->optval.pc,
2279:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
2280:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     data->optlen);
2281:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2282:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sys_sem_signal((sys_sem_t*)(data->completed_sem));
2283:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2284:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif  /* LWIP_TCPIP_CORE_LOCKING */
2285:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2286:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** lwip_setsockopt_impl: the actual implementation of setsockopt:
2287:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * same argument as lwip_setsockopt, either called directly or through callback
2288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2289:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static u8_t
2290:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_setsockopt_impl(int s, int level, int optname, const void *optval, socklen_t optlen)
2291:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 156              		.loc 1 2291 0
 157              		.cfi_startproc
 158              		@ args = 4, pretend = 0, frame = 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 44


 159              		@ frame_needed = 0, uses_anonymous_args = 0
 160              	.LVL15:
 161 0000 70B5     		push	{r4, r5, r6, lr}
 162              	.LCFI3:
 163              		.cfi_def_cfa_offset 16
 164              		.cfi_offset 4, -16
 165              		.cfi_offset 5, -12
 166              		.cfi_offset 6, -8
 167              		.cfi_offset 14, -4
 168 0002 0C46     		mov	r4, r1
 169 0004 1546     		mov	r5, r2
 170 0006 1E46     		mov	r6, r3
 171              	.LVL16:
2292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t err = 0;
2293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 172              		.loc 1 2293 0
 173 0008 FFF7FEFF 		bl	tryget_socket
 174              	.LVL17:
2294:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 175              		.loc 1 2294 0
 176 000c 0028     		cmp	r0, #0
 177 000e 00F08F80 		beq	.L31
 178 0012 0346     		mov	r3, r0
2295:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return EBADF;
2296:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2297:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2298:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (level) {
 179              		.loc 1 2298 0
 180 0014 062C     		cmp	r4, #6
 181 0016 61D0     		beq	.L19
 182 0018 40F6FF72 		movw	r2, #4095
 183 001c 9442     		cmp	r4, r2
 184 001e 03D0     		beq	.L20
 185 0020 002C     		cmp	r4, #0
 186 0022 3DD0     		beq	.L59
2299:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2300:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Level: SOL_SOCKET */
2301:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case SOL_SOCKET:
2302:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     switch (optname) {
2303:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* SO_ACCEPTCONN is get-only */
2305:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2306:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* The option flags */
2307:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_BROADCAST:
2308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_KEEPALIVE:
2309:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if SO_REUSE
2310:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_REUSEADDR:
2311:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* SO_REUSE */
2312:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
2313:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (*(const int*)optval) {
2314:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ip_set_option(sock->conn->pcb.ip, optname);
2315:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2316:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ip_reset_option(sock->conn->pcb.ip, optname);
2317:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2318:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, SOL_SOCKET, optname=0x%x, ..) -> %s\n",
2319:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, optname, (*(const int*)optval?"on":"off")));
2320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 45


2321:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2322:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* SO_TYPE is get-only */
2323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* SO_ERROR is get-only */
2324:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2325:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_SNDTIMEO
2326:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_SNDTIMEO:
2327:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
2328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netconn_set_sendtimeout(sock->conn, LWIP_SO_SNDRCVTIMEO_GET_MS(optval));
2329:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_SNDTIMEO */
2331:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVTIMEO
2332:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_RCVTIMEO:
2333:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
2334:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netconn_set_recvtimeout(sock->conn, (int)LWIP_SO_SNDRCVTIMEO_GET_MS(optval));
2335:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2336:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVTIMEO */
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF
2338:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_RCVBUF:
2339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, int);
2340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netconn_set_recvbufsize(sock->conn, *(const int*)optval);
2341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2342:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
2343:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_LINGER
2344:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_LINGER:
2345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       {
2346:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         const struct linger* linger = (const struct linger*)optval;
2347:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, struct linger);
2348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (linger->l_onoff) {
2349:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           int lingersec = linger->l_linger;
2350:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (lingersec < 0) {
2351:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EINVAL;
2352:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2353:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (lingersec > 0xFFFF) {
2354:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             lingersec = 0xFFFF;
2355:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->linger = (s16_t)lingersec;
2357:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
2358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->linger = -1;
2359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2360:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2361:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2362:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_LINGER */
2363:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP
2364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SO_NO_CHECK:
2365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_UDP);
2366:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
2367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((udp_flags(sock->conn->pcb.udp) & UDP_FLAGS_UDPLITE) != 0) {
2368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* this flag is only available for UDP, not for UDP lite */
2369:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return EAFNOSUPPORT;
2370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2371:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDPLITE */
2372:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (*(const int*)optval) {
2373:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         udp_setflags(sock->conn->pcb.udp, udp_flags(sock->conn->pcb.udp) | UDP_FLAGS_NOCHKSUM);
2374:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2375:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         udp_setflags(sock->conn->pcb.udp, udp_flags(sock->conn->pcb.udp) & ~UDP_FLAGS_NOCHKSUM);
2376:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2377:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 46


2378:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP */
2379:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
2380:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, SOL_SOCKET, UNIMPL: optname=0x%x, ..)\n",
2381:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, optname));
2382:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ENOPROTOOPT;
2383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2384:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }  /* switch (optname) */
2385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2386:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2387:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Level: IPPROTO_IP */
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case IPPROTO_IP:
2389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     switch (optname) {
2390:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IP_TTL:
2391:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
2392:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->conn->pcb.ip->ttl = (u8_t)(*(const int*)optval);
2393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TTL, ..) -> %d\n",
2394:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, sock->conn->pcb.ip->ttl));
2395:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2396:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IP_TOS:
2397:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
2398:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->conn->pcb.ip->tos = (u8_t)(*(const int*)optval);
2399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TOS, ..)-> %d\n",
2400:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, sock->conn->pcb.ip->tos));
2401:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2402:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MULTICAST_TX_OPTIONS
2403:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IP_MULTICAST_TTL:
2404:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, u8_t, NETCONN_UDP);
2405:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       udp_set_multicast_ttl(sock->conn->pcb.udp, (u8_t)(*(const u8_t*)optval));
2406:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2407:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IP_MULTICAST_IF:
2408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       {
2409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ip4_addr_t if_addr;
2410:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, struct in_addr, NETCONN_UDP);
2411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         inet_addr_to_ip4addr(&if_addr, (const struct in_addr*)optval);
2412:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         udp_set_multicast_netif_addr(sock->conn->pcb.udp, &if_addr);
2413:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IP_MULTICAST_LOOP:
2416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, u8_t, NETCONN_UDP);
2417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (*(const u8_t*)optval) {
2418:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         udp_setflags(sock->conn->pcb.udp, udp_flags(sock->conn->pcb.udp) | UDP_FLAGS_MULTICAST_LOOP
2419:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2420:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         udp_setflags(sock->conn->pcb.udp, udp_flags(sock->conn->pcb.udp) & ~UDP_FLAGS_MULTICAST_LOO
2421:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2422:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2423:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MULTICAST_TX_OPTIONS */
2424:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IGMP
2425:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IP_ADD_MEMBERSHIP:
2426:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IP_DROP_MEMBERSHIP:
2427:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       {
2428:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* If this is a TCP or a RAW socket, ignore these options. */
2429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* @todo: assign membership to this socket so that it is dropped when closing the socket */
2430:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err_t igmp_err;
2431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         const struct ip_mreq *imr = (const struct ip_mreq *)optval;
2432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ip4_addr_t if_addr;
2433:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ip4_addr_t multi_addr;
2434:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, struct ip_mreq, NETCONN_UDP);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 47


2435:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         inet_addr_to_ip4addr(&if_addr, &imr->imr_interface);
2436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         inet_addr_to_ip4addr(&multi_addr, &imr->imr_multiaddr);
2437:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (optname == IP_ADD_MEMBERSHIP) {
2438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!lwip_socket_register_membership(s, &if_addr, &multi_addr)) {
2439:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* cannot track membership (out of memory) */
2440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             err = ENOMEM;
2441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             igmp_err = ERR_OK;
2442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
2443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             igmp_err = igmp_joingroup(&if_addr, &multi_addr);
2444:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
2446:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           igmp_err = igmp_leavegroup(&if_addr, &multi_addr);
2447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           lwip_socket_unregister_membership(s, &if_addr, &multi_addr);
2448:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2449:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (igmp_err != ERR_OK) {
2450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = EADDRNOTAVAIL;
2451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2454:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IGMP */
2455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
2456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, UNIMPL: optname=0x%x, ..)\n",
2457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, optname));
2458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ENOPROTOOPT;
2459:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2460:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }  /* switch (optname) */
2461:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2462:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2463:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
2464:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Level: IPPROTO_TCP */
2465:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case IPPROTO_TCP:
2466:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Special case: all IPPROTO_TCP option take an int */
2467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_TCP);
2468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->conn->pcb.tcp->state == LISTEN) {
2469:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return EINVAL;
2470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     switch (optname) {
2472:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case TCP_NODELAY:
2473:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (*(const int*)optval) {
2474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         tcp_nagle_disable(sock->conn->pcb.tcp);
2475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         tcp_nagle_enable(sock->conn->pcb.tcp);
2477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2478:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_NODELAY) -> %s\n",
2479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, (*(const int *)optval)?"on":"off") );
2480:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case TCP_KEEPALIVE:
2482:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->conn->pcb.tcp->keep_idle = (u32_t)(*(const int*)optval);
2483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) -> %"U32_F"\n",
2484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, sock->conn->pcb.tcp->keep_idle));
2485:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2486:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2487:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP_KEEPALIVE
2488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case TCP_KEEPIDLE:
2489:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->conn->pcb.tcp->keep_idle = 1000*(u32_t)(*(const int*)optval);
2490:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPIDLE) -> %"U32_F"\n",
2491:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, sock->conn->pcb.tcp->keep_idle));
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 48


2492:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2493:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case TCP_KEEPINTVL:
2494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->conn->pcb.tcp->keep_intvl = 1000*(u32_t)(*(const int*)optval);
2495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPINTVL) -> %"U32_F"\n",
2496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, sock->conn->pcb.tcp->keep_intvl));
2497:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2498:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case TCP_KEEPCNT:
2499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->conn->pcb.tcp->keep_cnt = (u32_t)(*(const int*)optval);
2500:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPCNT) -> %"U32_F"\n",
2501:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, sock->conn->pcb.tcp->keep_cnt));
2502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2503:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP_KEEPALIVE */
2504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
2505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, UNIMPL: optname=0x%x, ..)\n",
2506:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, optname));
2507:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ENOPROTOOPT;
2508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }  /* switch (optname) */
2510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2511:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP*/
2512:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2513:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
2514:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Level: IPPROTO_IPV6 */
2515:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case IPPROTO_IPV6:
2516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     switch (optname) {
2517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPV6_V6ONLY:
2518:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_TCP);
2519:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (*(const int*)optval) {
2520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         netconn_set_ipv6only(sock->conn, 1);
2521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         netconn_set_ipv6only(sock->conn, 0);
2523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2524:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IPV6, IPV6_V6ONLY, ..) -> %d\n",
2525:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, (netconn_get_ipv6only(sock->conn) ? 1 : 0)));
2526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
2528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IPV6, UNIMPL: optname=0x%x, ..)\n",
2529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, optname));
2530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ENOPROTOOPT;
2531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }  /* switch (optname) */
2533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2534:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
2535:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2536:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP && LWIP_UDPLITE
2537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Level: IPPROTO_UDPLITE */
2538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case IPPROTO_UDPLITE:
2539:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Special case: all IPPROTO_UDPLITE option take an int */
2540:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
2541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* If this is no UDP lite socket, ignore any options. */
2542:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!NETCONNTYPE_ISUDPLITE(netconn_type(sock->conn))) {
2543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return ENOPROTOOPT;
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     switch (optname) {
2546:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case UDPLITE_SEND_CSCOV:
2547:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((*(const int*)optval != 0) && ((*(const int*)optval < 8) || (*(const int*)optval > 0xffff
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* don't allow illegal values! */
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 49


2549:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->conn->pcb.udp->chksum_len_tx = 8;
2550:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2551:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->conn->pcb.udp->chksum_len_tx = (u16_t)*(const int*)optval;
2552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_UDPLITE, UDPLITE_SEND_CSCOV) -> %d\n
2554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, (*(const int*)optval)) );
2555:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case UDPLITE_RECV_CSCOV:
2557:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((*(const int*)optval != 0) && ((*(const int*)optval < 8) || (*(const int*)optval > 0xffff
2558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* don't allow illegal values! */
2559:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->conn->pcb.udp->chksum_len_rx = 8;
2560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2561:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->conn->pcb.udp->chksum_len_rx = (u16_t)*(const int*)optval;
2562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2563:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_UDPLITE, UDPLITE_RECV_CSCOV) -> %d\n
2564:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, (*(const int*)optval)) );
2565:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2566:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
2567:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_UDPLITE, UNIMPL: optname=0x%x, ..)\n
2568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, optname));
2569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ENOPROTOOPT;
2570:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2571:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }  /* switch (optname) */
2572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2573:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP */
2574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Level: IPPROTO_RAW */
2575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case IPPROTO_RAW:
2576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     switch (optname) {
2577:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6 && LWIP_RAW
2578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPV6_CHECKSUM:
2579:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* It should not be possible to disable the checksum generation with ICMPv6
2580:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * as per RFC 3542 chapter 3.1 */
2581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if(sock->conn->pcb.raw->protocol == IPPROTO_ICMPV6) {
2582:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return EINVAL;
2583:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2584:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2585:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_RAW);
2586:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (*(const int *)optval < 0) {
2587:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->conn->pcb.raw->chksum_reqd = 0;
2588:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else if (*(const int *)optval & 1) {
2589:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Per RFC3542, odd offsets are not allowed */
2590:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return EINVAL;
2591:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->conn->pcb.raw->chksum_reqd = 1;
2593:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->conn->pcb.raw->chksum_offset = (u16_t)*(const int *)optval;
2594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_RAW, IPV6_CHECKSUM, ..) -> %d\n",
2596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   s, sock->conn->pcb.raw->chksum_reqd));
2597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2598:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 && LWIP_RAW */
2599:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
2600:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_RAW, UNIMPL: optname=0x%x, ..)\n",
2601:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   s, optname));
2602:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ENOPROTOOPT;
 187              		.loc 1 2602 0
 188 0024 5C20     		movs	r0, #92
 189              	.LVL18:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 50


 190              	.L18:
2603:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }  /* switch (optname) */
2605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2606:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   default:
2607:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, level=0x%x, UNIMPL: optname=0x%x, ..)\n",
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                 s, level, optname));
2609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = ENOPROTOOPT;
2610:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }  /* switch (level) */
2612:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err;
2614:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 191              		.loc 1 2614 0
 192 0026 70BD     		pop	{r4, r5, r6, pc}
 193              	.LVL19:
 194              	.L20:
2302:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 195              		.loc 1 2302 0
 196 0028 202D     		cmp	r5, #32
 197 002a 07D0     		beq	.L22
 198 002c 41F20A02 		movw	r2, #4106
 199 0030 9542     		cmp	r5, r2
 200 0032 19D0     		beq	.L23
 201 0034 082D     		cmp	r5, #8
 202 0036 01D0     		beq	.L22
2382:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 203              		.loc 1 2382 0
 204 0038 5C20     		movs	r0, #92
 205              	.LVL20:
 206 003a F4E7     		b	.L18
 207              	.LVL21:
 208              	.L22:
2312:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (*(const int*)optval) {
 209              		.loc 1 2312 0
 210 003c 049A     		ldr	r2, [sp, #16]
 211 003e 032A     		cmp	r2, #3
 212 0040 78D9     		bls	.L34
2312:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (*(const int*)optval) {
 213              		.loc 1 2312 0 is_stmt 0 discriminator 2
 214 0042 1B68     		ldr	r3, [r3]
 215 0044 002B     		cmp	r3, #0
 216 0046 77D0     		beq	.L35
2312:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (*(const int*)optval) {
 217              		.loc 1 2312 0 discriminator 4
 218 0048 5B68     		ldr	r3, [r3, #4]
 219 004a 002B     		cmp	r3, #0
 220 004c 76D0     		beq	.L36
2313:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ip_set_option(sock->conn->pcb.ip, optname);
 221              		.loc 1 2313 0 is_stmt 1
 222 004e 3268     		ldr	r2, [r6]
 223 0050 22B1     		cbz	r2, .L24
2314:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
 224              		.loc 1 2314 0
 225 0052 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 226 0054 1543     		orrs	r5, r5, r2
 227              	.LVL22:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 51


 228 0056 1D72     		strb	r5, [r3, #8]
2292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 229              		.loc 1 2292 0
 230 0058 0020     		movs	r0, #0
 231              	.LVL23:
 232 005a E4E7     		b	.L18
 233              	.LVL24:
 234              	.L24:
2316:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 235              		.loc 1 2316 0
 236 005c 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 237 005e 22EA0505 		bic	r5, r2, r5
 238              	.LVL25:
 239 0062 1D72     		strb	r5, [r3, #8]
2292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 240              		.loc 1 2292 0
 241 0064 0020     		movs	r0, #0
 242              	.LVL26:
 243 0066 DEE7     		b	.L18
 244              	.LVL27:
 245              	.L23:
2365:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 246              		.loc 1 2365 0
 247 0068 049A     		ldr	r2, [sp, #16]
 248 006a 032A     		cmp	r2, #3
 249 006c 68D9     		bls	.L37
2365:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 250              		.loc 1 2365 0 is_stmt 0 discriminator 2
 251 006e 0368     		ldr	r3, [r0]
 252 0070 002B     		cmp	r3, #0
 253 0072 67D0     		beq	.L38
2365:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 254              		.loc 1 2365 0 discriminator 4
 255 0074 5A68     		ldr	r2, [r3, #4]
 256 0076 002A     		cmp	r2, #0
 257 0078 66D0     		beq	.L39
2365:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 258              		.loc 1 2365 0 discriminator 6
 259 007a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 260 007c 03F0F003 		and	r3, r3, #240
 261 0080 202B     		cmp	r3, #32
 262 0082 63D1     		bne	.L40
2372:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         udp_setflags(sock->conn->pcb.udp, udp_flags(sock->conn->pcb.udp) | UDP_FLAGS_NOCHKSUM);
 263              		.loc 1 2372 0 is_stmt 1
 264 0084 3368     		ldr	r3, [r6]
 265 0086 2BB1     		cbz	r3, .L25
2373:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
 266              		.loc 1 2373 0
 267 0088 137C     		ldrb	r3, [r2, #16]	@ zero_extendqisi2
 268 008a 43F00103 		orr	r3, r3, #1
 269 008e 1374     		strb	r3, [r2, #16]
2292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 270              		.loc 1 2292 0
 271 0090 0020     		movs	r0, #0
 272              	.LVL28:
 273 0092 C8E7     		b	.L18
 274              	.LVL29:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 52


 275              	.L25:
2375:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 276              		.loc 1 2375 0
 277 0094 137C     		ldrb	r3, [r2, #16]	@ zero_extendqisi2
 278 0096 03F0FE03 		and	r3, r3, #254
 279 009a 1374     		strb	r3, [r2, #16]
2292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 280              		.loc 1 2292 0
 281 009c 0020     		movs	r0, #0
 282              	.LVL30:
 283 009e C2E7     		b	.L18
 284              	.LVL31:
 285              	.L59:
2389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IP_TTL:
 286              		.loc 1 2389 0
 287 00a0 012D     		cmp	r5, #1
 288 00a2 0ED0     		beq	.L26
 289 00a4 022D     		cmp	r5, #2
 290 00a6 53D1     		bne	.L56
2391:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->conn->pcb.ip->ttl = (u8_t)(*(const int*)optval);
 291              		.loc 1 2391 0
 292 00a8 049A     		ldr	r2, [sp, #16]
 293 00aa 032A     		cmp	r2, #3
 294 00ac 52D9     		bls	.L42
2391:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->conn->pcb.ip->ttl = (u8_t)(*(const int*)optval);
 295              		.loc 1 2391 0 is_stmt 0 discriminator 2
 296 00ae 0368     		ldr	r3, [r0]
 297 00b0 002B     		cmp	r3, #0
 298 00b2 51D0     		beq	.L43
2391:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->conn->pcb.ip->ttl = (u8_t)(*(const int*)optval);
 299              		.loc 1 2391 0 discriminator 4
 300 00b4 5B68     		ldr	r3, [r3, #4]
 301 00b6 002B     		cmp	r3, #0
 302 00b8 50D0     		beq	.L44
2392:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TTL, ..) -> %d\n",
 303              		.loc 1 2392 0 is_stmt 1
 304 00ba 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
 305 00bc 9A72     		strb	r2, [r3, #10]
2292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 306              		.loc 1 2292 0
 307 00be 0020     		movs	r0, #0
 308              	.LVL32:
2395:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IP_TOS:
 309              		.loc 1 2395 0
 310 00c0 B1E7     		b	.L18
 311              	.LVL33:
 312              	.L26:
2397:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->conn->pcb.ip->tos = (u8_t)(*(const int*)optval);
 313              		.loc 1 2397 0
 314 00c2 049A     		ldr	r2, [sp, #16]
 315 00c4 032A     		cmp	r2, #3
 316 00c6 4BD9     		bls	.L45
2397:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->conn->pcb.ip->tos = (u8_t)(*(const int*)optval);
 317              		.loc 1 2397 0 is_stmt 0 discriminator 2
 318 00c8 0368     		ldr	r3, [r0]
 319 00ca 002B     		cmp	r3, #0
 320 00cc 4AD0     		beq	.L46
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 53


2397:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->conn->pcb.ip->tos = (u8_t)(*(const int*)optval);
 321              		.loc 1 2397 0 discriminator 4
 322 00ce 5B68     		ldr	r3, [r3, #4]
 323 00d0 002B     		cmp	r3, #0
 324 00d2 49D0     		beq	.L47
2398:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TOS, ..)-> %d\n",
 325              		.loc 1 2398 0 is_stmt 1
 326 00d4 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
 327 00d6 5A72     		strb	r2, [r3, #9]
2292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 328              		.loc 1 2292 0
 329 00d8 0020     		movs	r0, #0
 330              	.LVL34:
2401:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MULTICAST_TX_OPTIONS
 331              		.loc 1 2401 0
 332 00da A4E7     		b	.L18
 333              	.LVL35:
 334              	.L19:
2467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->conn->pcb.tcp->state == LISTEN) {
 335              		.loc 1 2467 0
 336 00dc 049A     		ldr	r2, [sp, #16]
 337 00de 032A     		cmp	r2, #3
 338 00e0 44D9     		bls	.L48
2467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->conn->pcb.tcp->state == LISTEN) {
 339              		.loc 1 2467 0 is_stmt 0 discriminator 2
 340 00e2 0368     		ldr	r3, [r0]
 341 00e4 002B     		cmp	r3, #0
 342 00e6 43D0     		beq	.L49
2467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->conn->pcb.tcp->state == LISTEN) {
 343              		.loc 1 2467 0 discriminator 4
 344 00e8 5A68     		ldr	r2, [r3, #4]
 345 00ea 002A     		cmp	r2, #0
 346 00ec 42D0     		beq	.L50
2467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->conn->pcb.tcp->state == LISTEN) {
 347              		.loc 1 2467 0 discriminator 6
 348 00ee 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 349 00f0 03F0F003 		and	r3, r3, #240
 350 00f4 102B     		cmp	r3, #16
 351 00f6 3FD1     		bne	.L51
2468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return EINVAL;
 352              		.loc 1 2468 0 is_stmt 1
 353 00f8 137D     		ldrb	r3, [r2, #20]	@ zero_extendqisi2
 354 00fa 012B     		cmp	r3, #1
 355 00fc 3ED0     		beq	.L52
2471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case TCP_NODELAY:
 356              		.loc 1 2471 0
 357 00fe 012D     		cmp	r5, #1
 358 0100 03D0     		beq	.L28
 359 0102 022D     		cmp	r5, #2
 360 0104 0FD0     		beq	.L29
2507:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 361              		.loc 1 2507 0
 362 0106 5C20     		movs	r0, #92
 363              	.LVL36:
 364 0108 8DE7     		b	.L18
 365              	.LVL37:
 366              	.L28:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 54


2473:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         tcp_nagle_disable(sock->conn->pcb.tcp);
 367              		.loc 1 2473 0
 368 010a 3368     		ldr	r3, [r6]
 369 010c 2BB1     		cbz	r3, .L30
2474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
 370              		.loc 1 2474 0
 371 010e 937E     		ldrb	r3, [r2, #26]	@ zero_extendqisi2
 372 0110 43F04003 		orr	r3, r3, #64
 373 0114 9376     		strb	r3, [r2, #26]
2292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 374              		.loc 1 2292 0
 375 0116 0020     		movs	r0, #0
 376              	.LVL38:
 377 0118 85E7     		b	.L18
 378              	.LVL39:
 379              	.L30:
2476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 380              		.loc 1 2476 0
 381 011a 937E     		ldrb	r3, [r2, #26]	@ zero_extendqisi2
 382 011c 03F0BF03 		and	r3, r3, #191
 383 0120 9376     		strb	r3, [r2, #26]
2292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 384              		.loc 1 2292 0
 385 0122 0020     		movs	r0, #0
 386              	.LVL40:
 387 0124 7FE7     		b	.L18
 388              	.LVL41:
 389              	.L29:
2482:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) -> %"U32_F"\n",
 390              		.loc 1 2482 0
 391 0126 3368     		ldr	r3, [r6]
 392 0128 C2F89030 		str	r3, [r2, #144]
2292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 393              		.loc 1 2292 0
 394 012c 0020     		movs	r0, #0
 395              	.LVL42:
2485:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 396              		.loc 1 2485 0
 397 012e 7AE7     		b	.L18
 398              	.LVL43:
 399              	.L31:
2295:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 400              		.loc 1 2295 0
 401 0130 0920     		movs	r0, #9
 402              	.LVL44:
 403 0132 78E7     		b	.L18
 404              	.LVL45:
 405              	.L34:
2312:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (*(const int*)optval) {
 406              		.loc 1 2312 0
 407 0134 1620     		movs	r0, #22
 408              	.LVL46:
 409 0136 76E7     		b	.L18
 410              	.LVL47:
 411              	.L35:
 412 0138 1620     		movs	r0, #22
 413              	.LVL48:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 55


 414 013a 74E7     		b	.L18
 415              	.LVL49:
 416              	.L36:
 417 013c 1620     		movs	r0, #22
 418              	.LVL50:
 419 013e 72E7     		b	.L18
 420              	.LVL51:
 421              	.L37:
2365:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 422              		.loc 1 2365 0
 423 0140 1620     		movs	r0, #22
 424              	.LVL52:
 425 0142 70E7     		b	.L18
 426              	.LVL53:
 427              	.L38:
 428 0144 1620     		movs	r0, #22
 429              	.LVL54:
 430 0146 6EE7     		b	.L18
 431              	.LVL55:
 432              	.L39:
 433 0148 1620     		movs	r0, #22
 434              	.LVL56:
 435 014a 6CE7     		b	.L18
 436              	.LVL57:
 437              	.L40:
 438 014c 5C20     		movs	r0, #92
 439              	.LVL58:
 440 014e 6AE7     		b	.L18
 441              	.LVL59:
 442              	.L56:
2458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 443              		.loc 1 2458 0
 444 0150 5C20     		movs	r0, #92
 445              	.LVL60:
 446 0152 68E7     		b	.L18
 447              	.LVL61:
 448              	.L42:
2391:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->conn->pcb.ip->ttl = (u8_t)(*(const int*)optval);
 449              		.loc 1 2391 0
 450 0154 1620     		movs	r0, #22
 451              	.LVL62:
 452 0156 66E7     		b	.L18
 453              	.LVL63:
 454              	.L43:
 455 0158 1620     		movs	r0, #22
 456              	.LVL64:
 457 015a 64E7     		b	.L18
 458              	.LVL65:
 459              	.L44:
 460 015c 1620     		movs	r0, #22
 461              	.LVL66:
 462 015e 62E7     		b	.L18
 463              	.LVL67:
 464              	.L45:
2397:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->conn->pcb.ip->tos = (u8_t)(*(const int*)optval);
 465              		.loc 1 2397 0
 466 0160 1620     		movs	r0, #22
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 56


 467              	.LVL68:
 468 0162 60E7     		b	.L18
 469              	.LVL69:
 470              	.L46:
 471 0164 1620     		movs	r0, #22
 472              	.LVL70:
 473 0166 5EE7     		b	.L18
 474              	.LVL71:
 475              	.L47:
 476 0168 1620     		movs	r0, #22
 477              	.LVL72:
 478 016a 5CE7     		b	.L18
 479              	.LVL73:
 480              	.L48:
2467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->conn->pcb.tcp->state == LISTEN) {
 481              		.loc 1 2467 0
 482 016c 1620     		movs	r0, #22
 483              	.LVL74:
 484 016e 5AE7     		b	.L18
 485              	.LVL75:
 486              	.L49:
 487 0170 1620     		movs	r0, #22
 488              	.LVL76:
 489 0172 58E7     		b	.L18
 490              	.LVL77:
 491              	.L50:
 492 0174 1620     		movs	r0, #22
 493              	.LVL78:
 494 0176 56E7     		b	.L18
 495              	.LVL79:
 496              	.L51:
 497 0178 5C20     		movs	r0, #92
 498              	.LVL80:
 499 017a 54E7     		b	.L18
 500              	.LVL81:
 501              	.L52:
2469:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 502              		.loc 1 2469 0
 503 017c 1620     		movs	r0, #22
 504              	.LVL82:
 505 017e 52E7     		b	.L18
 506              		.cfi_endproc
 507              	.LFE177:
 509              		.section	.text.lwip_getsockopt_impl,"ax",%progbits
 510              		.align	1
 511              		.syntax unified
 512              		.thumb
 513              		.thumb_func
 514              		.fpu fpv4-sp-d16
 516              	lwip_getsockopt_impl:
 517              	.LFB175:
1890:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t err = 0;
 518              		.loc 1 1890 0
 519              		.cfi_startproc
 520              		@ args = 4, pretend = 0, frame = 0
 521              		@ frame_needed = 0, uses_anonymous_args = 0
 522              	.LVL83:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 57


 523 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 524              	.LCFI4:
 525              		.cfi_def_cfa_offset 24
 526              		.cfi_offset 3, -24
 527              		.cfi_offset 4, -20
 528              		.cfi_offset 5, -16
 529              		.cfi_offset 6, -12
 530              		.cfi_offset 7, -8
 531              		.cfi_offset 14, -4
 532 0002 0C46     		mov	r4, r1
 533 0004 1546     		mov	r5, r2
 534 0006 1F46     		mov	r7, r3
 535              	.LVL84:
1892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 536              		.loc 1 1892 0
 537 0008 FFF7FEFF 		bl	tryget_socket
 538              	.LVL85:
1893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return EBADF;
 539              		.loc 1 1893 0
 540 000c 0028     		cmp	r0, #0
 541 000e 00F0E980 		beq	.L83
 542 0012 0646     		mov	r6, r0
1897:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 543              		.loc 1 1897 0
 544 0014 062C     		cmp	r4, #6
 545 0016 00F0C280 		beq	.L62
 546 001a 40F6FF73 		movw	r3, #4095
 547 001e 9C42     		cmp	r4, r3
 548 0020 04D0     		beq	.L63
 549 0022 002C     		cmp	r4, #0
 550 0024 00F09B80 		beq	.L119
2182:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 551              		.loc 1 2182 0
 552 0028 5C20     		movs	r0, #92
 553              	.LVL86:
 554              	.L61:
2194:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 555              		.loc 1 2194 0
 556 002a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 557              	.LVL87:
 558              	.L63:
1901:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 559              		.loc 1 1901 0
 560 002c 202D     		cmp	r5, #32
 561 002e 2BD0     		beq	.L65
 562 0030 0DDD     		ble	.L120
 563 0032 41F20803 		movw	r3, #4104
 564 0036 9D42     		cmp	r5, r3
 565 0038 3BD0     		beq	.L68
 566 003a 41F20A03 		movw	r3, #4106
 567 003e 9D42     		cmp	r5, r3
 568 0040 78D0     		beq	.L69
 569 0042 41F20703 		movw	r3, #4103
 570 0046 9D42     		cmp	r5, r3
 571 0048 54D0     		beq	.L121
 572              	.L85:
2013:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 58


 573              		.loc 1 2013 0
 574 004a 5C20     		movs	r0, #92
 575              	.LVL88:
 576 004c EDE7     		b	.L61
 577              	.LVL89:
 578              	.L120:
1901:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 579              		.loc 1 1901 0
 580 004e 022D     		cmp	r5, #2
 581 0050 18D1     		bne	.L122
1905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 582              		.loc 1 1905 0
 583 0052 069B     		ldr	r3, [sp, #24]
 584 0054 1B68     		ldr	r3, [r3]
 585 0056 032B     		cmp	r3, #3
 586 0058 40F2C680 		bls	.L86
1905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 587              		.loc 1 1905 0 is_stmt 0 discriminator 2
 588 005c 0368     		ldr	r3, [r0]
 589 005e 002B     		cmp	r3, #0
 590 0060 00F0C480 		beq	.L87
1905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 591              		.loc 1 1905 0 discriminator 4
 592 0064 5A68     		ldr	r2, [r3, #4]
 593 0066 002A     		cmp	r2, #0
 594 0068 00F0C280 		beq	.L88
1906:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return ENOPROTOOPT;
 595              		.loc 1 1906 0 is_stmt 1
 596 006c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 597 006e 03F0F003 		and	r3, r3, #240
 598 0072 102B     		cmp	r3, #16
 599 0074 40F0BE80 		bne	.L89
1909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         *(int*)optval = 1;
 600              		.loc 1 1909 0 discriminator 1
 601 0078 137D     		ldrb	r3, [r2, #20]	@ zero_extendqisi2
 602 007a 012B     		cmp	r3, #1
 603 007c 16D0     		beq	.L123
1912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 604              		.loc 1 1912 0
 605 007e 0020     		movs	r0, #0
 606              	.LVL90:
 607 0080 3860     		str	r0, [r7]
 608 0082 D2E7     		b	.L61
 609              	.LVL91:
 610              	.L122:
1901:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 611              		.loc 1 1901 0
 612 0084 082D     		cmp	r5, #8
 613 0086 E0D1     		bne	.L85
 614              	.L65:
1923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = ip_get_option(sock->conn->pcb.ip, optname);
 615              		.loc 1 1923 0
 616 0088 069B     		ldr	r3, [sp, #24]
 617 008a 1B68     		ldr	r3, [r3]
 618 008c 032B     		cmp	r3, #3
 619 008e 40F2B380 		bls	.L90
1923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = ip_get_option(sock->conn->pcb.ip, optname);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 59


 620              		.loc 1 1923 0 is_stmt 0 discriminator 2
 621 0092 3368     		ldr	r3, [r6]
 622 0094 002B     		cmp	r3, #0
 623 0096 00F0B180 		beq	.L91
1923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = ip_get_option(sock->conn->pcb.ip, optname);
 624              		.loc 1 1923 0 discriminator 4
 625 009a 5B68     		ldr	r3, [r3, #4]
 626 009c 002B     		cmp	r3, #0
 627 009e 00F0AF80 		beq	.L92
1924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, optname=0x%x, ..) = %s\n",
 628              		.loc 1 1924 0 is_stmt 1
 629 00a2 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 630 00a4 1D40     		ands	r5, r5, r3
 631              	.LVL92:
 632 00a6 3D60     		str	r5, [r7]
1891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 633              		.loc 1 1891 0
 634 00a8 0020     		movs	r0, #0
 635              	.LVL93:
1927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 636              		.loc 1 1927 0
 637 00aa BEE7     		b	.L61
 638              	.LVL94:
 639              	.L123:
1910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
 640              		.loc 1 1910 0
 641 00ac 3B60     		str	r3, [r7]
1891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 642              		.loc 1 1891 0
 643 00ae 0020     		movs	r0, #0
 644              	.LVL95:
1910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
 645              		.loc 1 1910 0
 646 00b0 BBE7     		b	.L61
 647              	.LVL96:
 648              	.L68:
1930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 649              		.loc 1 1930 0
 650 00b2 069B     		ldr	r3, [sp, #24]
 651 00b4 1B68     		ldr	r3, [r3]
 652 00b6 032B     		cmp	r3, #3
 653 00b8 40F2A480 		bls	.L93
1930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 654              		.loc 1 1930 0 is_stmt 0 discriminator 2
 655 00bc 0368     		ldr	r3, [r0]
 656 00be 002B     		cmp	r3, #0
 657 00c0 00F0A280 		beq	.L94
1931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       case NETCONN_RAW:
 658              		.loc 1 1931 0 is_stmt 1
 659 00c4 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 660 00c6 02F0F003 		and	r3, r2, #240
 661 00ca 202B     		cmp	r3, #32
 662 00cc 0ED0     		beq	.L73
 663 00ce 402B     		cmp	r3, #64
 664 00d0 04D0     		beq	.L74
 665 00d2 102B     		cmp	r3, #16
 666 00d4 06D0     		beq	.L124
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 60


1942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG,
 667              		.loc 1 1942 0
 668 00d6 3A60     		str	r2, [r7]
1891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 669              		.loc 1 1891 0
 670 00d8 0020     		movs	r0, #0
 671              	.LVL97:
 672 00da A6E7     		b	.L61
 673              	.LVL98:
 674              	.L74:
1933:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
 675              		.loc 1 1933 0
 676 00dc 0323     		movs	r3, #3
 677 00de 3B60     		str	r3, [r7]
1891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 678              		.loc 1 1891 0
 679 00e0 0020     		movs	r0, #0
 680              	.LVL99:
1934:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       case NETCONN_TCP:
 681              		.loc 1 1934 0
 682 00e2 A2E7     		b	.L61
 683              	.LVL100:
 684              	.L124:
1936:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
 685              		.loc 1 1936 0
 686 00e4 0123     		movs	r3, #1
 687 00e6 3B60     		str	r3, [r7]
1891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 688              		.loc 1 1891 0
 689 00e8 0020     		movs	r0, #0
 690              	.LVL101:
1937:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       case NETCONN_UDP:
 691              		.loc 1 1937 0
 692 00ea 9EE7     		b	.L61
 693              	.LVL102:
 694              	.L73:
1939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
 695              		.loc 1 1939 0
 696 00ec 0223     		movs	r3, #2
 697 00ee 3B60     		str	r3, [r7]
1891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 698              		.loc 1 1891 0
 699 00f0 0020     		movs	r0, #0
 700              	.LVL103:
1940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       default: /* unrecognized socket type */
 701              		.loc 1 1940 0
 702 00f2 9AE7     		b	.L61
 703              	.LVL104:
 704              	.L121:
1952:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* only overwrite ERR_OK or temporary errors */
 705              		.loc 1 1952 0
 706 00f4 069B     		ldr	r3, [sp, #24]
 707 00f6 1B68     		ldr	r3, [r3]
 708 00f8 032B     		cmp	r3, #3
 709 00fa 40F28780 		bls	.L95
1954:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, err_to_errno(sock->conn->last_err));
 710              		.loc 1 1954 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 61


 711 00fe 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 712 0100 43B1     		cbz	r3, .L76
1954:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, err_to_errno(sock->conn->last_err));
 713              		.loc 1 1954 0 is_stmt 0 discriminator 2
 714 0102 732B     		cmp	r3, #115
 715 0104 06D0     		beq	.L76
 716              	.LVL105:
 717              	.L77:
1957:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->err = 0;
 718              		.loc 1 1957 0 is_stmt 1
 719 0106 337C     		ldrb	r3, [r6, #16]	@ zero_extendqisi2
 720 0108 FF2B     		cmp	r3, #255
 721 010a 10D0     		beq	.L125
 722              	.L78:
1957:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->err = 0;
 723              		.loc 1 1957 0 is_stmt 0 discriminator 4
 724 010c 3B60     		str	r3, [r7]
1958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
 725              		.loc 1 1958 0 is_stmt 1 discriminator 4
 726 010e 0020     		movs	r0, #0
 727 0110 3074     		strb	r0, [r6, #16]
1961:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 728              		.loc 1 1961 0 discriminator 4
 729 0112 8AE7     		b	.L61
 730              	.LVL106:
 731              	.L76:
1954:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, err_to_errno(sock->conn->last_err));
 732              		.loc 1 1954 0 discriminator 3
 733 0114 3368     		ldr	r3, [r6]
 734 0116 002B     		cmp	r3, #0
 735 0118 F5D0     		beq	.L77
 736              	.LBB2:
1955:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 737              		.loc 1 1955 0
 738 011a 93F90800 		ldrsb	r0, [r3, #8]
 739              	.LVL107:
 740 011e FFF7FEFF 		bl	err_to_errno
 741              	.LVL108:
 742 0122 3074     		strb	r0, [r6, #16]
 743 0124 0028     		cmp	r0, #0
 744 0126 EED0     		beq	.L77
1955:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 745              		.loc 1 1955 0 is_stmt 0 discriminator 1
 746 0128 494B     		ldr	r3, .L126
 747 012a 1860     		str	r0, [r3]
 748 012c EBE7     		b	.L77
 749              	.LVL109:
 750              	.L125:
 751              	.LBE2:
1957:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->err = 0;
 752              		.loc 1 1957 0 is_stmt 1
 753 012e 4FF0FF33 		mov	r3, #-1
 754 0132 EBE7     		b	.L78
 755              	.LVL110:
 756              	.L69:
2000:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 757              		.loc 1 2000 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 62


 758 0134 069B     		ldr	r3, [sp, #24]
 759 0136 1B68     		ldr	r3, [r3]
 760 0138 032B     		cmp	r3, #3
 761 013a 69D9     		bls	.L97
2000:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 762              		.loc 1 2000 0 is_stmt 0 discriminator 2
 763 013c 0368     		ldr	r3, [r0]
 764 013e 002B     		cmp	r3, #0
 765 0140 68D0     		beq	.L98
2000:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 766              		.loc 1 2000 0 discriminator 4
 767 0142 5A68     		ldr	r2, [r3, #4]
 768 0144 002A     		cmp	r2, #0
 769 0146 67D0     		beq	.L99
2000:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 770              		.loc 1 2000 0 discriminator 6
 771 0148 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 772 014a 03F0F003 		and	r3, r3, #240
 773 014e 202B     		cmp	r3, #32
 774 0150 64D1     		bne	.L100
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 775              		.loc 1 2007 0 is_stmt 1
 776 0152 137C     		ldrb	r3, [r2, #16]	@ zero_extendqisi2
 777 0154 03F00103 		and	r3, r3, #1
 778 0158 3B60     		str	r3, [r7]
1891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 779              		.loc 1 1891 0
 780 015a 0020     		movs	r0, #0
 781              	.LVL111:
2008:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP*/
 782              		.loc 1 2008 0
 783 015c 65E7     		b	.L61
 784              	.LVL112:
 785              	.L119:
2020:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IP_TTL:
 786              		.loc 1 2020 0
 787 015e 012D     		cmp	r5, #1
 788 0160 0FD0     		beq	.L79
 789 0162 022D     		cmp	r5, #2
 790 0164 5CD1     		bne	.L116
2022:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = sock->conn->pcb.ip->ttl;
 791              		.loc 1 2022 0
 792 0166 069B     		ldr	r3, [sp, #24]
 793 0168 1B68     		ldr	r3, [r3]
 794 016a 032B     		cmp	r3, #3
 795 016c 5AD9     		bls	.L102
2022:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = sock->conn->pcb.ip->ttl;
 796              		.loc 1 2022 0 is_stmt 0 discriminator 2
 797 016e 0368     		ldr	r3, [r0]
 798 0170 002B     		cmp	r3, #0
 799 0172 59D0     		beq	.L103
2022:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = sock->conn->pcb.ip->ttl;
 800              		.loc 1 2022 0 discriminator 4
 801 0174 5B68     		ldr	r3, [r3, #4]
 802 0176 002B     		cmp	r3, #0
 803 0178 58D0     		beq	.L104
2023:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TTL) = %d\n",
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 63


 804              		.loc 1 2023 0 is_stmt 1
 805 017a 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 806 017c 3B60     		str	r3, [r7]
1891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 807              		.loc 1 1891 0
 808 017e 0020     		movs	r0, #0
 809              	.LVL113:
2026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IP_TOS:
 810              		.loc 1 2026 0
 811 0180 53E7     		b	.L61
 812              	.LVL114:
 813              	.L79:
2028:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = sock->conn->pcb.ip->tos;
 814              		.loc 1 2028 0
 815 0182 069B     		ldr	r3, [sp, #24]
 816 0184 1B68     		ldr	r3, [r3]
 817 0186 032B     		cmp	r3, #3
 818 0188 52D9     		bls	.L105
2028:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = sock->conn->pcb.ip->tos;
 819              		.loc 1 2028 0 is_stmt 0 discriminator 2
 820 018a 0368     		ldr	r3, [r0]
 821 018c 002B     		cmp	r3, #0
 822 018e 51D0     		beq	.L106
2028:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = sock->conn->pcb.ip->tos;
 823              		.loc 1 2028 0 discriminator 4
 824 0190 5B68     		ldr	r3, [r3, #4]
 825 0192 002B     		cmp	r3, #0
 826 0194 50D0     		beq	.L107
2029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TOS) = %d\n",
 827              		.loc 1 2029 0 is_stmt 1
 828 0196 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 829 0198 3B60     		str	r3, [r7]
1891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 830              		.loc 1 1891 0
 831 019a 0020     		movs	r0, #0
 832              	.LVL115:
2032:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MULTICAST_TX_OPTIONS
 833              		.loc 1 2032 0
 834 019c 45E7     		b	.L61
 835              	.LVL116:
 836              	.L62:
2075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->conn->pcb.tcp->state == LISTEN) {
 837              		.loc 1 2075 0
 838 019e 069B     		ldr	r3, [sp, #24]
 839 01a0 1B68     		ldr	r3, [r3]
 840 01a2 032B     		cmp	r3, #3
 841 01a4 4AD9     		bls	.L108
2075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->conn->pcb.tcp->state == LISTEN) {
 842              		.loc 1 2075 0 is_stmt 0 discriminator 2
 843 01a6 0368     		ldr	r3, [r0]
 844 01a8 002B     		cmp	r3, #0
 845 01aa 49D0     		beq	.L109
2075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->conn->pcb.tcp->state == LISTEN) {
 846              		.loc 1 2075 0 discriminator 4
 847 01ac 5A68     		ldr	r2, [r3, #4]
 848 01ae 002A     		cmp	r2, #0
 849 01b0 48D0     		beq	.L110
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 64


2075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->conn->pcb.tcp->state == LISTEN) {
 850              		.loc 1 2075 0 discriminator 6
 851 01b2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 852 01b4 03F0F003 		and	r3, r3, #240
 853 01b8 102B     		cmp	r3, #16
 854 01ba 45D1     		bne	.L111
2076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return EINVAL;
 855              		.loc 1 2076 0 is_stmt 1
 856 01bc 137D     		ldrb	r3, [r2, #20]	@ zero_extendqisi2
 857 01be 012B     		cmp	r3, #1
 858 01c0 44D0     		beq	.L112
2079:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case TCP_NODELAY:
 859              		.loc 1 2079 0
 860 01c2 012D     		cmp	r5, #1
 861 01c4 03D0     		beq	.L81
 862 01c6 022D     		cmp	r5, #2
 863 01c8 07D0     		beq	.L82
2111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 864              		.loc 1 2111 0
 865 01ca 5C20     		movs	r0, #92
 866              	.LVL117:
 867 01cc 2DE7     		b	.L61
 868              	.LVL118:
 869              	.L81:
2081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_NODELAY) = %s\n",
 870              		.loc 1 2081 0
 871 01ce 937E     		ldrb	r3, [r2, #26]	@ zero_extendqisi2
 872 01d0 C3F38013 		ubfx	r3, r3, #6, #1
 873 01d4 3B60     		str	r3, [r7]
1891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 874              		.loc 1 1891 0
 875 01d6 0020     		movs	r0, #0
 876              	.LVL119:
2084:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case TCP_KEEPALIVE:
 877              		.loc 1 2084 0
 878 01d8 27E7     		b	.L61
 879              	.LVL120:
 880              	.L82:
2086:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) = %d\n",
 881              		.loc 1 2086 0
 882 01da D2F89030 		ldr	r3, [r2, #144]
 883 01de 3B60     		str	r3, [r7]
1891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 884              		.loc 1 1891 0
 885 01e0 0020     		movs	r0, #0
 886              	.LVL121:
2089:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 887              		.loc 1 2089 0
 888 01e2 22E7     		b	.L61
 889              	.LVL122:
 890              	.L83:
1894:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 891              		.loc 1 1894 0
 892 01e4 0920     		movs	r0, #9
 893              	.LVL123:
 894 01e6 20E7     		b	.L61
 895              	.LVL124:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 65


 896              	.L86:
1905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 897              		.loc 1 1905 0
 898 01e8 1620     		movs	r0, #22
 899              	.LVL125:
 900 01ea 1EE7     		b	.L61
 901              	.LVL126:
 902              	.L87:
 903 01ec 1620     		movs	r0, #22
 904              	.LVL127:
 905 01ee 1CE7     		b	.L61
 906              	.LVL128:
 907              	.L88:
 908 01f0 1620     		movs	r0, #22
 909              	.LVL129:
 910 01f2 1AE7     		b	.L61
 911              	.LVL130:
 912              	.L89:
1907:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 913              		.loc 1 1907 0
 914 01f4 5C20     		movs	r0, #92
 915              	.LVL131:
 916 01f6 18E7     		b	.L61
 917              	.LVL132:
 918              	.L90:
1923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = ip_get_option(sock->conn->pcb.ip, optname);
 919              		.loc 1 1923 0
 920 01f8 1620     		movs	r0, #22
 921              	.LVL133:
 922 01fa 16E7     		b	.L61
 923              	.LVL134:
 924              	.L91:
 925 01fc 1620     		movs	r0, #22
 926              	.LVL135:
 927 01fe 14E7     		b	.L61
 928              	.LVL136:
 929              	.L92:
 930 0200 1620     		movs	r0, #22
 931              	.LVL137:
 932 0202 12E7     		b	.L61
 933              	.LVL138:
 934              	.L93:
1930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 935              		.loc 1 1930 0
 936 0204 1620     		movs	r0, #22
 937              	.LVL139:
 938 0206 10E7     		b	.L61
 939              	.LVL140:
 940              	.L94:
 941 0208 1620     		movs	r0, #22
 942              	.LVL141:
 943 020a 0EE7     		b	.L61
 944              	.LVL142:
 945              	.L95:
1952:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* only overwrite ERR_OK or temporary errors */
 946              		.loc 1 1952 0
 947 020c 1620     		movs	r0, #22
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 66


 948              	.LVL143:
 949 020e 0CE7     		b	.L61
 950              	.LVL144:
 951              	.L97:
2000:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 952              		.loc 1 2000 0
 953 0210 1620     		movs	r0, #22
 954              	.LVL145:
 955 0212 0AE7     		b	.L61
 956              	.LVL146:
 957              	.L98:
 958 0214 1620     		movs	r0, #22
 959              	.LVL147:
 960 0216 08E7     		b	.L61
 961              	.LVL148:
 962              	.L99:
 963 0218 1620     		movs	r0, #22
 964              	.LVL149:
 965 021a 06E7     		b	.L61
 966              	.LVL150:
 967              	.L100:
 968 021c 5C20     		movs	r0, #92
 969              	.LVL151:
 970 021e 04E7     		b	.L61
 971              	.LVL152:
 972              	.L116:
2066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 973              		.loc 1 2066 0
 974 0220 5C20     		movs	r0, #92
 975              	.LVL153:
 976 0222 02E7     		b	.L61
 977              	.LVL154:
 978              	.L102:
2022:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = sock->conn->pcb.ip->ttl;
 979              		.loc 1 2022 0
 980 0224 1620     		movs	r0, #22
 981              	.LVL155:
 982 0226 00E7     		b	.L61
 983              	.LVL156:
 984              	.L103:
 985 0228 1620     		movs	r0, #22
 986              	.LVL157:
 987 022a FEE6     		b	.L61
 988              	.LVL158:
 989              	.L104:
 990 022c 1620     		movs	r0, #22
 991              	.LVL159:
 992 022e FCE6     		b	.L61
 993              	.LVL160:
 994              	.L105:
2028:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *(int*)optval = sock->conn->pcb.ip->tos;
 995              		.loc 1 2028 0
 996 0230 1620     		movs	r0, #22
 997              	.LVL161:
 998 0232 FAE6     		b	.L61
 999              	.LVL162:
 1000              	.L106:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 67


 1001 0234 1620     		movs	r0, #22
 1002              	.LVL163:
 1003 0236 F8E6     		b	.L61
 1004              	.LVL164:
 1005              	.L107:
 1006 0238 1620     		movs	r0, #22
 1007              	.LVL165:
 1008 023a F6E6     		b	.L61
 1009              	.LVL166:
 1010              	.L108:
2075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->conn->pcb.tcp->state == LISTEN) {
 1011              		.loc 1 2075 0
 1012 023c 1620     		movs	r0, #22
 1013              	.LVL167:
 1014 023e F4E6     		b	.L61
 1015              	.LVL168:
 1016              	.L109:
 1017 0240 1620     		movs	r0, #22
 1018              	.LVL169:
 1019 0242 F2E6     		b	.L61
 1020              	.LVL170:
 1021              	.L110:
 1022 0244 1620     		movs	r0, #22
 1023              	.LVL171:
 1024 0246 F0E6     		b	.L61
 1025              	.LVL172:
 1026              	.L111:
 1027 0248 5C20     		movs	r0, #92
 1028              	.LVL173:
 1029 024a EEE6     		b	.L61
 1030              	.LVL174:
 1031              	.L112:
2077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1032              		.loc 1 2077 0
 1033 024c 1620     		movs	r0, #22
 1034              	.LVL175:
 1035 024e ECE6     		b	.L61
 1036              	.L127:
 1037              		.align	2
 1038              	.L126:
 1039 0250 00000000 		.word	errno
 1040              		.cfi_endproc
 1041              	.LFE175:
 1043              		.section	.text.alloc_socket,"ax",%progbits
 1044              		.align	1
 1045              		.syntax unified
 1046              		.thumb
 1047              		.thumb_func
 1048              		.fpu fpv4-sp-d16
 1050              	alloc_socket:
 1051              	.LFB151:
 402:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 1052              		.loc 1 402 0
 1053              		.cfi_startproc
 1054              		@ args = 0, pretend = 0, frame = 0
 1055              		@ frame_needed = 0, uses_anonymous_args = 0
 1056              	.LVL176:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 68


 1057 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1058              	.LCFI5:
 1059              		.cfi_def_cfa_offset 24
 1060              		.cfi_offset 3, -24
 1061              		.cfi_offset 4, -20
 1062              		.cfi_offset 5, -16
 1063              		.cfi_offset 6, -12
 1064              		.cfi_offset 7, -8
 1065              		.cfi_offset 14, -4
 1066 0002 0646     		mov	r6, r0
 1067 0004 0D46     		mov	r5, r1
 1068              	.LVL177:
 407:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 1069              		.loc 1 407 0
 1070 0006 0024     		movs	r4, #0
 1071 0008 05E0     		b	.L129
 1072              	.LVL178:
 1073              	.L137:
 420:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 1074              		.loc 1 420 0 discriminator 2
 1075 000a 35B3     		cbz	r5, .L131
 420:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 1076              		.loc 1 420 0 is_stmt 0
 1077 000c 0125     		movs	r5, #1
 1078              	.LVL179:
 1079 000e 24E0     		b	.L131
 1080              	.LVL180:
 1081              	.L130:
 425:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1082              		.loc 1 425 0 is_stmt 1 discriminator 2
 1083 0010 FFF7FEFF 		bl	sys_arch_unprotect
 1084              	.LVL181:
 407:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 1085              		.loc 1 407 0 discriminator 2
 1086 0014 0134     		adds	r4, r4, #1
 1087              	.LVL182:
 1088              	.L129:
 407:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 1089              		.loc 1 407 0 is_stmt 0 discriminator 1
 1090 0016 032C     		cmp	r4, #3
 1091 0018 29DC     		bgt	.L136
 409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sockets[i].conn && (sockets[i].select_waiting == 0)) {
 1092              		.loc 1 409 0 is_stmt 1
 1093 001a FFF7FEFF 		bl	sys_arch_protect
 1094              	.LVL183:
 410:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].conn       = newconn;
 1095              		.loc 1 410 0
 1096 001e 04EB8402 		add	r2, r4, r4, lsl #2
 1097 0022 9300     		lsls	r3, r2, #2
 1098 0024 144A     		ldr	r2, .L138
 1099 0026 D358     		ldr	r3, [r2, r3]
 1100 0028 002B     		cmp	r3, #0
 1101 002a F1D1     		bne	.L130
 410:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].conn       = newconn;
 1102              		.loc 1 410 0 is_stmt 0 discriminator 1
 1103 002c 04EB8403 		add	r3, r4, r4, lsl #2
 1104 0030 9A00     		lsls	r2, r3, #2
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 69


 1105 0032 114B     		ldr	r3, .L138
 1106 0034 1344     		add	r3, r3, r2
 1107 0036 5B7C     		ldrb	r3, [r3, #17]	@ zero_extendqisi2
 1108 0038 002B     		cmp	r3, #0
 1109 003a E9D1     		bne	.L130
 411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* The socket is not yet known to anyone, so no need to protect
 1110              		.loc 1 411 0 is_stmt 1
 1111 003c 0E49     		ldr	r1, .L138
 1112 003e 8F18     		adds	r7, r1, r2
 1113 0040 8E50     		str	r6, [r1, r2]
 414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].lastdata   = NULL;
 1114              		.loc 1 414 0
 1115 0042 FFF7FEFF 		bl	sys_arch_unprotect
 1116              	.LVL184:
 415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].lastoffset = 0;
 1117              		.loc 1 415 0
 1118 0046 0023     		movs	r3, #0
 1119 0048 7B60     		str	r3, [r7, #4]
 416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 1120              		.loc 1 416 0
 1121 004a 3B81     		strh	r3, [r7, #8]	@ movhi
 417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* TCP sendbuf is empty, but the socket is not yet writable until connected
 1122              		.loc 1 417 0
 1123 004c 7B81     		strh	r3, [r7, #10]	@ movhi
 420:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 1124              		.loc 1 420 0
 1125 004e 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1126 0050 03F0F003 		and	r3, r3, #240
 1127 0054 102B     		cmp	r3, #16
 1128 0056 D8D0     		beq	.L137
 1129 0058 0125     		movs	r5, #1
 1130              	.LVL185:
 1131              	.L131:
 420:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 1132              		.loc 1 420 0 is_stmt 0 discriminator 6
 1133 005a A200     		lsls	r2, r4, #2
 1134 005c 2244     		add	r2, r2, r4
 1135 005e 9100     		lsls	r1, r2, #2
 1136 0060 054B     		ldr	r3, .L138
 1137 0062 0B44     		add	r3, r3, r1
 1138 0064 9D81     		strh	r5, [r3, #12]	@ movhi
 421:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].err        = 0;
 1139              		.loc 1 421 0 is_stmt 1 discriminator 6
 1140 0066 0022     		movs	r2, #0
 1141 0068 DA81     		strh	r2, [r3, #14]	@ movhi
 422:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return i + LWIP_SOCKET_OFFSET;
 1142              		.loc 1 422 0 discriminator 6
 1143 006a 1A74     		strb	r2, [r3, #16]
 423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1144              		.loc 1 423 0 discriminator 6
 1145 006c 01E0     		b	.L128
 1146              	.LVL186:
 1147              	.L136:
 427:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1148              		.loc 1 427 0
 1149 006e 4FF0FF34 		mov	r4, #-1
 1150              	.LVL187:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 70


 1151              	.L128:
 428:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1152              		.loc 1 428 0
 1153 0072 2046     		mov	r0, r4
 1154 0074 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1155              	.LVL188:
 1156              	.L139:
 1157 0076 00BF     		.align	2
 1158              	.L138:
 1159 0078 00000000 		.word	.LANCHOR0
 1160              		.cfi_endproc
 1161              	.LFE151:
 1163              		.section	.text.lwip_selscan,"ax",%progbits
 1164              		.align	1
 1165              		.syntax unified
 1166              		.thumb
 1167              		.thumb_func
 1168              		.fpu fpv4-sp-d16
 1170              	lwip_selscan:
 1171              	.LFB167:
1310:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i, nready = 0;
 1172              		.loc 1 1310 0
 1173              		.cfi_startproc
 1174              		@ args = 12, pretend = 0, frame = 40
 1175              		@ frame_needed = 0, uses_anonymous_args = 0
 1176              	.LVL189:
 1177 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1178              	.LCFI6:
 1179              		.cfi_def_cfa_offset 36
 1180              		.cfi_offset 4, -36
 1181              		.cfi_offset 5, -32
 1182              		.cfi_offset 6, -28
 1183              		.cfi_offset 7, -24
 1184              		.cfi_offset 8, -20
 1185              		.cfi_offset 9, -16
 1186              		.cfi_offset 10, -12
 1187              		.cfi_offset 11, -8
 1188              		.cfi_offset 14, -4
 1189 0004 8BB0     		sub	sp, sp, #44
 1190              	.LCFI7:
 1191              		.cfi_def_cfa_offset 80
 1192 0006 8246     		mov	r10, r0
 1193 0008 0D46     		mov	r5, r1
 1194 000a 1646     		mov	r6, r2
 1195 000c 9B46     		mov	fp, r3
 1196              	.LVL190:
 1197              	.LBB3:
1316:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 1198              		.loc 1 1316 0
 1199 000e 08AA     		add	r2, sp, #32
 1200              	.LVL191:
 1201 0010 0023     		movs	r3, #0
 1202              	.LVL192:
 1203 0012 03E0     		b	.L141
 1204              	.LVL193:
 1205              	.L142:
1316:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 71


 1206              		.loc 1 1316 0 is_stmt 0 discriminator 3
 1207 0014 0021     		movs	r1, #0
 1208 0016 1170     		strb	r1, [r2]
 1209 0018 0133     		adds	r3, r3, #1
 1210              	.LVL194:
 1211 001a 0132     		adds	r2, r2, #1
 1212              	.LVL195:
 1213              	.L141:
1316:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 1214              		.loc 1 1316 0 discriminator 1
 1215 001c 072B     		cmp	r3, #7
 1216 001e F9D9     		bls	.L142
 1217              	.LBE3:
 1218              	.LBB4:
1317:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 1219              		.loc 1 1317 0 is_stmt 1
 1220 0020 06AA     		add	r2, sp, #24
 1221              	.LVL196:
 1222 0022 0023     		movs	r3, #0
 1223              	.LVL197:
 1224 0024 03E0     		b	.L143
 1225              	.LVL198:
 1226              	.L144:
1317:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 1227              		.loc 1 1317 0 is_stmt 0 discriminator 3
 1228 0026 0021     		movs	r1, #0
 1229 0028 1170     		strb	r1, [r2]
 1230 002a 0133     		adds	r3, r3, #1
 1231              	.LVL199:
 1232 002c 0132     		adds	r2, r2, #1
 1233              	.LVL200:
 1234              	.L143:
1317:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 1235              		.loc 1 1317 0 discriminator 1
 1236 002e 072B     		cmp	r3, #7
 1237 0030 F9D9     		bls	.L144
 1238              	.LBE4:
 1239              	.LBB5:
1318:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1240              		.loc 1 1318 0 is_stmt 1
 1241 0032 04AA     		add	r2, sp, #16
 1242              	.LVL201:
 1243 0034 0023     		movs	r3, #0
 1244              	.LVL202:
 1245 0036 03E0     		b	.L145
 1246              	.LVL203:
 1247              	.L146:
1318:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1248              		.loc 1 1318 0 is_stmt 0 discriminator 3
 1249 0038 0021     		movs	r1, #0
 1250 003a 1170     		strb	r1, [r2]
 1251 003c 0133     		adds	r3, r3, #1
 1252              	.LVL204:
 1253 003e 0132     		adds	r2, r2, #1
 1254              	.LVL205:
 1255              	.L145:
1318:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 72


 1256              		.loc 1 1318 0 discriminator 1
 1257 0040 072B     		cmp	r3, #7
 1258 0042 F9D9     		bls	.L146
 1259              	.LBE5:
1311:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
 1260              		.loc 1 1311 0 is_stmt 1
 1261 0044 0027     		movs	r7, #0
1322:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
 1262              		.loc 1 1322 0
 1263 0046 3C46     		mov	r4, r7
 1264 0048 5B46     		mov	r3, fp
 1265              	.LVL206:
 1266 004a BB46     		mov	fp, r7
 1267              	.LVL207:
 1268 004c 1F46     		mov	r7, r3
 1269 004e 07E0     		b	.L147
 1270              	.LVL208:
 1271              	.L160:
 1272              	.LBB6:
1341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 1273              		.loc 1 1341 0 discriminator 3
 1274 0050 0399     		ldr	r1, [sp, #12]
 1275 0052 0029     		cmp	r1, #0
 1276 0054 46DC     		bgt	.L154
 1277 0056 4FE0     		b	.L153
 1278              	.LVL209:
 1279              	.L152:
 1280              	.LBE6:
1359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* continue on to next FD in list */
 1281              		.loc 1 1359 0
 1282 0058 0198     		ldr	r0, [sp, #4]
 1283              	.LVL210:
 1284 005a FFF7FEFF 		bl	sys_arch_unprotect
 1285              	.LVL211:
 1286              	.L151:
1322:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
 1287              		.loc 1 1322 0 discriminator 2
 1288 005e 0134     		adds	r4, r4, #1
 1289              	.LVL212:
 1290              	.L147:
1322:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
 1291              		.loc 1 1322 0 is_stmt 0 discriminator 1
 1292 0060 5445     		cmp	r4, r10
 1293 0062 79DA     		bge	.L159
1324:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 1294              		.loc 1 1324 0 is_stmt 1
 1295 0064 45B1     		cbz	r5, .L148
1324:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 1296              		.loc 1 1324 0 is_stmt 0 discriminator 2
 1297 0066 6309     		lsrs	r3, r4, #5
 1298 0068 55F82320 		ldr	r2, [r5, r3, lsl #2]
 1299 006c 04F01F01 		and	r1, r4, #31
 1300 0070 0123     		movs	r3, #1
 1301 0072 8B40     		lsls	r3, r3, r1
 1302 0074 1A42     		tst	r2, r3
 1303 0076 14D1     		bne	.L149
 1304              	.L148:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 73


1324:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 1305              		.loc 1 1324 0 discriminator 3
 1306 0078 46B1     		cbz	r6, .L150
1325:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 1307              		.loc 1 1325 0 is_stmt 1
 1308 007a 6309     		lsrs	r3, r4, #5
 1309 007c 56F82320 		ldr	r2, [r6, r3, lsl #2]
 1310 0080 04F01F01 		and	r1, r4, #31
 1311 0084 0123     		movs	r3, #1
 1312 0086 8B40     		lsls	r3, r3, r1
 1313 0088 1A42     		tst	r2, r3
 1314 008a 0AD1     		bne	.L149
 1315              	.L150:
1325:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 1316              		.loc 1 1325 0 is_stmt 0 discriminator 1
 1317 008c 002F     		cmp	r7, #0
 1318 008e E6D0     		beq	.L151
1326:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       continue;
 1319              		.loc 1 1326 0 is_stmt 1
 1320 0090 6309     		lsrs	r3, r4, #5
 1321 0092 57F82320 		ldr	r2, [r7, r3, lsl #2]
 1322 0096 04F01F01 		and	r1, r4, #31
 1323 009a 0123     		movs	r3, #1
 1324 009c 8B40     		lsls	r3, r3, r1
 1325 009e 1A42     		tst	r2, r3
 1326 00a0 DDD0     		beq	.L151
 1327              	.L149:
1330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock = tryget_socket(i);
 1328              		.loc 1 1330 0
 1329 00a2 FFF7FEFF 		bl	sys_arch_protect
 1330              	.LVL213:
 1331 00a6 0190     		str	r0, [sp, #4]
 1332              	.LVL214:
1331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock != NULL) {
 1333              		.loc 1 1331 0
 1334 00a8 2046     		mov	r0, r4
 1335              	.LVL215:
 1336 00aa FFF7FEFF 		bl	tryget_socket
 1337              	.LVL216:
1332:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       void* lastdata = sock->lastdata;
 1338              		.loc 1 1332 0
 1339 00ae 0028     		cmp	r0, #0
 1340 00b0 D2D0     		beq	.L152
 1341              	.LBB7:
1333:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       s16_t rcvevent = sock->rcvevent;
 1342              		.loc 1 1333 0
 1343 00b2 4268     		ldr	r2, [r0, #4]
 1344 00b4 0292     		str	r2, [sp, #8]
 1345              	.LVL217:
1334:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t sendevent = sock->sendevent;
 1346              		.loc 1 1334 0
 1347 00b6 B0F90A20 		ldrsh	r2, [r0, #10]
 1348              	.LVL218:
 1349 00ba 0392     		str	r2, [sp, #12]
 1350              	.LVL219:
1335:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t errevent = sock->errevent;
 1351              		.loc 1 1335 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 74


 1352 00bc B0F80C90 		ldrh	r9, [r0, #12]
 1353              	.LVL220:
1336:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
 1354              		.loc 1 1336 0
 1355 00c0 B0F80E80 		ldrh	r8, [r0, #14]
 1356              	.LVL221:
1337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1357              		.loc 1 1337 0
 1358 00c4 0198     		ldr	r0, [sp, #4]
 1359              	.LVL222:
 1360 00c6 FFF7FEFF 		bl	sys_arch_unprotect
 1361              	.LVL223:
1341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 1362              		.loc 1 1341 0
 1363 00ca ADB1     		cbz	r5, .L153
1341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 1364              		.loc 1 1341 0 is_stmt 0 discriminator 1
 1365 00cc 6209     		lsrs	r2, r4, #5
 1366 00ce 55F82210 		ldr	r1, [r5, r2, lsl #2]
 1367 00d2 04F01F00 		and	r0, r4, #31
 1368 00d6 0123     		movs	r3, #1
 1369 00d8 8340     		lsls	r3, r3, r0
 1370 00da 1942     		tst	r1, r3
 1371 00dc 0CD0     		beq	.L153
1341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 1372              		.loc 1 1341 0 discriminator 2
 1373 00de 0299     		ldr	r1, [sp, #8]
 1374 00e0 0029     		cmp	r1, #0
 1375 00e2 B5D0     		beq	.L160
 1376              	.L154:
1342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for reading\n", i));
 1377              		.loc 1 1342 0 is_stmt 1
 1378 00e4 0AA9     		add	r1, sp, #40
 1379 00e6 01EB8202 		add	r2, r1, r2, lsl #2
 1380 00ea 52F8081C 		ldr	r1, [r2, #-8]
 1381 00ee 0B43     		orrs	r3, r3, r1
 1382 00f0 42F8083C 		str	r3, [r2, #-8]
1344:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 1383              		.loc 1 1344 0
 1384 00f4 0BF1010B 		add	fp, fp, #1
 1385              	.LVL224:
 1386              	.L153:
1347:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 1387              		.loc 1 1347 0
 1388 00f8 AEB1     		cbz	r6, .L155
1347:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 1389              		.loc 1 1347 0 is_stmt 0 discriminator 1
 1390 00fa 6209     		lsrs	r2, r4, #5
 1391 00fc 56F82210 		ldr	r1, [r6, r2, lsl #2]
 1392 0100 04F01F00 		and	r0, r4, #31
 1393 0104 0123     		movs	r3, #1
 1394 0106 8340     		lsls	r3, r3, r0
 1395 0108 1942     		tst	r1, r3
 1396 010a 0CD0     		beq	.L155
1347:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 1397              		.loc 1 1347 0 discriminator 2
 1398 010c B9F1000F 		cmp	r9, #0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 75


 1399 0110 09D0     		beq	.L155
1348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for writing\n", i));
 1400              		.loc 1 1348 0 is_stmt 1
 1401 0112 0AA9     		add	r1, sp, #40
 1402 0114 01EB8202 		add	r2, r1, r2, lsl #2
 1403 0118 52F8101C 		ldr	r1, [r2, #-16]
 1404 011c 0B43     		orrs	r3, r3, r1
 1405 011e 42F8103C 		str	r3, [r2, #-16]
1350:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 1406              		.loc 1 1350 0
 1407 0122 0BF1010B 		add	fp, fp, #1
 1408              	.LVL225:
 1409              	.L155:
1353:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 1410              		.loc 1 1353 0
 1411 0126 002F     		cmp	r7, #0
 1412 0128 99D0     		beq	.L151
1353:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 1413              		.loc 1 1353 0 is_stmt 0 discriminator 1
 1414 012a 6209     		lsrs	r2, r4, #5
 1415 012c 57F82210 		ldr	r1, [r7, r2, lsl #2]
 1416 0130 04F01F00 		and	r0, r4, #31
 1417 0134 0123     		movs	r3, #1
 1418 0136 8340     		lsls	r3, r3, r0
 1419 0138 1942     		tst	r1, r3
 1420 013a 90D0     		beq	.L151
1353:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 1421              		.loc 1 1353 0 discriminator 2
 1422 013c B8F1000F 		cmp	r8, #0
 1423 0140 8DD0     		beq	.L151
1354:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for exception\n", i));
 1424              		.loc 1 1354 0 is_stmt 1
 1425 0142 0AA9     		add	r1, sp, #40
 1426 0144 01EB8202 		add	r2, r1, r2, lsl #2
 1427 0148 52F8181C 		ldr	r1, [r2, #-24]
 1428 014c 0B43     		orrs	r3, r3, r1
 1429 014e 42F8183C 		str	r3, [r2, #-24]
1356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 1430              		.loc 1 1356 0
 1431 0152 0BF1010B 		add	fp, fp, #1
 1432              	.LVL226:
 1433 0156 82E7     		b	.L151
 1434              	.LVL227:
 1435              	.L159:
 1436 0158 5F46     		mov	r7, fp
 1437              	.LVL228:
 1438              	.LBE7:
1364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *writeset_out = lwriteset;
 1439              		.loc 1 1364 0
 1440 015a 0AAB     		add	r3, sp, #40
 1441 015c 13E90300 		ldmdb	r3, {r0, r1}
 1442 0160 149B     		ldr	r3, [sp, #80]
 1443 0162 83E80300 		stm	r3, {r0, r1}
1365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *exceptset_out = lexceptset;
 1444              		.loc 1 1365 0
 1445 0166 06AB     		add	r3, sp, #24
 1446 0168 93E80300 		ldm	r3, {r0, r1}
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 76


 1447 016c 159B     		ldr	r3, [sp, #84]
 1448 016e 83E80300 		stm	r3, {r0, r1}
1366:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1449              		.loc 1 1366 0
 1450 0172 04AB     		add	r3, sp, #16
 1451 0174 93E80300 		ldm	r3, {r0, r1}
 1452 0178 169B     		ldr	r3, [sp, #88]
 1453 017a 83E80300 		stm	r3, {r0, r1}
1368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1454              		.loc 1 1368 0
 1455 017e 002F     		cmp	r7, #0
 1456 0180 03DB     		blt	.L161
 1457              	.LVL229:
 1458              	.L140:
1370:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1459              		.loc 1 1370 0
 1460 0182 3846     		mov	r0, r7
 1461 0184 0BB0     		add	sp, sp, #44
 1462              	.LCFI8:
 1463              		.cfi_remember_state
 1464              		.cfi_def_cfa_offset 36
 1465              		@ sp needed
 1466 0186 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1467              	.LVL230:
 1468              	.L161:
 1469              	.LCFI9:
 1470              		.cfi_restore_state
1368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1471              		.loc 1 1368 0 discriminator 1
 1472 018a 044B     		ldr	r3, .L162
 1473 018c 4FF4AB62 		mov	r2, #1368
 1474 0190 0349     		ldr	r1, .L162+4
 1475 0192 0448     		ldr	r0, .L162+8
 1476 0194 FFF7FEFF 		bl	printf
 1477              	.LVL231:
1369:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1478              		.loc 1 1369 0 discriminator 1
 1479 0198 F3E7     		b	.L140
 1480              	.L163:
 1481 019a 00BF     		.align	2
 1482              	.L162:
 1483 019c 00000000 		.word	.LC0
 1484 01a0 30000000 		.word	.LC1
 1485 01a4 3C000000 		.word	.LC2
 1486              		.cfi_endproc
 1487              	.LFE167:
 1489              		.section	.text.lwip_getaddrname,"ax",%progbits
 1490              		.align	1
 1491              		.syntax unified
 1492              		.thumb
 1493              		.thumb_func
 1494              		.fpu fpv4-sp-d16
 1496              	lwip_getaddrname:
 1497              	.LFB171:
1735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 1498              		.loc 1 1735 0
 1499              		.cfi_startproc
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 77


 1500              		@ args = 0, pretend = 0, frame = 24
 1501              		@ frame_needed = 0, uses_anonymous_args = 0
 1502              	.LVL232:
 1503 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1504              	.LCFI10:
 1505              		.cfi_def_cfa_offset 20
 1506              		.cfi_offset 4, -20
 1507              		.cfi_offset 5, -16
 1508              		.cfi_offset 6, -12
 1509              		.cfi_offset 7, -8
 1510              		.cfi_offset 14, -4
 1511 0002 87B0     		sub	sp, sp, #28
 1512              	.LCFI11:
 1513              		.cfi_def_cfa_offset 48
 1514 0004 0F46     		mov	r7, r1
 1515 0006 1546     		mov	r5, r2
 1516 0008 1E46     		mov	r6, r3
1742:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 1517              		.loc 1 1742 0
 1518 000a FFF7FEFF 		bl	get_socket
 1519              	.LVL233:
1743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 1520              		.loc 1 1743 0
 1521 000e 88B3     		cbz	r0, .L168
 1522 0010 0446     		mov	r4, r0
1748:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 1523              		.loc 1 1748 0
 1524 0012 3346     		mov	r3, r6
 1525 0014 0DF10202 		add	r2, sp, #2
 1526 0018 01A9     		add	r1, sp, #4
 1527 001a 0068     		ldr	r0, [r0]
 1528              	.LVL234:
 1529 001c FFF7FEFF 		bl	netconn_getaddr
 1530              	.LVL235:
1749:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 1531              		.loc 1 1749 0
 1532 0020 40B1     		cbz	r0, .L166
 1533              	.LBB8:
1750:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 1534              		.loc 1 1750 0
 1535 0022 FFF7FEFF 		bl	err_to_errno
 1536              	.LVL236:
 1537 0026 2074     		strb	r0, [r4, #16]
 1538 0028 38B3     		cbz	r0, .L169
1750:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 1539              		.loc 1 1750 0 is_stmt 0 discriminator 1
 1540 002a 154B     		ldr	r3, .L171
 1541 002c 1860     		str	r0, [r3]
 1542              	.LBE8:
1751:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1543              		.loc 1 1751 0 is_stmt 1 discriminator 1
 1544 002e 4FF0FF30 		mov	r0, #-1
 1545              	.LVL237:
 1546 0032 1DE0     		b	.L164
 1547              	.LVL238:
 1548              	.L166:
1763:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 78


 1549              		.loc 1 1763 0
 1550 0034 1023     		movs	r3, #16
 1551 0036 8DF80830 		strb	r3, [sp, #8]
 1552 003a 0223     		movs	r3, #2
 1553 003c 8DF80930 		strb	r3, [sp, #9]
 1554 0040 BDF80200 		ldrh	r0, [sp, #2]
 1555              	.LVL239:
 1556 0044 FFF7FEFF 		bl	lwip_htons
 1557              	.LVL240:
 1558 0048 ADF80A00 		strh	r0, [sp, #10]	@ movhi
 1559 004c 019B     		ldr	r3, [sp, #4]
 1560 004e 0393     		str	r3, [sp, #12]
 1561 0050 0023     		movs	r3, #0
 1562 0052 0493     		str	r3, [sp, #16]
 1563 0054 0593     		str	r3, [sp, #20]
1769:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *namelen = saddr.sa.sa_len;
 1564              		.loc 1 1769 0
 1565 0056 2A68     		ldr	r2, [r5]
 1566 0058 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
 1567 005c 9A42     		cmp	r2, r3
 1568 005e 00D9     		bls	.L167
1770:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1569              		.loc 1 1770 0
 1570 0060 2B60     		str	r3, [r5]
 1571              	.L167:
1772:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1572              		.loc 1 1772 0
 1573 0062 2A68     		ldr	r2, [r5]
 1574 0064 02A9     		add	r1, sp, #8
 1575 0066 3846     		mov	r0, r7
 1576 0068 FFF7FEFF 		bl	memcpy
 1577              	.LVL241:
 1578              	.LBB9:
1774:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 1579              		.loc 1 1774 0
 1580 006c 0020     		movs	r0, #0
 1581 006e 2074     		strb	r0, [r4, #16]
 1582              	.LVL242:
 1583              	.L164:
 1584              	.LBE9:
1776:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1585              		.loc 1 1776 0
 1586 0070 07B0     		add	sp, sp, #28
 1587              	.LCFI12:
 1588              		.cfi_remember_state
 1589              		.cfi_def_cfa_offset 20
 1590              		@ sp needed
 1591 0072 F0BD     		pop	{r4, r5, r6, r7, pc}
 1592              	.LVL243:
 1593              	.L168:
 1594              	.LCFI13:
 1595              		.cfi_restore_state
1744:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1596              		.loc 1 1744 0
 1597 0074 4FF0FF30 		mov	r0, #-1
 1598              	.LVL244:
 1599 0078 FAE7     		b	.L164
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 79


 1600              	.LVL245:
 1601              	.L169:
1751:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1602              		.loc 1 1751 0
 1603 007a 4FF0FF30 		mov	r0, #-1
 1604              	.LVL246:
 1605 007e F7E7     		b	.L164
 1606              	.L172:
 1607              		.align	2
 1608              	.L171:
 1609 0080 00000000 		.word	errno
 1610              		.cfi_endproc
 1611              	.LFE171:
 1613              		.section	.text.event_callback,"ax",%progbits
 1614              		.align	1
 1615              		.syntax unified
 1616              		.thumb
 1617              		.thumb_func
 1618              		.fpu fpv4-sp-d16
 1620              	event_callback:
 1621              	.LFB169:
1574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int s;
 1622              		.loc 1 1574 0
 1623              		.cfi_startproc
 1624              		@ args = 0, pretend = 0, frame = 0
 1625              		@ frame_needed = 0, uses_anonymous_args = 0
 1626              	.LVL247:
1584:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     s = conn->socket;
 1627              		.loc 1 1584 0
 1628 0000 0028     		cmp	r0, #0
 1629 0002 00F0A080 		beq	.L197
1574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int s;
 1630              		.loc 1 1574 0
 1631 0006 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1632              	.LCFI14:
 1633              		.cfi_def_cfa_offset 24
 1634              		.cfi_offset 4, -24
 1635              		.cfi_offset 5, -20
 1636              		.cfi_offset 6, -16
 1637              		.cfi_offset 7, -12
 1638              		.cfi_offset 8, -8
 1639              		.cfi_offset 14, -4
 1640 000a 0446     		mov	r4, r0
 1641 000c 0E46     		mov	r6, r1
1585:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (s < 0) {
 1642              		.loc 1 1585 0
 1643 000e D0F81880 		ldr	r8, [r0, #24]
 1644              	.LVL248:
1586:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Data comes in right away after an accept, even though
 1645              		.loc 1 1586 0
 1646 0012 B8F1000F 		cmp	r8, #0
 1647 0016 10DB     		blt	.L200
 1648              	.LVL249:
 1649              	.L175:
1604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sock) {
 1650              		.loc 1 1604 0
 1651 0018 4046     		mov	r0, r8
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 80


 1652 001a FFF7FEFF 		bl	get_socket
 1653              	.LVL250:
1605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return;
 1654              		.loc 1 1605 0
 1655 001e 0746     		mov	r7, r0
 1656 0020 0028     		cmp	r0, #0
 1657 0022 00F08E80 		beq	.L173
1612:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Set event as required */
 1658              		.loc 1 1612 0
 1659 0026 FFF7FEFF 		bl	sys_arch_protect
 1660              	.LVL251:
 1661 002a 0546     		mov	r5, r0
 1662              	.LVL252:
1614:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_RCVPLUS:
 1663              		.loc 1 1614 0
 1664 002c 042E     		cmp	r6, #4
 1665 002e 2CD8     		bhi	.L178
 1666 0030 DFE806F0 		tbb	[pc, r6]
 1667              	.L180:
 1668 0034 14       		.byte	(.L179-.L180)/2
 1669 0035 1D       		.byte	(.L181-.L180)/2
 1670 0036 22       		.byte	(.L182-.L180)/2
 1671 0037 25       		.byte	(.L183-.L180)/2
 1672 0038 28       		.byte	(.L184-.L180)/2
 1673              	.LVL253:
 1674 0039 00       		.p2align 1
 1675              	.L200:
1592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (conn->socket < 0) {
 1676              		.loc 1 1592 0
 1677 003a FFF7FEFF 		bl	sys_arch_protect
 1678              	.LVL254:
1593:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (evt == NETCONN_EVT_RCVPLUS) {
 1679              		.loc 1 1593 0
 1680 003e D4F81880 		ldr	r8, [r4, #24]
 1681              	.LVL255:
 1682 0042 B8F1000F 		cmp	r8, #0
 1683 0046 06DA     		bge	.L176
1594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           conn->socket--;
 1684              		.loc 1 1594 0
 1685 0048 16B9     		cbnz	r6, .L177
1595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 1686              		.loc 1 1595 0
 1687 004a 08F1FF33 		add	r3, r8, #-1
 1688 004e A361     		str	r3, [r4, #24]
 1689              	.L177:
1597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return;
 1690              		.loc 1 1597 0
 1691 0050 FFF7FEFF 		bl	sys_arch_unprotect
 1692              	.LVL256:
1598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 1693              		.loc 1 1598 0
 1694 0054 75E0     		b	.L173
 1695              	.LVL257:
 1696              	.L176:
1601:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1697              		.loc 1 1601 0
 1698 0056 FFF7FEFF 		bl	sys_arch_unprotect
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 81


 1699              	.LVL258:
 1700 005a DDE7     		b	.L175
 1701              	.LVL259:
 1702              	.L179:
1616:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 1703              		.loc 1 1616 0
 1704 005c B7F90A30 		ldrsh	r3, [r7, #10]
 1705 0060 0133     		adds	r3, r3, #1
 1706 0062 7B81     		strh	r3, [r7, #10]	@ movhi
 1707              	.LVL260:
 1708              	.L185:
1635:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* noone is waiting for this socket, no need to check select_cb_list */
 1709              		.loc 1 1635 0
 1710 0064 7B7C     		ldrb	r3, [r7, #17]	@ zero_extendqisi2
 1711 0066 C3B1     		cbz	r3, .L201
 1712              	.LVL261:
 1713              	.L186:
1648:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* remember the state of select_cb_list to detect changes */
 1714              		.loc 1 1648 0
 1715 0068 374B     		ldr	r3, .L203
 1716 006a 1C68     		ldr	r4, [r3]
 1717              	.LVL262:
 1718 006c 2BE0     		b	.L187
 1719              	.LVL263:
 1720              	.L181:
1619:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 1721              		.loc 1 1619 0
 1722 006e B7F90A30 		ldrsh	r3, [r7, #10]
 1723 0072 013B     		subs	r3, r3, #1
 1724 0074 7B81     		strh	r3, [r7, #10]	@ movhi
1620:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_SENDPLUS:
 1725              		.loc 1 1620 0
 1726 0076 F5E7     		b	.L185
 1727              	.L182:
1622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 1728              		.loc 1 1622 0
 1729 0078 0123     		movs	r3, #1
 1730 007a BB81     		strh	r3, [r7, #12]	@ movhi
1623:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_SENDMINUS:
 1731              		.loc 1 1623 0
 1732 007c F2E7     		b	.L185
 1733              	.L183:
1625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 1734              		.loc 1 1625 0
 1735 007e 0023     		movs	r3, #0
 1736 0080 BB81     		strh	r3, [r7, #12]	@ movhi
1626:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_ERROR:
 1737              		.loc 1 1626 0
 1738 0082 EFE7     		b	.L185
 1739              	.L184:
1628:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 1740              		.loc 1 1628 0
 1741 0084 0123     		movs	r3, #1
 1742 0086 FB81     		strh	r3, [r7, #14]	@ movhi
1629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
 1743              		.loc 1 1629 0
 1744 0088 ECE7     		b	.L185
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 82


 1745              	.L178:
1631:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 1746              		.loc 1 1631 0 discriminator 1
 1747 008a 304B     		ldr	r3, .L203+4
 1748 008c 40F25F62 		movw	r2, #1631
 1749 0090 2F49     		ldr	r1, .L203+8
 1750 0092 3048     		ldr	r0, .L203+12
 1751              	.LVL264:
 1752 0094 FFF7FEFF 		bl	printf
 1753              	.LVL265:
1632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1754              		.loc 1 1632 0 discriminator 1
 1755 0098 E4E7     		b	.L185
 1756              	.L201:
1637:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return;
 1757              		.loc 1 1637 0
 1758 009a 2846     		mov	r0, r5
 1759 009c FFF7FEFF 		bl	sys_arch_unprotect
 1760              	.LVL266:
1638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1761              		.loc 1 1638 0
 1762 00a0 4FE0     		b	.L173
 1763              	.LVL267:
 1764              	.L191:
 1765              	.LBB10:
1670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         scb->sem_signalled = 1;
 1766              		.loc 1 1670 0
 1767 00a2 2BB1     		cbz	r3, .L188
 1768              	.L192:
1671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Don't call SYS_ARCH_UNPROTECT() before signaling the semaphore, as this might
 1769              		.loc 1 1671 0
 1770 00a4 0123     		movs	r3, #1
 1771              	.LVL268:
 1772 00a6 6361     		str	r3, [r4, #20]
1674:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 1773              		.loc 1 1674 0
 1774 00a8 04F11800 		add	r0, r4, #24
 1775 00ac FFF7FEFF 		bl	sys_sem_signal
 1776              	.LVL269:
 1777              	.L188:
 1778              	.LBE10:
1678:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* this makes sure interrupt protection time is short */
 1779              		.loc 1 1678 0
 1780 00b0 2846     		mov	r0, r5
 1781 00b2 FFF7FEFF 		bl	sys_arch_unprotect
 1782              	.LVL270:
1680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (last_select_cb_ctr != select_cb_ctr) {
 1783              		.loc 1 1680 0
 1784 00b6 FFF7FEFF 		bl	sys_arch_protect
 1785              	.LVL271:
 1786 00ba 0546     		mov	r5, r0
 1787              	.LVL272:
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* someone has changed select_cb_list, restart at the beginning */
 1788              		.loc 1 1681 0
 1789 00bc 264B     		ldr	r3, .L203+16
 1790 00be 1B68     		ldr	r3, [r3]
 1791 00c0 B342     		cmp	r3, r6
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 83


 1792 00c2 D1D1     		bne	.L186
1648:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* remember the state of select_cb_list to detect changes */
 1793              		.loc 1 1648 0 discriminator 2
 1794 00c4 2468     		ldr	r4, [r4]
 1795              	.LVL273:
 1796              	.L187:
1648:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* remember the state of select_cb_list to detect changes */
 1797              		.loc 1 1648 0 is_stmt 0 discriminator 1
 1798 00c6 002C     		cmp	r4, #0
 1799 00c8 38D0     		beq	.L202
1650:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 1800              		.loc 1 1650 0 is_stmt 1
 1801 00ca 234B     		ldr	r3, .L203+16
 1802 00cc 1E68     		ldr	r6, [r3]
 1803              	.LVL274:
1651:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* semaphore not signalled yet */
 1804              		.loc 1 1651 0
 1805 00ce 6369     		ldr	r3, [r4, #20]
 1806 00d0 002B     		cmp	r3, #0
 1807 00d2 EDD1     		bne	.L188
 1808              	.LVL275:
 1809              	.LBB11:
1655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (scb->readset && FD_ISSET(s, scb->readset)) {
 1810              		.loc 1 1655 0
 1811 00d4 B7F90A20 		ldrsh	r2, [r7, #10]
 1812 00d8 002A     		cmp	r2, #0
 1813 00da 0CDD     		ble	.L189
1656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           do_signal = 1;
 1814              		.loc 1 1656 0
 1815 00dc A268     		ldr	r2, [r4, #8]
 1816 00de 52B1     		cbz	r2, .L189
1656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           do_signal = 1;
 1817              		.loc 1 1656 0 is_stmt 0 discriminator 1
 1818 00e0 4FEA5811 		lsr	r1, r8, #5
 1819 00e4 52F82110 		ldr	r1, [r2, r1, lsl #2]
 1820 00e8 08F01F00 		and	r0, r8, #31
 1821 00ec 0122     		movs	r2, #1
 1822 00ee 8240     		lsls	r2, r2, r0
 1823 00f0 1142     		tst	r1, r2
 1824 00f2 00D0     		beq	.L189
1657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 1825              		.loc 1 1657 0 is_stmt 1
 1826 00f4 0123     		movs	r3, #1
 1827              	.L189:
 1828              	.LVL276:
1660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (!do_signal && scb->writeset && FD_ISSET(s, scb->writeset)) {
 1829              		.loc 1 1660 0
 1830 00f6 BA89     		ldrh	r2, [r7, #12]
 1831 00f8 6AB1     		cbz	r2, .L190
1661:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           do_signal = 1;
 1832              		.loc 1 1661 0
 1833 00fa 63B9     		cbnz	r3, .L190
1661:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           do_signal = 1;
 1834              		.loc 1 1661 0 is_stmt 0 discriminator 1
 1835 00fc E268     		ldr	r2, [r4, #12]
 1836 00fe 52B1     		cbz	r2, .L190
1661:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           do_signal = 1;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 84


 1837              		.loc 1 1661 0 discriminator 2
 1838 0100 4FEA5811 		lsr	r1, r8, #5
 1839 0104 52F82110 		ldr	r1, [r2, r1, lsl #2]
 1840 0108 08F01F00 		and	r0, r8, #31
 1841 010c 0122     		movs	r2, #1
 1842 010e 8240     		lsls	r2, r2, r0
 1843 0110 1142     		tst	r1, r2
 1844 0112 00D0     		beq	.L190
1662:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 1845              		.loc 1 1662 0 is_stmt 1
 1846 0114 0123     		movs	r3, #1
 1847              	.LVL277:
 1848              	.L190:
1665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (!do_signal && scb->exceptset && FD_ISSET(s, scb->exceptset)) {
 1849              		.loc 1 1665 0
 1850 0116 FA89     		ldrh	r2, [r7, #14]
 1851 0118 002A     		cmp	r2, #0
 1852 011a C2D0     		beq	.L191
1666:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           do_signal = 1;
 1853              		.loc 1 1666 0
 1854 011c 002B     		cmp	r3, #0
 1855 011e C0D1     		bne	.L191
1666:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           do_signal = 1;
 1856              		.loc 1 1666 0 is_stmt 0 discriminator 1
 1857 0120 2269     		ldr	r2, [r4, #16]
 1858 0122 002A     		cmp	r2, #0
 1859 0124 BDD0     		beq	.L191
1666:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           do_signal = 1;
 1860              		.loc 1 1666 0 discriminator 2
 1861 0126 4FEA5811 		lsr	r1, r8, #5
 1862 012a 52F82110 		ldr	r1, [r2, r1, lsl #2]
 1863 012e 08F01F00 		and	r0, r8, #31
 1864 0132 0122     		movs	r2, #1
 1865 0134 8240     		lsls	r2, r2, r0
 1866 0136 1142     		tst	r1, r2
 1867 0138 B4D1     		bne	.L192
 1868 013a B2E7     		b	.L191
 1869              	.LVL278:
 1870              	.L202:
 1871              	.LBE11:
1686:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1872              		.loc 1 1686 0 is_stmt 1
 1873 013c 2846     		mov	r0, r5
 1874 013e FFF7FEFF 		bl	sys_arch_unprotect
 1875              	.LVL279:
 1876              	.L173:
1687:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1877              		.loc 1 1687 0
 1878 0142 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1879              	.LVL280:
 1880              	.L197:
 1881              	.LCFI15:
 1882              		.cfi_def_cfa_offset 0
 1883              		.cfi_restore 4
 1884              		.cfi_restore 5
 1885              		.cfi_restore 6
 1886              		.cfi_restore 7
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 85


 1887              		.cfi_restore 8
 1888              		.cfi_restore 14
 1889 0146 7047     		bx	lr
 1890              	.L204:
 1891              		.align	2
 1892              	.L203:
 1893 0148 00000000 		.word	.LANCHOR1
 1894 014c 00000000 		.word	.LC0
 1895 0150 00000000 		.word	.LC3
 1896 0154 3C000000 		.word	.LC2
 1897 0158 00000000 		.word	.LANCHOR2
 1898              		.cfi_endproc
 1899              	.LFE169:
 1901              		.section	.text.free_socket,"ax",%progbits
 1902              		.align	1
 1903              		.syntax unified
 1904              		.thumb
 1905              		.thumb_func
 1906              		.fpu fpv4-sp-d16
 1908              	free_socket:
 1909              	.LFB152:
 438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   void *lastdata;
 1910              		.loc 1 438 0
 1911              		.cfi_startproc
 1912              		@ args = 0, pretend = 0, frame = 0
 1913              		@ frame_needed = 0, uses_anonymous_args = 0
 1914              	.LVL281:
 1915 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1916              	.LCFI16:
 1917              		.cfi_def_cfa_offset 24
 1918              		.cfi_offset 3, -24
 1919              		.cfi_offset 4, -20
 1920              		.cfi_offset 5, -16
 1921              		.cfi_offset 6, -12
 1922              		.cfi_offset 7, -8
 1923              		.cfi_offset 14, -4
 1924 0002 0446     		mov	r4, r0
 1925 0004 0F46     		mov	r7, r1
 441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock->lastdata   = NULL;
 1926              		.loc 1 441 0
 1927 0006 4668     		ldr	r6, [r0, #4]
 1928              	.LVL282:
 442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock->lastoffset = 0;
 1929              		.loc 1 442 0
 1930 0008 0025     		movs	r5, #0
 1931 000a 4560     		str	r5, [r0, #4]
 443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock->err        = 0;
 1932              		.loc 1 443 0
 1933 000c 0581     		strh	r5, [r0, #8]	@ movhi
 444:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1934              		.loc 1 444 0
 1935 000e 0574     		strb	r5, [r0, #16]
 1936              	.LBB12:
 447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* don't use 'sock' after this line, as another task might have allocated it */
 1937              		.loc 1 447 0
 1938 0010 FFF7FEFF 		bl	sys_arch_protect
 1939              	.LVL283:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 86


 1940 0014 2560     		str	r5, [r4]
 1941 0016 FFF7FEFF 		bl	sys_arch_unprotect
 1942              	.LVL284:
 1943              	.LBE12:
 450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (is_tcp) {
 1944              		.loc 1 450 0
 1945 001a 1EB1     		cbz	r6, .L205
 451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       pbuf_free((struct pbuf *)lastdata);
 1946              		.loc 1 451 0
 1947 001c 1FB9     		cbnz	r7, .L209
 454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1948              		.loc 1 454 0
 1949 001e 3046     		mov	r0, r6
 1950 0020 FFF7FEFF 		bl	netbuf_delete
 1951              	.LVL285:
 1952              	.L205:
 457:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1953              		.loc 1 457 0
 1954 0024 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1955              	.LVL286:
 1956              	.L209:
 452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 1957              		.loc 1 452 0
 1958 0026 3046     		mov	r0, r6
 1959 0028 FFF7FEFF 		bl	pbuf_free
 1960              	.LVL287:
 1961 002c FAE7     		b	.L205
 1962              		.cfi_endproc
 1963              	.LFE152:
 1965              		.section	.text.lwip_socket_thread_init,"ax",%progbits
 1966              		.align	1
 1967              		.global	lwip_socket_thread_init
 1968              		.syntax unified
 1969              		.thumb
 1970              		.thumb_func
 1971              		.fpu fpv4-sp-d16
 1973              	lwip_socket_thread_init:
 1974              	.LFB147:
 332:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    netconn_thread_init();
 1975              		.loc 1 332 0
 1976              		.cfi_startproc
 1977              		@ args = 0, pretend = 0, frame = 0
 1978              		@ frame_needed = 0, uses_anonymous_args = 0
 1979              		@ link register save eliminated.
 334:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1980              		.loc 1 334 0
 1981 0000 7047     		bx	lr
 1982              		.cfi_endproc
 1983              	.LFE147:
 1985              		.section	.text.lwip_socket_thread_cleanup,"ax",%progbits
 1986              		.align	1
 1987              		.global	lwip_socket_thread_cleanup
 1988              		.syntax unified
 1989              		.thumb
 1990              		.thumb_func
 1991              		.fpu fpv4-sp-d16
 1993              	lwip_socket_thread_cleanup:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 87


 1994              	.LFB148:
 339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    netconn_thread_cleanup();
 1995              		.loc 1 339 0
 1996              		.cfi_startproc
 1997              		@ args = 0, pretend = 0, frame = 0
 1998              		@ frame_needed = 0, uses_anonymous_args = 0
 1999              		@ link register save eliminated.
 341:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2000              		.loc 1 341 0
 2001 0000 7047     		bx	lr
 2002              		.cfi_endproc
 2003              	.LFE148:
 2005              		.section	.text.lwip_accept,"ax",%progbits
 2006              		.align	1
 2007              		.global	lwip_accept
 2008              		.syntax unified
 2009              		.thumb
 2010              		.thumb_func
 2011              		.fpu fpv4-sp-d16
 2013              	lwip_accept:
 2014              	.LFB153:
 467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock, *nsock;
 2015              		.loc 1 467 0
 2016              		.cfi_startproc
 2017              		@ args = 0, pretend = 0, frame = 32
 2018              		@ frame_needed = 0, uses_anonymous_args = 0
 2019              	.LVL288:
 2020 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 2021              	.LCFI17:
 2022              		.cfi_def_cfa_offset 28
 2023              		.cfi_offset 4, -28
 2024              		.cfi_offset 5, -24
 2025              		.cfi_offset 6, -20
 2026              		.cfi_offset 7, -16
 2027              		.cfi_offset 8, -12
 2028              		.cfi_offset 9, -8
 2029              		.cfi_offset 14, -4
 2030 0004 89B0     		sub	sp, sp, #36
 2031              	.LCFI18:
 2032              		.cfi_def_cfa_offset 64
 2033 0006 0F46     		mov	r7, r1
 2034 0008 1646     		mov	r6, r2
 471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int newsock;
 2035              		.loc 1 471 0
 2036 000a 0023     		movs	r3, #0
 2037 000c ADF81630 		strh	r3, [sp, #22]	@ movhi
 477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 2038              		.loc 1 477 0
 2039 0010 FFF7FEFF 		bl	get_socket
 2040              	.LVL289:
 478:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 2041              		.loc 1 478 0
 2042 0014 0028     		cmp	r0, #0
 2043 0016 00F0C280 		beq	.L227
 2044 001a 0546     		mov	r5, r0
 482:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): returning EWOULDBLOCK\n", s));
 2045              		.loc 1 482 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 88


 2046 001c 0068     		ldr	r0, [r0]
 2047              	.LVL290:
 2048 001e 037F     		ldrb	r3, [r0, #28]	@ zero_extendqisi2
 2049 0020 13F0020F 		tst	r3, #2
 2050 0024 03D0     		beq	.L214
 482:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): returning EWOULDBLOCK\n", s));
 2051              		.loc 1 482 0 is_stmt 0 discriminator 1
 2052 0026 B5F90A30 		ldrsh	r3, [r5, #10]
 2053 002a 002B     		cmp	r3, #0
 2054 002c 17DD     		ble	.L230
 2055              	.L214:
 489:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 2056              		.loc 1 489 0 is_stmt 1
 2057 002e 07A9     		add	r1, sp, #28
 2058 0030 FFF7FEFF 		bl	netconn_accept
 2059              	.LVL291:
 490:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_acept failed, err=%d\n", s, err));
 2060              		.loc 1 490 0
 2061 0034 38B3     		cbz	r0, .L215
 492:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 2062              		.loc 1 492 0
 2063 0036 2B68     		ldr	r3, [r5]
 2064 0038 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2065 003a 03F0F003 		and	r3, r3, #240
 2066 003e 102B     		cmp	r3, #16
 2067 0040 13D1     		bne	.L231
 494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EINVAL);
 2068              		.loc 1 494 0
 2069 0042 10F10F0F 		cmn	r0, #15
 2070 0046 17D0     		beq	.L232
 2071              	.LBB13:
 497:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2072              		.loc 1 497 0
 2073 0048 FFF7FEFF 		bl	err_to_errno
 2074              	.LVL292:
 2075 004c 2874     		strb	r0, [r5, #16]
 2076 004e 0028     		cmp	r0, #0
 2077 0050 00F0A880 		beq	.L228
 497:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2078              		.loc 1 497 0 is_stmt 0 discriminator 1
 2079 0054 554B     		ldr	r3, .L238
 2080 0056 1860     		str	r0, [r3]
 2081              	.LBE13:
 499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2082              		.loc 1 499 0 is_stmt 1 discriminator 1
 2083 0058 4FF0FF34 		mov	r4, #-1
 2084 005c 6AE0     		b	.L212
 2085              	.LVL293:
 2086              	.L230:
 484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 2087              		.loc 1 484 0 discriminator 1
 2088 005e 534B     		ldr	r3, .L238
 2089 0060 0B22     		movs	r2, #11
 2090 0062 1A60     		str	r2, [r3]
 485:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2091              		.loc 1 485 0 discriminator 1
 2092 0064 4FF0FF34 		mov	r4, #-1
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 89


 2093 0068 64E0     		b	.L212
 2094              	.LVL294:
 2095              	.L231:
 2096              	.LBB14:
 493:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 2097              		.loc 1 493 0
 2098 006a 5F23     		movs	r3, #95
 2099 006c 2B74     		strb	r3, [r5, #16]
 2100 006e 4F4A     		ldr	r2, .L238
 2101 0070 1360     		str	r3, [r2]
 2102              	.LBE14:
 499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2103              		.loc 1 499 0
 2104 0072 4FF0FF34 		mov	r4, #-1
 2105 0076 5DE0     		b	.L212
 2106              	.LVL295:
 2107              	.L232:
 2108              	.LBB15:
 495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 2109              		.loc 1 495 0
 2110 0078 1623     		movs	r3, #22
 2111 007a 2B74     		strb	r3, [r5, #16]
 2112 007c 4B4A     		ldr	r2, .L238
 2113 007e 1360     		str	r3, [r2]
 2114              	.LBE15:
 499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2115              		.loc 1 499 0
 2116 0080 4FF0FF34 		mov	r4, #-1
 2117 0084 56E0     		b	.L212
 2118              	.LVL296:
 2119              	.L215:
 501:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2120              		.loc 1 501 0
 2121 0086 079B     		ldr	r3, [sp, #28]
 2122 0088 002B     		cmp	r3, #0
 2123 008a 57D0     		beq	.L233
 2124              	.LVL297:
 2125              	.L218:
 503:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (newsock == -1) {
 2126              		.loc 1 503 0
 2127 008c 0121     		movs	r1, #1
 2128 008e 0798     		ldr	r0, [sp, #28]
 2129 0090 FFF7FEFF 		bl	alloc_socket
 2130              	.LVL298:
 2131 0094 0446     		mov	r4, r0
 2132              	.LVL299:
 504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(newconn);
 2133              		.loc 1 504 0
 2134 0096 B0F1FF3F 		cmp	r0, #-1
 2135 009a 57D0     		beq	.L234
 509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("newconn->callback == event_callback", newconn->callback == event_callback);
 2136              		.loc 1 509 0
 2137 009c 0328     		cmp	r0, #3
 2138 009e 5DD8     		bhi	.L235
 2139              	.LVL300:
 2140              	.L220:
 510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 90


 2141              		.loc 1 510 0
 2142 00a0 079B     		ldr	r3, [sp, #28]
 2143 00a2 9A6A     		ldr	r2, [r3, #40]
 2144 00a4 424B     		ldr	r3, .L238+4
 2145 00a6 9A42     		cmp	r2, r3
 2146 00a8 06D0     		beq	.L221
 510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 2147              		.loc 1 510 0 is_stmt 0 discriminator 1
 2148 00aa 424B     		ldr	r3, .L238+8
 2149 00ac 4FF4FF72 		mov	r2, #510
 2150 00b0 4149     		ldr	r1, .L238+12
 2151 00b2 4248     		ldr	r0, .L238+16
 2152 00b4 FFF7FEFF 		bl	printf
 2153              	.LVL301:
 2154              	.L221:
 511:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2155              		.loc 1 511 0 is_stmt 1
 2156 00b8 A300     		lsls	r3, r4, #2
 2157 00ba 2344     		add	r3, r3, r4
 2158 00bc 9A00     		lsls	r2, r3, #2
 2159 00be 404B     		ldr	r3, .L238+20
 2160 00c0 03EB0208 		add	r8, r3, r2
 2161              	.LVL302:
 518:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock->rcvevent += (s16_t)(-1 - newconn->socket);
 2162              		.loc 1 518 0
 2163 00c4 FFF7FEFF 		bl	sys_arch_protect
 2164              	.LVL303:
 519:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newconn->socket = newsock;
 2165              		.loc 1 519 0
 2166 00c8 079A     		ldr	r2, [sp, #28]
 2167 00ca 118B     		ldrh	r1, [r2, #24]
 2168 00cc B8F80A30 		ldrh	r3, [r8, #10]
 2169 00d0 5B1A     		subs	r3, r3, r1
 2170 00d2 013B     		subs	r3, r3, #1
 2171 00d4 A8F80A30 		strh	r3, [r8, #10]	@ movhi
 520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 2172              		.loc 1 520 0
 2173 00d8 9461     		str	r4, [r2, #24]
 521:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2174              		.loc 1 521 0
 2175 00da FFF7FEFF 		bl	sys_arch_unprotect
 2176              	.LVL304:
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     union sockaddr_aligned tempaddr;
 2177              		.loc 1 526 0
 2178 00de 3FB3     		cbz	r7, .L222
 2179              	.LBB16:
 529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 2180              		.loc 1 529 0
 2181 00e0 0023     		movs	r3, #0
 2182 00e2 0DF11602 		add	r2, sp, #22
 2183 00e6 06A9     		add	r1, sp, #24
 2184 00e8 0798     		ldr	r0, [sp, #28]
 2185 00ea FFF7FEFF 		bl	netconn_getaddr
 2186              	.LVL305:
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_peer failed, err=%d\n", s, err));
 2187              		.loc 1 530 0
 2188 00ee 8146     		mov	r9, r0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 91


 2189 00f0 0028     		cmp	r0, #0
 2190 00f2 3BD1     		bne	.L236
 537:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2191              		.loc 1 537 0
 2192 00f4 002E     		cmp	r6, #0
 2193 00f6 4AD0     		beq	.L237
 2194              	.LVL306:
 2195              	.L225:
 539:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 2196              		.loc 1 539 0
 2197 00f8 1023     		movs	r3, #16
 2198 00fa 8DF80430 		strb	r3, [sp, #4]
 2199 00fe 0223     		movs	r3, #2
 2200 0100 8DF80530 		strb	r3, [sp, #5]
 2201 0104 BDF81600 		ldrh	r0, [sp, #22]
 2202 0108 FFF7FEFF 		bl	lwip_htons
 2203              	.LVL307:
 2204 010c ADF80600 		strh	r0, [sp, #6]	@ movhi
 2205 0110 069B     		ldr	r3, [sp, #24]
 2206 0112 0293     		str	r3, [sp, #8]
 2207 0114 0023     		movs	r3, #0
 2208 0116 0393     		str	r3, [sp, #12]
 2209 0118 0493     		str	r3, [sp, #16]
 540:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *addrlen = tempaddr.sa.sa_len;
 2210              		.loc 1 540 0
 2211 011a 3268     		ldr	r2, [r6]
 2212 011c 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 2213 0120 9A42     		cmp	r2, r3
 2214 0122 00D9     		bls	.L226
 541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2215              		.loc 1 541 0
 2216 0124 3360     		str	r3, [r6]
 2217              	.L226:
 543:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2218              		.loc 1 543 0
 2219 0126 3268     		ldr	r2, [r6]
 2220 0128 01A9     		add	r1, sp, #4
 2221 012a 3846     		mov	r0, r7
 2222 012c FFF7FEFF 		bl	memcpy
 2223              	.LVL308:
 2224              	.L222:
 2225              	.LBE16:
 2226              	.LBB18:
 552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return newsock;
 2227              		.loc 1 552 0
 2228 0130 0023     		movs	r3, #0
 2229 0132 2B74     		strb	r3, [r5, #16]
 2230              	.LVL309:
 2231              	.L212:
 2232              	.LBE18:
 554:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2233              		.loc 1 554 0
 2234 0134 2046     		mov	r0, r4
 2235 0136 09B0     		add	sp, sp, #36
 2236              	.LCFI19:
 2237              		.cfi_remember_state
 2238              		.cfi_def_cfa_offset 28
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 92


 2239              		@ sp needed
 2240 0138 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 2241              	.LVL310:
 2242              	.L233:
 2243              	.LCFI20:
 2244              		.cfi_restore_state
 501:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2245              		.loc 1 501 0 discriminator 1
 2246 013c 1D4B     		ldr	r3, .L238+8
 2247 013e 40F2F512 		movw	r2, #501
 2248 0142 2049     		ldr	r1, .L238+24
 2249 0144 1D48     		ldr	r0, .L238+16
 2250              	.LVL311:
 2251 0146 FFF7FEFF 		bl	printf
 2252              	.LVL312:
 2253 014a 9FE7     		b	.L218
 2254              	.LVL313:
 2255              	.L234:
 505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENFILE);
 2256              		.loc 1 505 0
 2257 014c 0798     		ldr	r0, [sp, #28]
 2258              	.LVL314:
 2259 014e FFF7FEFF 		bl	netconn_delete
 2260              	.LVL315:
 2261              	.LBB19:
 506:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 2262              		.loc 1 506 0
 2263 0152 1723     		movs	r3, #23
 2264 0154 2B74     		strb	r3, [r5, #16]
 2265 0156 154A     		ldr	r2, .L238
 2266 0158 1360     		str	r3, [r2]
 2267              	.LBE19:
 507:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2268              		.loc 1 507 0
 2269 015a EBE7     		b	.L212
 2270              	.LVL316:
 2271              	.L235:
 509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("newconn->callback == event_callback", newconn->callback == event_callback);
 2272              		.loc 1 509 0 discriminator 1
 2273 015c 154B     		ldr	r3, .L238+8
 2274 015e 40F2FD12 		movw	r2, #509
 2275 0162 1949     		ldr	r1, .L238+28
 2276 0164 1548     		ldr	r0, .L238+16
 2277              	.LVL317:
 2278 0166 FFF7FEFF 		bl	printf
 2279              	.LVL318:
 2280 016a 99E7     		b	.L220
 2281              	.LVL319:
 2282              	.L236:
 2283              	.LBB20:
 532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       free_socket(nsock, 1);
 2284              		.loc 1 532 0
 2285 016c 0798     		ldr	r0, [sp, #28]
 2286              	.LVL320:
 2287 016e FFF7FEFF 		bl	netconn_delete
 2288              	.LVL321:
 533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 93


 2289              		.loc 1 533 0
 2290 0172 0121     		movs	r1, #1
 2291 0174 4046     		mov	r0, r8
 2292 0176 FFF7FEFF 		bl	free_socket
 2293              	.LVL322:
 2294              	.LBB17:
 534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 2295              		.loc 1 534 0
 2296 017a 4846     		mov	r0, r9
 2297 017c FFF7FEFF 		bl	err_to_errno
 2298              	.LVL323:
 2299 0180 2874     		strb	r0, [r5, #16]
 2300 0182 08B1     		cbz	r0, .L224
 534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 2301              		.loc 1 534 0 is_stmt 0 discriminator 1
 2302 0184 094B     		ldr	r3, .L238
 2303 0186 1860     		str	r0, [r3]
 2304              	.L224:
 2305              	.LBE17:
 535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2306              		.loc 1 535 0 is_stmt 1
 2307 0188 4FF0FF34 		mov	r4, #-1
 2308              	.LVL324:
 2309 018c D2E7     		b	.L212
 2310              	.LVL325:
 2311              	.L237:
 537:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2312              		.loc 1 537 0 discriminator 1
 2313 018e 094B     		ldr	r3, .L238+8
 2314 0190 40F21922 		movw	r2, #537
 2315 0194 0D49     		ldr	r1, .L238+32
 2316 0196 0948     		ldr	r0, .L238+16
 2317              	.LVL326:
 2318 0198 FFF7FEFF 		bl	printf
 2319              	.LVL327:
 2320 019c ACE7     		b	.L225
 2321              	.LVL328:
 2322              	.L227:
 2323              	.LBE20:
 479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2324              		.loc 1 479 0
 2325 019e 4FF0FF34 		mov	r4, #-1
 2326 01a2 C7E7     		b	.L212
 2327              	.LVL329:
 2328              	.L228:
 499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2329              		.loc 1 499 0
 2330 01a4 4FF0FF34 		mov	r4, #-1
 2331 01a8 C4E7     		b	.L212
 2332              	.L239:
 2333 01aa 00BF     		.align	2
 2334              	.L238:
 2335 01ac 00000000 		.word	errno
 2336 01b0 00000000 		.word	event_callback
 2337 01b4 00000000 		.word	.LC0
 2338 01b8 28000000 		.word	.LC6
 2339 01bc 3C000000 		.word	.LC2
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 94


 2340 01c0 00000000 		.word	.LANCHOR0
 2341 01c4 00000000 		.word	.LC4
 2342 01c8 10000000 		.word	.LC5
 2343 01cc 4C000000 		.word	.LC7
 2344              		.cfi_endproc
 2345              	.LFE153:
 2347              		.section	.text.lwip_bind,"ax",%progbits
 2348              		.align	1
 2349              		.global	lwip_bind
 2350              		.syntax unified
 2351              		.thumb
 2352              		.thumb_func
 2353              		.fpu fpv4-sp-d16
 2355              	lwip_bind:
 2356              	.LFB154:
 558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 2357              		.loc 1 558 0
 2358              		.cfi_startproc
 2359              		@ args = 0, pretend = 0, frame = 8
 2360              		@ frame_needed = 0, uses_anonymous_args = 0
 2361              	.LVL330:
 2362 0000 70B5     		push	{r4, r5, r6, lr}
 2363              	.LCFI21:
 2364              		.cfi_def_cfa_offset 16
 2365              		.cfi_offset 4, -16
 2366              		.cfi_offset 5, -12
 2367              		.cfi_offset 6, -8
 2368              		.cfi_offset 14, -4
 2369 0002 82B0     		sub	sp, sp, #8
 2370              	.LCFI22:
 2371              		.cfi_def_cfa_offset 24
 2372 0004 0E46     		mov	r6, r1
 2373 0006 1546     		mov	r5, r2
 564:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 2374              		.loc 1 564 0
 2375 0008 FFF7FEFF 		bl	get_socket
 2376              	.LVL331:
 565:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 2377              		.loc 1 565 0
 2378 000c 0028     		cmp	r0, #0
 2379 000e 34D0     		beq	.L245
 2380 0010 0446     		mov	r4, r0
 576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 2381              		.loc 1 576 0
 2382 0012 102D     		cmp	r5, #16
 2383 0014 02D1     		bne	.L242
 576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 2384              		.loc 1 576 0 is_stmt 0 discriminator 2
 2385 0016 7378     		ldrb	r3, [r6, #1]	@ zero_extendqisi2
 2386 0018 022B     		cmp	r3, #2
 2387 001a 12D0     		beq	.L249
 2388              	.L242:
 576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 2389              		.loc 1 576 0 discriminator 5
 2390 001c 1B4B     		ldr	r3, .L251
 2391 001e 40F24222 		movw	r2, #578
 2392 0022 1B49     		ldr	r1, .L251+4
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 95


 2393 0024 1B48     		ldr	r0, .L251+8
 2394              	.LVL332:
 2395 0026 FFF7FEFF 		bl	printf
 2396              	.LVL333:
 2397              	.LBB21:
 2398 002a 6FF00F00 		mvn	r0, #15
 2399 002e FFF7FEFF 		bl	err_to_errno
 2400              	.LVL334:
 2401 0032 2074     		strb	r0, [r4, #16]
 2402 0034 20B3     		cbz	r0, .L246
 576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 2403              		.loc 1 576 0 discriminator 6
 2404 0036 184B     		ldr	r3, .L251+12
 2405 0038 1860     		str	r0, [r3]
 2406              	.LBE21:
 2407 003a 4FF0FF30 		mov	r0, #-1
 2408              	.LVL335:
 2409              	.L240:
 605:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2410              		.loc 1 605 0 is_stmt 1
 2411 003e 02B0     		add	sp, sp, #8
 2412              	.LCFI23:
 2413              		.cfi_remember_state
 2414              		.cfi_def_cfa_offset 16
 2415              		@ sp needed
 2416 0040 70BD     		pop	{r4, r5, r6, pc}
 2417              	.LVL336:
 2418              	.L249:
 2419              	.LCFI24:
 2420              		.cfi_restore_state
 576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 2421              		.loc 1 576 0 discriminator 4
 2422 0042 16F0030F 		tst	r6, #3
 2423 0046 E9D1     		bne	.L242
 581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 2424              		.loc 1 581 0
 2425 0048 7368     		ldr	r3, [r6, #4]
 2426 004a 02AD     		add	r5, sp, #8
 2427              	.LVL337:
 2428 004c 45F8043D 		str	r3, [r5, #-4]!
 2429 0050 7088     		ldrh	r0, [r6, #2]
 2430              	.LVL338:
 2431 0052 FFF7FEFF 		bl	lwip_htons
 2432              	.LVL339:
 594:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2433              		.loc 1 594 0
 2434 0056 0246     		mov	r2, r0
 2435 0058 2946     		mov	r1, r5
 2436 005a 2068     		ldr	r0, [r4]
 2437              	.LVL340:
 2438 005c FFF7FEFF 		bl	netconn_bind
 2439              	.LVL341:
 596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) failed, err=%d\n", s, err));
 2440              		.loc 1 596 0
 2441 0060 10B9     		cbnz	r0, .L250
 2442              	.LVL342:
 2443              	.LBB22:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 96


 603:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 2444              		.loc 1 603 0
 2445 0062 0020     		movs	r0, #0
 2446              	.LVL343:
 2447 0064 2074     		strb	r0, [r4, #16]
 2448              	.LBE22:
 604:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 2449              		.loc 1 604 0
 2450 0066 EAE7     		b	.L240
 2451              	.LVL344:
 2452              	.L250:
 2453              	.LBB23:
 598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 2454              		.loc 1 598 0
 2455 0068 FFF7FEFF 		bl	err_to_errno
 2456              	.LVL345:
 2457 006c 2074     		strb	r0, [r4, #16]
 2458 006e 50B1     		cbz	r0, .L247
 598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 2459              		.loc 1 598 0 is_stmt 0 discriminator 1
 2460 0070 094B     		ldr	r3, .L251+12
 2461 0072 1860     		str	r0, [r3]
 2462              	.LBE23:
 599:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2463              		.loc 1 599 0 is_stmt 1 discriminator 1
 2464 0074 4FF0FF30 		mov	r0, #-1
 2465              	.LVL346:
 2466 0078 E1E7     		b	.L240
 2467              	.LVL347:
 2468              	.L245:
 566:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2469              		.loc 1 566 0
 2470 007a 4FF0FF30 		mov	r0, #-1
 2471              	.LVL348:
 2472 007e DEE7     		b	.L240
 2473              	.LVL349:
 2474              	.L246:
 576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 2475              		.loc 1 576 0
 2476 0080 4FF0FF30 		mov	r0, #-1
 2477              	.LVL350:
 2478 0084 DBE7     		b	.L240
 2479              	.LVL351:
 2480              	.L247:
 599:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2481              		.loc 1 599 0
 2482 0086 4FF0FF30 		mov	r0, #-1
 2483              	.LVL352:
 2484 008a D8E7     		b	.L240
 2485              	.L252:
 2486              		.align	2
 2487              	.L251:
 2488 008c 00000000 		.word	.LC0
 2489 0090 00000000 		.word	.LC8
 2490 0094 3C000000 		.word	.LC2
 2491 0098 00000000 		.word	errno
 2492              		.cfi_endproc
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 97


 2493              	.LFE154:
 2495              		.section	.text.lwip_close,"ax",%progbits
 2496              		.align	1
 2497              		.global	lwip_close
 2498              		.syntax unified
 2499              		.thumb
 2500              		.thumb_func
 2501              		.fpu fpv4-sp-d16
 2503              	lwip_close:
 2504              	.LFB155:
 609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 2505              		.loc 1 609 0
 2506              		.cfi_startproc
 2507              		@ args = 0, pretend = 0, frame = 0
 2508              		@ frame_needed = 0, uses_anonymous_args = 0
 2509              	.LVL353:
 2510 0000 38B5     		push	{r3, r4, r5, lr}
 2511              	.LCFI25:
 2512              		.cfi_def_cfa_offset 16
 2513              		.cfi_offset 3, -16
 2514              		.cfi_offset 4, -12
 2515              		.cfi_offset 5, -8
 2516              		.cfi_offset 14, -4
 2517              	.LVL354:
 616:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 2518              		.loc 1 616 0
 2519 0002 FFF7FEFF 		bl	get_socket
 2520              	.LVL355:
 617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 2521              		.loc 1 617 0
 2522 0006 48B3     		cbz	r0, .L258
 2523 0008 0446     		mov	r4, r0
 621:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     is_tcp = NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP;
 2524              		.loc 1 621 0
 2525 000a 0368     		ldr	r3, [r0]
 2526 000c 9BB1     		cbz	r3, .L255
 622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 2527              		.loc 1 622 0
 2528 000e 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 2529 0010 05F0F005 		and	r5, r5, #240
 2530 0014 102D     		cmp	r5, #16
 2531 0016 14BF     		ite	ne
 2532 0018 0025     		movne	r5, #0
 2533 001a 0125     		moveq	r5, #1
 2534              	.LVL356:
 2535              	.L256:
 632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 2536              		.loc 1 632 0
 2537 001c 2068     		ldr	r0, [r4]
 2538 001e FFF7FEFF 		bl	netconn_delete
 2539              	.LVL357:
 633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 2540              		.loc 1 633 0
 2541 0022 A8B1     		cbz	r0, .L257
 2542              	.LBB24:
 634:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 2543              		.loc 1 634 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 98


 2544 0024 FFF7FEFF 		bl	err_to_errno
 2545              	.LVL358:
 2546 0028 2074     		strb	r0, [r4, #16]
 2547 002a D0B1     		cbz	r0, .L260
 634:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 2548              		.loc 1 634 0 is_stmt 0 discriminator 1
 2549 002c 0E4B     		ldr	r3, .L262
 2550 002e 1860     		str	r0, [r3]
 2551              	.LBE24:
 635:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2552              		.loc 1 635 0 is_stmt 1 discriminator 1
 2553 0030 4FF0FF30 		mov	r0, #-1
 2554              	.LVL359:
 2555 0034 11E0     		b	.L253
 2556              	.LVL360:
 2557              	.L255:
 624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2558              		.loc 1 624 0
 2559 0036 4368     		ldr	r3, [r0, #4]
 2560 0038 43B1     		cbz	r3, .L259
 624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2561              		.loc 1 624 0 is_stmt 0 discriminator 1
 2562 003a 0C4B     		ldr	r3, .L262+4
 2563 003c 4FF41C72 		mov	r2, #624
 2564 0040 0B49     		ldr	r1, .L262+8
 2565 0042 0C48     		ldr	r0, .L262+12
 2566              	.LVL361:
 2567 0044 FFF7FEFF 		bl	printf
 2568              	.LVL362:
 611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 2569              		.loc 1 611 0 is_stmt 1 discriminator 1
 2570 0048 0025     		movs	r5, #0
 2571 004a E7E7     		b	.L256
 2572              	.LVL363:
 2573              	.L259:
 611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 2574              		.loc 1 611 0 is_stmt 0
 2575 004c 0025     		movs	r5, #0
 2576 004e E5E7     		b	.L256
 2577              	.LVL364:
 2578              	.L257:
 638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
 2579              		.loc 1 638 0 is_stmt 1
 2580 0050 2946     		mov	r1, r5
 2581 0052 2046     		mov	r0, r4
 2582              	.LVL365:
 2583 0054 FFF7FEFF 		bl	free_socket
 2584              	.LVL366:
 640:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 2585              		.loc 1 640 0
 2586 0058 0020     		movs	r0, #0
 2587              	.LVL367:
 2588              	.L253:
 641:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2589              		.loc 1 641 0
 2590 005a 38BD     		pop	{r3, r4, r5, pc}
 2591              	.LVL368:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 99


 2592              	.L258:
 618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2593              		.loc 1 618 0
 2594 005c 4FF0FF30 		mov	r0, #-1
 2595              	.LVL369:
 2596 0060 FBE7     		b	.L253
 2597              	.LVL370:
 2598              	.L260:
 635:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2599              		.loc 1 635 0
 2600 0062 4FF0FF30 		mov	r0, #-1
 2601              	.LVL371:
 2602 0066 F8E7     		b	.L253
 2603              	.L263:
 2604              		.align	2
 2605              	.L262:
 2606 0068 00000000 		.word	errno
 2607 006c 00000000 		.word	.LC0
 2608 0070 00000000 		.word	.LC9
 2609 0074 3C000000 		.word	.LC2
 2610              		.cfi_endproc
 2611              	.LFE155:
 2613              		.section	.text.lwip_connect,"ax",%progbits
 2614              		.align	1
 2615              		.global	lwip_connect
 2616              		.syntax unified
 2617              		.thumb
 2618              		.thumb_func
 2619              		.fpu fpv4-sp-d16
 2621              	lwip_connect:
 2622              	.LFB156:
 645:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 2623              		.loc 1 645 0
 2624              		.cfi_startproc
 2625              		@ args = 0, pretend = 0, frame = 8
 2626              		@ frame_needed = 0, uses_anonymous_args = 0
 2627              	.LVL372:
 2628 0000 70B5     		push	{r4, r5, r6, lr}
 2629              	.LCFI26:
 2630              		.cfi_def_cfa_offset 16
 2631              		.cfi_offset 4, -16
 2632              		.cfi_offset 5, -12
 2633              		.cfi_offset 6, -8
 2634              		.cfi_offset 14, -4
 2635 0002 82B0     		sub	sp, sp, #8
 2636              	.LCFI27:
 2637              		.cfi_def_cfa_offset 24
 2638 0004 0C46     		mov	r4, r1
 2639 0006 1646     		mov	r6, r2
 649:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 2640              		.loc 1 649 0
 2641 0008 FFF7FEFF 		bl	get_socket
 2642              	.LVL373:
 650:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     printf("Cannot get socket\r\n");
 2643              		.loc 1 650 0
 2644 000c D0B1     		cbz	r0, .L275
 2645 000e 0546     		mov	r5, r0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 100


 663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, AF_UNSPEC)\n", s));
 2646              		.loc 1 663 0
 2647 0010 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 2648 0012 EBB1     		cbz	r3, .L276
 2649              	.LBB25:
 671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 2650              		.loc 1 671 0
 2651 0014 102E     		cmp	r6, #16
 2652 0016 1FD1     		bne	.L269
 671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 2653              		.loc 1 671 0 is_stmt 0 discriminator 3
 2654 0018 022B     		cmp	r3, #2
 2655 001a 1DD1     		bne	.L269
 671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 2656              		.loc 1 671 0 discriminator 6
 2657 001c 14F0030F 		tst	r4, #3
 2658 0020 1AD1     		bne	.L269
 675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 2659              		.loc 1 675 0 is_stmt 1
 2660 0022 6368     		ldr	r3, [r4, #4]
 2661 0024 02AE     		add	r6, sp, #8
 2662              	.LVL374:
 2663 0026 46F8043D 		str	r3, [r6, #-4]!
 2664 002a 6088     		ldrh	r0, [r4, #2]
 2665              	.LVL375:
 2666 002c FFF7FEFF 		bl	lwip_htons
 2667              	.LVL376:
 688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2668              		.loc 1 688 0
 2669 0030 0246     		mov	r2, r0
 2670 0032 3146     		mov	r1, r6
 2671 0034 2868     		ldr	r0, [r5]
 2672              	.LVL377:
 2673 0036 FFF7FEFF 		bl	netconn_connect
 2674              	.LVL378:
 2675              	.L268:
 2676              	.LBE25:
 691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) failed, err=%d\n", s, err));
 2677              		.loc 1 691 0
 2678 003a F8B9     		cbnz	r0, .L277
 2679              	.LVL379:
 2680              	.LBB27:
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 2681              		.loc 1 698 0
 2682 003c 0020     		movs	r0, #0
 2683              	.LVL380:
 2684 003e 2874     		strb	r0, [r5, #16]
 2685              	.LVL381:
 2686              	.L264:
 2687              	.LBE27:
 700:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2688              		.loc 1 700 0
 2689 0040 02B0     		add	sp, sp, #8
 2690              	.LCFI28:
 2691              		.cfi_remember_state
 2692              		.cfi_def_cfa_offset 16
 2693              		@ sp needed
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 101


 2694 0042 70BD     		pop	{r4, r5, r6, pc}
 2695              	.LVL382:
 2696              	.L275:
 2697              	.LCFI29:
 2698              		.cfi_restore_state
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 2699              		.loc 1 651 0
 2700 0044 1348     		ldr	r0, .L278
 2701              	.LVL383:
 2702 0046 FFF7FEFF 		bl	puts
 2703              	.LVL384:
 652:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2704              		.loc 1 652 0
 2705 004a 4FF0FF30 		mov	r0, #-1
 2706 004e F7E7     		b	.L264
 2707              	.LVL385:
 2708              	.L276:
 665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 2709              		.loc 1 665 0
 2710 0050 0068     		ldr	r0, [r0]
 2711              	.LVL386:
 2712 0052 FFF7FEFF 		bl	netconn_disconnect
 2713              	.LVL387:
 2714 0056 F0E7     		b	.L268
 2715              	.LVL388:
 2716              	.L269:
 2717              	.LBB28:
 671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 2718              		.loc 1 671 0 discriminator 7
 2719 0058 0F4B     		ldr	r3, .L278+4
 2720 005a 40F2A122 		movw	r2, #673
 2721 005e 0F49     		ldr	r1, .L278+8
 2722 0060 0F48     		ldr	r0, .L278+12
 2723              	.LVL389:
 2724 0062 FFF7FEFF 		bl	printf
 2725              	.LVL390:
 2726              	.LBB26:
 2727 0066 6FF00F00 		mvn	r0, #15
 2728 006a FFF7FEFF 		bl	err_to_errno
 2729              	.LVL391:
 2730 006e 2874     		strb	r0, [r5, #16]
 2731 0070 08B1     		cbz	r0, .L271
 671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 2732              		.loc 1 671 0 is_stmt 0 discriminator 8
 2733 0072 0C4B     		ldr	r3, .L278+16
 2734 0074 1860     		str	r0, [r3]
 2735              	.L271:
 2736              	.LBE26:
 671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 2737              		.loc 1 671 0 discriminator 10
 2738 0076 4FF0FF30 		mov	r0, #-1
 2739              	.LVL392:
 2740 007a E1E7     		b	.L264
 2741              	.LVL393:
 2742              	.L277:
 2743              	.LBE28:
 2744              	.LBB29:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 102


 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 2745              		.loc 1 693 0 is_stmt 1
 2746 007c FFF7FEFF 		bl	err_to_errno
 2747              	.LVL394:
 2748 0080 2874     		strb	r0, [r5, #16]
 2749 0082 20B1     		cbz	r0, .L273
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 2750              		.loc 1 693 0 is_stmt 0 discriminator 1
 2751 0084 074B     		ldr	r3, .L278+16
 2752 0086 1860     		str	r0, [r3]
 2753              	.LBE29:
 694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2754              		.loc 1 694 0 is_stmt 1 discriminator 1
 2755 0088 4FF0FF30 		mov	r0, #-1
 2756              	.LVL395:
 2757 008c D8E7     		b	.L264
 2758              	.LVL396:
 2759              	.L273:
 694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2760              		.loc 1 694 0 is_stmt 0
 2761 008e 4FF0FF30 		mov	r0, #-1
 2762              	.LVL397:
 2763 0092 D5E7     		b	.L264
 2764              	.L279:
 2765              		.align	2
 2766              	.L278:
 2767 0094 00000000 		.word	.LC10
 2768 0098 00000000 		.word	.LC0
 2769 009c 14000000 		.word	.LC11
 2770 00a0 3C000000 		.word	.LC2
 2771 00a4 00000000 		.word	errno
 2772              		.cfi_endproc
 2773              	.LFE156:
 2775              		.section	.text.lwip_listen,"ax",%progbits
 2776              		.align	1
 2777              		.global	lwip_listen
 2778              		.syntax unified
 2779              		.thumb
 2780              		.thumb_func
 2781              		.fpu fpv4-sp-d16
 2783              	lwip_listen:
 2784              	.LFB157:
 712:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 2785              		.loc 1 712 0 is_stmt 1
 2786              		.cfi_startproc
 2787              		@ args = 0, pretend = 0, frame = 0
 2788              		@ frame_needed = 0, uses_anonymous_args = 0
 2789              	.LVL398:
 2790 0000 38B5     		push	{r3, r4, r5, lr}
 2791              	.LCFI30:
 2792              		.cfi_def_cfa_offset 16
 2793              		.cfi_offset 3, -16
 2794              		.cfi_offset 4, -12
 2795              		.cfi_offset 5, -8
 2796              		.cfi_offset 14, -4
 2797 0002 0C46     		mov	r4, r1
 718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 103


 2798              		.loc 1 718 0
 2799 0004 FFF7FEFF 		bl	get_socket
 2800              	.LVL399:
 719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 2801              		.loc 1 719 0
 2802 0008 20B3     		cbz	r0, .L285
 2803 000a 0546     		mov	r5, r0
 724:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2804              		.loc 1 724 0
 2805 000c FE2C     		cmp	r4, #254
 2806 000e 15DC     		bgt	.L286
 724:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2807              		.loc 1 724 0 is_stmt 0 discriminator 1
 2808 0010 24EAE471 		bic	r1, r4, r4, asr #31
 2809              	.L282:
 2810              	.LVL400:
 726:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2811              		.loc 1 726 0 is_stmt 1 discriminator 4
 2812 0014 C9B2     		uxtb	r1, r1
 2813              	.LVL401:
 2814 0016 2868     		ldr	r0, [r5]
 2815              	.LVL402:
 2816 0018 FFF7FEFF 		bl	netconn_listen_with_backlog
 2817              	.LVL403:
 728:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d) failed, err=%d\n", s, err));
 2818              		.loc 1 728 0 discriminator 4
 2819 001c B8B1     		cbz	r0, .L283
 730:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 2820              		.loc 1 730 0
 2821 001e 2B68     		ldr	r3, [r5]
 2822 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2823 0022 03F0F003 		and	r3, r3, #240
 2824 0026 102B     		cmp	r3, #16
 2825 0028 0AD1     		bne	.L289
 2826              	.LBB30:
 734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 2827              		.loc 1 734 0
 2828 002a FFF7FEFF 		bl	err_to_errno
 2829              	.LVL404:
 2830 002e 2874     		strb	r0, [r5, #16]
 2831 0030 98B1     		cbz	r0, .L287
 734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 2832              		.loc 1 734 0 is_stmt 0 discriminator 1
 2833 0032 0B4B     		ldr	r3, .L290
 2834 0034 1860     		str	r0, [r3]
 2835              	.LBE30:
 735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2836              		.loc 1 735 0 is_stmt 1 discriminator 1
 2837 0036 4FF0FF30 		mov	r0, #-1
 2838              	.LVL405:
 2839 003a 0AE0     		b	.L280
 2840              	.LVL406:
 2841              	.L286:
 724:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2842              		.loc 1 724 0
 2843 003c FF21     		movs	r1, #255
 2844 003e E9E7     		b	.L282
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 104


 2845              	.LVL407:
 2846              	.L289:
 2847              	.LBB31:
 731:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 2848              		.loc 1 731 0
 2849 0040 5F23     		movs	r3, #95
 2850 0042 2B74     		strb	r3, [r5, #16]
 2851 0044 064A     		ldr	r2, .L290
 2852 0046 1360     		str	r3, [r2]
 2853              	.LBE31:
 732:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2854              		.loc 1 732 0
 2855 0048 4FF0FF30 		mov	r0, #-1
 2856              	.LVL408:
 2857 004c 01E0     		b	.L280
 2858              	.LVL409:
 2859              	.L283:
 2860              	.LBB32:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 2861              		.loc 1 738 0
 2862 004e 0020     		movs	r0, #0
 2863              	.LVL410:
 2864 0050 2874     		strb	r0, [r5, #16]
 2865              	.LVL411:
 2866              	.L280:
 2867              	.LBE32:
 740:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2868              		.loc 1 740 0
 2869 0052 38BD     		pop	{r3, r4, r5, pc}
 2870              	.LVL412:
 2871              	.L285:
 720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2872              		.loc 1 720 0
 2873 0054 4FF0FF30 		mov	r0, #-1
 2874              	.LVL413:
 2875 0058 FBE7     		b	.L280
 2876              	.LVL414:
 2877              	.L287:
 735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2878              		.loc 1 735 0
 2879 005a 4FF0FF30 		mov	r0, #-1
 2880              	.LVL415:
 2881 005e F8E7     		b	.L280
 2882              	.L291:
 2883              		.align	2
 2884              	.L290:
 2885 0060 00000000 		.word	errno
 2886              		.cfi_endproc
 2887              	.LFE157:
 2889              		.section	.text.lwip_recvfrom,"ax",%progbits
 2890              		.align	1
 2891              		.global	lwip_recvfrom
 2892              		.syntax unified
 2893              		.thumb
 2894              		.thumb_func
 2895              		.fpu fpv4-sp-d16
 2897              	lwip_recvfrom:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 105


 2898              	.LFB158:
 745:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 2899              		.loc 1 745 0
 2900              		.cfi_startproc
 2901              		@ args = 8, pretend = 0, frame = 48
 2902              		@ frame_needed = 0, uses_anonymous_args = 0
 2903              	.LVL416:
 2904 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2905              	.LCFI31:
 2906              		.cfi_def_cfa_offset 36
 2907              		.cfi_offset 4, -36
 2908              		.cfi_offset 5, -32
 2909              		.cfi_offset 6, -28
 2910              		.cfi_offset 7, -24
 2911              		.cfi_offset 8, -20
 2912              		.cfi_offset 9, -16
 2913              		.cfi_offset 10, -12
 2914              		.cfi_offset 11, -8
 2915              		.cfi_offset 14, -4
 2916 0004 8DB0     		sub	sp, sp, #52
 2917              	.LCFI32:
 2918              		.cfi_def_cfa_offset 88
 2919 0006 0291     		str	r1, [sp, #8]
 2920 0008 9346     		mov	fp, r2
 2921 000a 0093     		str	r3, [sp]
 2922 000c DDF85CA0 		ldr	r10, [sp, #92]
 747:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct pbuf      *p;
 2923              		.loc 1 747 0
 2924 0010 0023     		movs	r3, #0
 2925              	.LVL417:
 2926 0012 0B93     		str	r3, [sp, #44]
 2927              	.LVL418:
 755:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 2928              		.loc 1 755 0
 2929 0014 FFF7FEFF 		bl	get_socket
 2930              	.LVL419:
 756:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 2931              		.loc 1 756 0
 2932 0018 0028     		cmp	r0, #0
 2933 001a 00F01181 		beq	.L320
 2934 001e 0646     		mov	r6, r0
 751:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t            err;
 2935              		.loc 1 751 0
 2936 0020 0025     		movs	r5, #0
 750:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t             done = 0;
 2937              		.loc 1 750 0
 2938 0022 A846     		mov	r8, r5
 2939 0024 A946     		mov	r9, r5
 2940 0026 A7E0     		b	.L319
 2941              	.LVL420:
 2942              	.L294:
 767:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (sock->rcvevent <= 0)) {
 2943              		.loc 1 767 0
 2944 0028 009B     		ldr	r3, [sp]
 2945 002a 13F0080F 		tst	r3, #8
 2946 002e 04D1     		bne	.L296
 767:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (sock->rcvevent <= 0)) {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 106


 2947              		.loc 1 767 0 is_stmt 0 discriminator 2
 2948 0030 3368     		ldr	r3, [r6]
 2949 0032 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 2950 0034 13F0020F 		tst	r3, #2
 2951 0038 03D0     		beq	.L297
 2952              	.L296:
 768:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (off > 0) {
 2953              		.loc 1 768 0 is_stmt 1 discriminator 3
 2954 003a B6F90A30 		ldrsh	r3, [r6, #10]
 767:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (sock->rcvevent <= 0)) {
 2955              		.loc 1 767 0 discriminator 3
 2956 003e 002B     		cmp	r3, #0
 2957 0040 0EDD     		ble	.L329
 2958              	.L297:
 781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err = netconn_recv_tcp_pbuf(sock->conn, (struct pbuf **)&buf);
 2959              		.loc 1 781 0
 2960 0042 3068     		ldr	r0, [r6]
 2961 0044 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 2962 0046 03F0F003 		and	r3, r3, #240
 2963 004a 102B     		cmp	r3, #16
 2964 004c 14D0     		beq	.L330
 784:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 2965              		.loc 1 784 0
 2966 004e 0BA9     		add	r1, sp, #44
 2967 0050 FFF7FEFF 		bl	netconn_recv
 2968              	.LVL421:
 2969              	.L300:
 789:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (off > 0) {
 2970              		.loc 1 789 0
 2971 0054 A0B9     		cbnz	r0, .L331
 809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata = buf;
 2972              		.loc 1 809 0
 2973 0056 0B9B     		ldr	r3, [sp, #44]
 2974 0058 7BB3     		cbz	r3, .L332
 2975              	.LVL422:
 2976              	.L305:
 810:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2977              		.loc 1 810 0
 2978 005a 0B9B     		ldr	r3, [sp, #44]
 2979 005c 7360     		str	r3, [r6, #4]
 2980 005e 90E0     		b	.L295
 2981              	.L329:
 769:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* already received data, return that */
 2982              		.loc 1 769 0
 2983 0060 B8F1000F 		cmp	r8, #0
 2984 0064 02DD     		ble	.L298
 2985              	.LVL423:
 2986              	.LBB33:
 771:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return off;
 2987              		.loc 1 771 0
 2988 0066 0023     		movs	r3, #0
 2989 0068 3374     		strb	r3, [r6, #16]
 2990              	.LBE33:
 772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 2991              		.loc 1 772 0
 2992 006a E5E0     		b	.L292
 2993              	.LVL424:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 107


 2994              	.L298:
 775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
 2995              		.loc 1 775 0 discriminator 1
 2996 006c 774B     		ldr	r3, .L341
 2997 006e 0B22     		movs	r2, #11
 2998 0070 1A60     		str	r2, [r3]
 776:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 2999              		.loc 1 776 0 discriminator 1
 3000 0072 4FF0FF38 		mov	r8, #-1
 3001              	.LVL425:
 3002 0076 DFE0     		b	.L292
 3003              	.LVL426:
 3004              	.L330:
 782:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
 3005              		.loc 1 782 0
 3006 0078 0BA9     		add	r1, sp, #44
 3007 007a FFF7FEFF 		bl	netconn_recv_tcp_pbuf
 3008              	.LVL427:
 3009 007e E9E7     		b	.L300
 3010              	.L331:
 3011 0080 0446     		mov	r4, r0
 790:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (err == ERR_CLSD) {
 3012              		.loc 1 790 0
 3013 0082 B8F1000F 		cmp	r8, #0
 3014 0086 0BDD     		ble	.L302
 791:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* closed but already received data, ensure select gets the FIN, too */
 3015              		.loc 1 791 0
 3016 0088 10F10F0F 		cmn	r0, #15
 3017 008c 02D0     		beq	.L333
 3018              	.LVL428:
 3019              	.L303:
 3020              	.LBB34:
 796:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return off;
 3021              		.loc 1 796 0
 3022 008e 0023     		movs	r3, #0
 3023 0090 3374     		strb	r3, [r6, #16]
 3024              	.LBE34:
 797:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 3025              		.loc 1 797 0
 3026 0092 D1E0     		b	.L292
 3027              	.LVL429:
 3028              	.L333:
 793:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3029              		.loc 1 793 0
 3030 0094 0022     		movs	r2, #0
 3031 0096 1146     		mov	r1, r2
 3032 0098 3068     		ldr	r0, [r6]
 3033              	.LVL430:
 3034 009a FFF7FEFF 		bl	event_callback
 3035              	.LVL431:
 3036 009e F6E7     		b	.L303
 3037              	.LVL432:
 3038              	.L302:
 3039              	.LBB35:
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 3040              		.loc 1 802 0
 3041 00a0 FFF7FEFF 		bl	err_to_errno
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 108


 3042              	.LVL433:
 3043 00a4 3074     		strb	r0, [r6, #16]
 3044 00a6 08B1     		cbz	r0, .L304
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 3045              		.loc 1 802 0 is_stmt 0 discriminator 1
 3046 00a8 684B     		ldr	r3, .L341
 3047 00aa 1860     		str	r0, [r3]
 3048              	.L304:
 3049              	.LBE35:
 803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return 0;
 3050              		.loc 1 803 0 is_stmt 1
 3051 00ac 14F10F0F 		cmn	r4, #15
 3052 00b0 40F0C980 		bne	.L321
 804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
 3053              		.loc 1 804 0
 3054 00b4 4FF00008 		mov	r8, #0
 3055              	.LVL434:
 3056 00b8 BEE0     		b	.L292
 3057              	.LVL435:
 3058              	.L332:
 809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata = buf;
 3059              		.loc 1 809 0 discriminator 1
 3060 00ba 654B     		ldr	r3, .L341+4
 3061 00bc 40F22932 		movw	r2, #809
 3062 00c0 6449     		ldr	r1, .L341+8
 3063 00c2 6548     		ldr	r0, .L341+12
 3064              	.LVL436:
 3065 00c4 FFF7FEFF 		bl	printf
 3066              	.LVL437:
 3067 00c8 C7E7     		b	.L305
 3068              	.L338:
 814:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 3069              		.loc 1 814 0
 3070 00ca 0B9F     		ldr	r7, [sp, #44]
 3071              	.LVL438:
 3072 00cc 61E0     		b	.L307
 3073              	.LVL439:
 3074              	.L322:
 825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 3075              		.loc 1 825 0
 3076 00ce 2546     		mov	r5, r4
 3077 00d0 67E0     		b	.L308
 3078              	.LVL440:
 3079              	.L339:
 837:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       len -= copylen;
 3080              		.loc 1 837 0
 3081 00d2 0395     		str	r5, [sp, #12]
 3082 00d4 5D45     		cmp	r5, fp
 3083 00d6 13D8     		bhi	.L334
 3084              	.L310:
 3085              	.LVL441:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (p->flags & PBUF_FLAG_PUSH) ||
 3086              		.loc 1 839 0
 3087 00d8 039B     		ldr	r3, [sp, #12]
 3088 00da BBEB030B 		subs	fp, fp, r3
 3089              	.LVL442:
 3090 00de 17D0     		beq	.L324
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 109


 840:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (sock->rcvevent <= 0) ||
 3091              		.loc 1 840 0 discriminator 1
 3092 00e0 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (p->flags & PBUF_FLAG_PUSH) ||
 3093              		.loc 1 839 0 discriminator 1
 3094 00e2 13F0010F 		tst	r3, #1
 3095 00e6 16D1     		bne	.L325
 841:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ((flags & MSG_PEEK) != 0)) {
 3096              		.loc 1 841 0
 3097 00e8 B6F90A30 		ldrsh	r3, [r6, #10]
 840:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (sock->rcvevent <= 0) ||
 3098              		.loc 1 840 0
 3099 00ec 002B     		cmp	r3, #0
 3100 00ee 15DD     		ble	.L326
 841:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ((flags & MSG_PEEK) != 0)) {
 3101              		.loc 1 841 0
 3102 00f0 009B     		ldr	r3, [sp]
 3103 00f2 13F0010F 		tst	r3, #1
 3104 00f6 14D1     		bne	.L327
 850:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !SOCKETS_DEBUG
 3105              		.loc 1 850 0
 3106 00f8 B9F1000F 		cmp	r9, #0
 3107 00fc 22D0     		beq	.L311
 3108 00fe 60E0     		b	.L309
 3109              	.L334:
 837:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       len -= copylen;
 3110              		.loc 1 837 0 discriminator 1
 3111 0100 534B     		ldr	r3, .L341+4
 3112 0102 40F24532 		movw	r2, #837
 3113 0106 5549     		ldr	r1, .L341+16
 3114 0108 5348     		ldr	r0, .L341+12
 3115 010a FFF7FEFF 		bl	printf
 3116              	.LVL443:
 3117 010e E3E7     		b	.L310
 3118              	.L324:
 3119 0110 4FF00109 		mov	r9, #1
 3120              	.LVL444:
 3121 0114 55E0     		b	.L309
 3122              	.LVL445:
 3123              	.L325:
 3124 0116 4FF00109 		mov	r9, #1
 3125              	.LVL446:
 3126 011a 52E0     		b	.L309
 3127              	.LVL447:
 3128              	.L326:
 3129 011c 4FF00109 		mov	r9, #1
 3130              	.LVL448:
 3131 0120 4FE0     		b	.L309
 3132              	.LVL449:
 3133              	.L327:
 3134 0122 4FF00109 		mov	r9, #1
 3135              	.LVL450:
 3136 0126 4CE0     		b	.L309
 3137              	.LVL451:
 3138              	.L340:
 3139              	.LBB36:
 862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 110


 3140              		.loc 1 862 0
 3141 0128 0023     		movs	r3, #0
 3142 012a 0DF11602 		add	r2, sp, #22
 3143 012e 06A9     		add	r1, sp, #24
 3144              	.LVL452:
 3145 0130 FFF7FEFF 		bl	netconn_getaddr
 3146              	.LVL453:
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           netconn_getaddr(sock->conn, fromaddr, &port, 0);
 3147              		.loc 1 861 0
 3148 0134 06AF     		add	r7, sp, #24
 3149              	.LVL454:
 3150 0136 55E0     		b	.L313
 3151              	.L314:
 886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 3152              		.loc 1 886 0
 3153 0138 DAF80020 		ldr	r2, [r10]
 3154 013c 07A9     		add	r1, sp, #28
 3155 013e 1698     		ldr	r0, [sp, #88]
 3156 0140 FFF7FEFF 		bl	memcpy
 3157              	.LVL455:
 3158              	.L311:
 3159              	.LBE36:
 892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* If this is a TCP socket, check if there is data left in the
 3160              		.loc 1 892 0
 3161 0144 009B     		ldr	r3, [sp]
 3162 0146 13F0010F 		tst	r3, #1
 3163 014a 12D1     		bne	.L315
 896:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->lastdata = buf;
 3164              		.loc 1 896 0
 3165 014c 3268     		ldr	r2, [r6]
 3166 014e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3167 0150 03F0F003 		and	r3, r3, #240
 3168 0154 102B     		cmp	r3, #16
 3169 0156 5FD0     		beq	.L335
 3170              	.LVL456:
 3171              	.L316:
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->lastoffset = 0;
 3172              		.loc 1 901 0
 3173 0158 0023     		movs	r3, #0
 3174 015a 7360     		str	r3, [r6, #4]
 902:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom: deleting netbuf=%p\n", buf));
 3175              		.loc 1 902 0
 3176 015c 3381     		strh	r3, [r6, #8]	@ movhi
 904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           pbuf_free((struct pbuf *)buf);
 3177              		.loc 1 904 0
 3178 015e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3179 0160 03F0F003 		and	r3, r3, #240
 3180 0164 102B     		cmp	r3, #16
 3181 0166 61D0     		beq	.L336
 907:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 3182              		.loc 1 907 0
 3183 0168 0B98     		ldr	r0, [sp, #44]
 3184 016a FFF7FEFF 		bl	netbuf_delete
 3185              	.LVL457:
 3186              	.L318:
 909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 3187              		.loc 1 909 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 111


 3188 016e 0023     		movs	r3, #0
 3189 0170 0B93     		str	r3, [sp, #44]
 3190              	.LVL458:
 3191              	.L315:
 912:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3192              		.loc 1 912 0
 3193 0172 B9F1000F 		cmp	r9, #0
 3194 0176 5DD1     		bne	.L337
 3195              	.LVL459:
 3196              	.L319:
 763:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       buf = sock->lastdata;
 3197              		.loc 1 763 0
 3198 0178 7368     		ldr	r3, [r6, #4]
 3199 017a 002B     		cmp	r3, #0
 3200 017c 3FF454AF 		beq	.L294
 764:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 3201              		.loc 1 764 0
 3202 0180 0B93     		str	r3, [sp, #44]
 3203              	.L295:
 813:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p = (struct pbuf *)buf;
 3204              		.loc 1 813 0
 3205 0182 3368     		ldr	r3, [r6]
 3206 0184 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3207 0186 03F0F003 		and	r3, r3, #240
 3208 018a 102B     		cmp	r3, #16
 3209 018c 9DD0     		beq	.L338
 816:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 3210              		.loc 1 816 0
 3211 018e 0B9B     		ldr	r3, [sp, #44]
 3212 0190 1F68     		ldr	r7, [r3]
 3213              	.LVL460:
 3214              	.L307:
 818:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom: buflen=%"U16_F" len=%"SZT_F" off=%d sock->lastoffse
 3215              		.loc 1 818 0
 3216 0192 3C89     		ldrh	r4, [r7, #8]
 3217              	.LVL461:
 822:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3218              		.loc 1 822 0
 3219 0194 3389     		ldrh	r3, [r6, #8]
 3220 0196 E41A     		subs	r4, r4, r3
 3221              	.LVL462:
 3222 0198 A4B2     		uxth	r4, r4
 3223              	.LVL463:
 824:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = buflen;
 3224              		.loc 1 824 0
 3225 019a 5C45     		cmp	r4, fp
 3226 019c 97D3     		bcc	.L322
 827:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 3227              		.loc 1 827 0
 3228 019e 1FFA8BF5 		uxth	r5, fp
 3229              	.LVL464:
 3230              	.L308:
 832:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3231              		.loc 1 832 0
 3232 01a2 2A46     		mov	r2, r5
 3233 01a4 0299     		ldr	r1, [sp, #8]
 3234 01a6 4144     		add	r1, r1, r8
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 112


 3235 01a8 3846     		mov	r0, r7
 3236 01aa FFF7FEFF 		bl	pbuf_copy_partial
 3237              	.LVL465:
 834:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3238              		.loc 1 834 0
 3239 01ae 0195     		str	r5, [sp, #4]
 3240 01b0 A844     		add	r8, r8, r5
 3241              	.LVL466:
 836:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("invalid copylen, len would underflow", len >= copylen);
 3242              		.loc 1 836 0
 3243 01b2 3368     		ldr	r3, [r6]
 3244 01b4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3245 01b6 03F0F003 		and	r3, r3, #240
 3246 01ba 102B     		cmp	r3, #16
 3247 01bc 89D0     		beq	.L339
 846:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 3248              		.loc 1 846 0
 3249 01be 4FF00109 		mov	r9, #1
 3250              	.LVL467:
 3251              	.L309:
 852:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 3252              		.loc 1 852 0
 3253 01c2 169B     		ldr	r3, [sp, #88]
 3254 01c4 002B     		cmp	r3, #0
 3255 01c6 BDD0     		beq	.L311
 852:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 3256              		.loc 1 852 0 is_stmt 0 discriminator 1
 3257 01c8 BAF1000F 		cmp	r10, #0
 3258 01cc BAD0     		beq	.L311
 3259              	.LBB37:
 860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fromaddr = &tmpaddr;
 3260              		.loc 1 860 0 is_stmt 1
 3261 01ce 3068     		ldr	r0, [r6]
 3262 01d0 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 3263 01d2 03F0F003 		and	r3, r3, #240
 3264 01d6 102B     		cmp	r3, #16
 3265 01d8 A6D0     		beq	.L340
 864:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fromaddr = netbuf_fromaddr((struct netbuf *)buf);
 3266              		.loc 1 864 0
 3267 01da 0B9F     		ldr	r7, [sp, #44]
 3268              	.LVL468:
 3269 01dc BB89     		ldrh	r3, [r7, #12]
 3270 01de ADF81630 		strh	r3, [sp, #22]	@ movhi
 865:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 3271              		.loc 1 865 0
 3272 01e2 0837     		adds	r7, r7, #8
 3273              	.LVL469:
 3274              	.L313:
 876:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ip_addr_debug_print(SOCKETS_DEBUG, fromaddr);
 3275              		.loc 1 876 0
 3276 01e4 1023     		movs	r3, #16
 3277 01e6 8DF81C30 		strb	r3, [sp, #28]
 3278 01ea 0223     		movs	r3, #2
 3279 01ec 8DF81D30 		strb	r3, [sp, #29]
 3280 01f0 BDF81600 		ldrh	r0, [sp, #22]
 3281 01f4 FFF7FEFF 		bl	lwip_htons
 3282              	.LVL470:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 113


 3283 01f8 ADF81E00 		strh	r0, [sp, #30]	@ movhi
 3284 01fc 3B68     		ldr	r3, [r7]
 3285 01fe 0893     		str	r3, [sp, #32]
 3286 0200 0023     		movs	r3, #0
 3287 0202 0993     		str	r3, [sp, #36]
 3288 0204 0A93     		str	r3, [sp, #40]
 883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *fromlen = saddr.sa.sa_len;
 3289              		.loc 1 883 0
 3290 0206 DAF80020 		ldr	r2, [r10]
 3291 020a 9DF81C30 		ldrb	r3, [sp, #28]	@ zero_extendqisi2
 3292 020e 9A42     		cmp	r2, r3
 3293 0210 92D9     		bls	.L314
 884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3294              		.loc 1 884 0
 3295 0212 CAF80030 		str	r3, [r10]
 3296 0216 8FE7     		b	.L314
 3297              	.LVL471:
 3298              	.L335:
 3299              	.LBE37:
 896:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->lastdata = buf;
 3300              		.loc 1 896 0 discriminator 1
 3301 0218 019B     		ldr	r3, [sp, #4]
 3302 021a E41A     		subs	r4, r4, r3
 3303              	.LVL472:
 3304 021c 002C     		cmp	r4, #0
 3305 021e 9BDD     		ble	.L316
 897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->lastoffset += copylen;
 3306              		.loc 1 897 0
 3307 0220 0B9B     		ldr	r3, [sp, #44]
 3308 0222 7360     		str	r3, [r6, #4]
 898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom: lastdata now netbuf=%p\n", buf));
 3309              		.loc 1 898 0
 3310 0224 3389     		ldrh	r3, [r6, #8]
 3311 0226 1D44     		add	r5, r5, r3
 3312              	.LVL473:
 3313 0228 3581     		strh	r5, [r6, #8]	@ movhi
 3314 022a A2E7     		b	.L315
 3315              	.LVL474:
 3316              	.L336:
 905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
 3317              		.loc 1 905 0
 3318 022c 0B98     		ldr	r0, [sp, #44]
 3319 022e FFF7FEFF 		bl	pbuf_free
 3320              	.LVL475:
 3321 0232 9CE7     		b	.L318
 3322              	.LVL476:
 3323              	.L337:
 3324              	.LBB38:
 914:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return off;
 3325              		.loc 1 914 0
 3326 0234 0023     		movs	r3, #0
 3327 0236 3374     		strb	r3, [r6, #16]
 3328              	.LVL477:
 3329              	.L292:
 3330              	.LBE38:
 916:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3331              		.loc 1 916 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 114


 3332 0238 4046     		mov	r0, r8
 3333 023a 0DB0     		add	sp, sp, #52
 3334              	.LCFI33:
 3335              		.cfi_remember_state
 3336              		.cfi_def_cfa_offset 36
 3337              	.LVL478:
 3338              		@ sp needed
 3339 023c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3340              	.LVL479:
 3341              	.L320:
 3342              	.LCFI34:
 3343              		.cfi_restore_state
 757:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 3344              		.loc 1 757 0
 3345 0240 4FF0FF38 		mov	r8, #-1
 3346 0244 F8E7     		b	.L292
 3347              	.LVL480:
 3348              	.L321:
 806:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 3349              		.loc 1 806 0
 3350 0246 4FF0FF38 		mov	r8, #-1
 3351              	.LVL481:
 3352 024a F5E7     		b	.L292
 3353              	.L342:
 3354              		.align	2
 3355              	.L341:
 3356 024c 00000000 		.word	errno
 3357 0250 00000000 		.word	.LC0
 3358 0254 00000000 		.word	.LC12
 3359 0258 3C000000 		.word	.LC2
 3360 025c 0C000000 		.word	.LC13
 3361              		.cfi_endproc
 3362              	.LFE158:
 3364              		.section	.text.lwip_read,"ax",%progbits
 3365              		.align	1
 3366              		.global	lwip_read
 3367              		.syntax unified
 3368              		.thumb
 3369              		.thumb_func
 3370              		.fpu fpv4-sp-d16
 3372              	lwip_read:
 3373              	.LFB159:
 920:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, 0, NULL, NULL);
 3374              		.loc 1 920 0
 3375              		.cfi_startproc
 3376              		@ args = 0, pretend = 0, frame = 0
 3377              		@ frame_needed = 0, uses_anonymous_args = 0
 3378              	.LVL482:
 3379 0000 00B5     		push	{lr}
 3380              	.LCFI35:
 3381              		.cfi_def_cfa_offset 4
 3382              		.cfi_offset 14, -4
 3383 0002 83B0     		sub	sp, sp, #12
 3384              	.LCFI36:
 3385              		.cfi_def_cfa_offset 16
 921:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 3386              		.loc 1 921 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 115


 3387 0004 0023     		movs	r3, #0
 3388 0006 0193     		str	r3, [sp, #4]
 3389 0008 0093     		str	r3, [sp]
 3390 000a FFF7FEFF 		bl	lwip_recvfrom
 3391              	.LVL483:
 922:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3392              		.loc 1 922 0
 3393 000e 03B0     		add	sp, sp, #12
 3394              	.LCFI37:
 3395              		.cfi_def_cfa_offset 4
 3396              		@ sp needed
 3397 0010 5DF804FB 		ldr	pc, [sp], #4
 3398              		.cfi_endproc
 3399              	.LFE159:
 3401              		.section	.text.lwip_recv,"ax",%progbits
 3402              		.align	1
 3403              		.global	lwip_recv
 3404              		.syntax unified
 3405              		.thumb
 3406              		.thumb_func
 3407              		.fpu fpv4-sp-d16
 3409              	lwip_recv:
 3410              	.LFB160:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, flags, NULL, NULL);
 3411              		.loc 1 926 0
 3412              		.cfi_startproc
 3413              		@ args = 0, pretend = 0, frame = 0
 3414              		@ frame_needed = 0, uses_anonymous_args = 0
 3415              	.LVL484:
 3416 0000 10B5     		push	{r4, lr}
 3417              	.LCFI38:
 3418              		.cfi_def_cfa_offset 8
 3419              		.cfi_offset 4, -8
 3420              		.cfi_offset 14, -4
 3421 0002 82B0     		sub	sp, sp, #8
 3422              	.LCFI39:
 3423              		.cfi_def_cfa_offset 16
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 3424              		.loc 1 927 0
 3425 0004 0024     		movs	r4, #0
 3426 0006 0194     		str	r4, [sp, #4]
 3427 0008 0094     		str	r4, [sp]
 3428 000a FFF7FEFF 		bl	lwip_recvfrom
 3429              	.LVL485:
 928:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3430              		.loc 1 928 0
 3431 000e 02B0     		add	sp, sp, #8
 3432              	.LCFI40:
 3433              		.cfi_def_cfa_offset 8
 3434              		@ sp needed
 3435 0010 10BD     		pop	{r4, pc}
 3436              		.cfi_endproc
 3437              	.LFE160:
 3439              		.section	.text.lwip_sendmsg,"ax",%progbits
 3440              		.align	1
 3441              		.global	lwip_sendmsg
 3442              		.syntax unified
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 116


 3443              		.thumb
 3444              		.thumb_func
 3445              		.fpu fpv4-sp-d16
 3447              	lwip_sendmsg:
 3448              	.LFB162:
 968:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 3449              		.loc 1 968 0
 3450              		.cfi_startproc
 3451              		@ args = 0, pretend = 0, frame = 8
 3452              		@ frame_needed = 0, uses_anonymous_args = 0
 3453              	.LVL486:
 3454 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3455              	.LCFI41:
 3456              		.cfi_def_cfa_offset 32
 3457              		.cfi_offset 4, -32
 3458              		.cfi_offset 5, -28
 3459              		.cfi_offset 6, -24
 3460              		.cfi_offset 7, -20
 3461              		.cfi_offset 8, -16
 3462              		.cfi_offset 9, -12
 3463              		.cfi_offset 10, -8
 3464              		.cfi_offset 14, -4
 3465 0004 84B0     		sub	sp, sp, #16
 3466              	.LCFI42:
 3467              		.cfi_def_cfa_offset 48
 3468 0006 0C46     		mov	r4, r1
 3469 0008 1546     		mov	r5, r2
 3470              	.LVL487:
 978:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 3471              		.loc 1 978 0
 3472 000a FFF7FEFF 		bl	get_socket
 3473              	.LVL488:
 979:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 3474              		.loc 1 979 0
 3475 000e 0028     		cmp	r0, #0
 3476 0010 00F00A81 		beq	.L370
 3477 0014 0746     		mov	r7, r0
 983:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); return -1;);
 3478              		.loc 1 983 0
 3479 0016 D4B1     		cbz	r4, .L381
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); return -1;);
 3480              		.loc 1 989 0
 3481 0018 A368     		ldr	r3, [r4, #8]
 3482 001a 0BB1     		cbz	r3, .L350
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); return -1;);
 3483              		.loc 1 989 0 is_stmt 0 discriminator 2
 3484 001c E368     		ldr	r3, [r4, #12]
 3485 001e 53BB     		cbnz	r3, .L351
 3486              	.L350:
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); return -1;);
 3487              		.loc 1 989 0 discriminator 3
 3488 0020 894B     		ldr	r3, .L392
 3489 0022 40F2DE32 		movw	r2, #990
 3490 0026 8949     		ldr	r1, .L392+4
 3491 0028 8948     		ldr	r0, .L392+8
 3492              	.LVL489:
 3493 002a FFF7FEFF 		bl	printf
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 117


 3494              	.LVL490:
 3495              	.LBB39:
 3496 002e 6FF00F00 		mvn	r0, #15
 3497 0032 FFF7FEFF 		bl	err_to_errno
 3498              	.LVL491:
 3499 0036 3874     		strb	r0, [r7, #16]
 3500 0038 0028     		cmp	r0, #0
 3501 003a 00F0FB80 		beq	.L372
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); return -1;);
 3502              		.loc 1 989 0 discriminator 4
 3503 003e 854B     		ldr	r3, .L392+12
 3504 0040 1860     		str	r0, [r3]
 3505              	.LBE39:
 3506 0042 4FF0FF35 		mov	r5, #-1
 3507              	.LVL492:
 3508              	.L347:
1121:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3509              		.loc 1 1121 0 is_stmt 1
 3510 0046 2846     		mov	r0, r5
 3511 0048 04B0     		add	sp, sp, #16
 3512              	.LCFI43:
 3513              		.cfi_remember_state
 3514              		.cfi_def_cfa_offset 32
 3515              		@ sp needed
 3516 004a BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3517              	.LVL493:
 3518              	.L381:
 3519              	.LCFI44:
 3520              		.cfi_restore_state
 983:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); return -1;);
 3521              		.loc 1 983 0 discriminator 1
 3522 004e 7E4B     		ldr	r3, .L392
 3523 0050 4FF47672 		mov	r2, #984
 3524 0054 8049     		ldr	r1, .L392+16
 3525 0056 7E48     		ldr	r0, .L392+8
 3526              	.LVL494:
 3527 0058 FFF7FEFF 		bl	printf
 3528              	.LVL495:
 3529              	.LBB40:
 3530 005c 6FF00F00 		mvn	r0, #15
 3531 0060 FFF7FEFF 		bl	err_to_errno
 3532              	.LVL496:
 3533 0064 3874     		strb	r0, [r7, #16]
 3534 0066 0028     		cmp	r0, #0
 3535 0068 00F0E180 		beq	.L371
 983:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); return -1;);
 3536              		.loc 1 983 0 is_stmt 0 discriminator 2
 3537 006c 794B     		ldr	r3, .L392+12
 3538 006e 1860     		str	r0, [r3]
 3539              	.LBE40:
 3540 0070 4FF0FF35 		mov	r5, #-1
 3541              	.LVL497:
 3542 0074 E7E7     		b	.L347
 3543              	.LVL498:
 3544              	.L351:
 992:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 3545              		.loc 1 992 0 is_stmt 1
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 118


 3546 0076 0368     		ldr	r3, [r0]
 3547 0078 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3548 007a 03F0F003 		and	r3, r3, #240
 3549 007e 102B     		cmp	r3, #16
 3550 0080 16D0     		beq	.L382
 3551              	.LBB41:
1034:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)) ,
 3552              		.loc 1 1034 0
 3553 0082 2368     		ldr	r3, [r4]
 3554 0084 002B     		cmp	r3, #0
 3555 0086 5BD0     		beq	.L383
 3556              	.L357:
1034:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)) ,
 3557              		.loc 1 1034 0 is_stmt 0 discriminator 3
 3558 0088 6368     		ldr	r3, [r4, #4]
 3559 008a 102B     		cmp	r3, #16
 3560 008c 5CD1     		bne	.L384
 3561              	.L358:
1039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!chain_buf) {
 3562              		.loc 1 1039 0 is_stmt 1
 3563 008e FFF7FEFF 		bl	netbuf_new
 3564              	.LVL499:
1040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(ERR_MEM));
 3565              		.loc 1 1040 0
 3566 0092 8046     		mov	r8, r0
 3567 0094 0028     		cmp	r0, #0
 3568 0096 6AD0     		beq	.L385
1044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t remote_port;
 3569              		.loc 1 1044 0
 3570 0098 2368     		ldr	r3, [r4]
 3571 009a 3BB1     		cbz	r3, .L360
 3572              	.LBB42:
1046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(chain_buf) = remote_port;
 3573              		.loc 1 1046 0
 3574 009c 5B68     		ldr	r3, [r3, #4]
 3575 009e 8360     		str	r3, [r0, #8]
 3576 00a0 2368     		ldr	r3, [r4]
 3577 00a2 5888     		ldrh	r0, [r3, #2]
 3578              	.LVL500:
 3579 00a4 FFF7FEFF 		bl	lwip_htons
 3580              	.LVL501:
1047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 3581              		.loc 1 1047 0
 3582 00a8 A8F80C00 		strh	r0, [r8, #12]	@ movhi
 3583              	.LVL502:
 3584              	.L360:
 3585              	.LBE42:
 3586              	.LBE41:
 3587              	.LBB49:
1017:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
 3588              		.loc 1 1017 0 discriminator 1
 3589 00ac 0026     		movs	r6, #0
 3590 00ae 77E0     		b	.L365
 3591              	.LVL503:
 3592              	.L382:
 3593              	.LBE49:
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0);
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 119


 3594              		.loc 1 995 0
 3595 00b0 4FEAE508 		asr	r8, r5, #3
 3596 00b4 08F00208 		and	r8, r8, #2
 3597 00b8 4FFA88F8 		sxtb	r8, r8
 994:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 3598              		.loc 1 994 0
 3599 00bc 48F00103 		orr	r3, r8, #1
 996:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3600              		.loc 1 996 0
 3601 00c0 4FEA6508 		asr	r8, r5, #1
 3602 00c4 08F00408 		and	r8, r8, #4
 994:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 3603              		.loc 1 994 0
 3604 00c8 48EA0308 		orr	r8, r8, r3
 3605              	.LVL504:
 976:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3606              		.loc 1 976 0
 3607 00cc 0026     		movs	r6, #0
 975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err = ERR_OK;
 3608              		.loc 1 975 0
 3609 00ce 3546     		mov	r5, r6
 3610              	.LVL505:
 998:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u8_t apiflags = write_flags;
 3611              		.loc 1 998 0
 3612 00d0 3346     		mov	r3, r6
 3613              	.LVL506:
 3614              	.L353:
 998:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u8_t apiflags = write_flags;
 3615              		.loc 1 998 0 is_stmt 0 discriminator 1
 3616 00d2 E268     		ldr	r2, [r4, #12]
 3617 00d4 9A42     		cmp	r2, r3
 3618 00d6 1DDD     		ble	.L355
 3619              	.LVL507:
 3620              	.LBB50:
1000:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         apiflags |= NETCONN_MORE;
 3621              		.loc 1 1000 0 is_stmt 1
 3622 00d8 03F1010A 		add	r10, r3, #1
1003:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = netconn_write_partly(sock->conn, msg->msg_iov[i].iov_base, msg->msg_iov[i].iov_len, wri
 3623              		.loc 1 1003 0
 3624 00dc 04AE     		add	r6, sp, #16
 3625              	.LVL508:
 3626 00de 0022     		movs	r2, #0
 3627 00e0 46F8042D 		str	r2, [r6, #-4]!
1004:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (err == ERR_OK) {
 3628              		.loc 1 1004 0
 3629 00e4 3868     		ldr	r0, [r7]
 3630 00e6 A268     		ldr	r2, [r4, #8]
 3631 00e8 4FEAC309 		lsl	r9, r3, #3
 3632 00ec 02EB090C 		add	ip, r2, r9
 3633 00f0 52F83310 		ldr	r1, [r2, r3, lsl #3]
 3634 00f4 DCF80420 		ldr	r2, [ip, #4]
 3635 00f8 0096     		str	r6, [sp]
 3636 00fa 4346     		mov	r3, r8
 3637              	.LVL509:
 3638 00fc FFF7FEFF 		bl	netconn_write_partly
 3639              	.LVL510:
1005:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         size += written;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 120


 3640              		.loc 1 1005 0
 3641 0100 0646     		mov	r6, r0
 3642 0102 80B9     		cbnz	r0, .L354
1006:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* check that the entire IO vector was accepected, if not return a partial write */
 3643              		.loc 1 1006 0
 3644 0104 039A     		ldr	r2, [sp, #12]
 3645 0106 1544     		add	r5, r5, r2
 3646              	.LVL511:
1008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3647              		.loc 1 1008 0
 3648 0108 A368     		ldr	r3, [r4, #8]
 3649 010a 4B44     		add	r3, r3, r9
 3650 010c 5968     		ldr	r1, [r3, #4]
 3651              	.LBE50:
 998:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u8_t apiflags = write_flags;
 3652              		.loc 1 998 0
 3653 010e 5346     		mov	r3, r10
 3654              	.LBB51:
1008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3655              		.loc 1 1008 0
 3656 0110 8A42     		cmp	r2, r1
 3657 0112 DED0     		beq	.L353
 3658              	.LVL512:
 3659              	.L355:
 3660              	.LBE51:
 3661              	.LBB52:
1021:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return size;
 3662              		.loc 1 1021 0
 3663 0114 3046     		mov	r0, r6
 3664 0116 FFF7FEFF 		bl	err_to_errno
 3665              	.LVL513:
 3666 011a 3874     		strb	r0, [r7, #16]
 3667 011c 0028     		cmp	r0, #0
 3668 011e 92D0     		beq	.L347
1021:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return size;
 3669              		.loc 1 1021 0 is_stmt 0 discriminator 1
 3670 0120 4C4B     		ldr	r3, .L392+12
 3671 0122 1860     		str	r0, [r3]
 3672 0124 8FE7     		b	.L347
 3673              	.LVL514:
 3674              	.L354:
 3675              	.LBE52:
 3676              	.LBB53:
1012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err = ERR_OK;
 3677              		.loc 1 1012 0 is_stmt 1
 3678 0126 10F1070F 		cmn	r0, #7
 3679 012a 02D0     		beq	.L386
1017:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
 3680              		.loc 1 1017 0
 3681 012c 4FF0FF35 		mov	r5, #-1
 3682              	.LVL515:
 3683 0130 F0E7     		b	.L355
 3684              	.LVL516:
 3685              	.L386:
1012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err = ERR_OK;
 3686              		.loc 1 1012 0 discriminator 1
 3687 0132 002D     		cmp	r5, #0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 121


 3688 0134 01DD     		ble	.L387
1013:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* let ERR_WOULDBLOCK persist on the netconn since we are returning ERR_OK */
 3689              		.loc 1 1013 0
 3690 0136 0026     		movs	r6, #0
 3691 0138 ECE7     		b	.L355
 3692              	.L387:
1017:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
 3693              		.loc 1 1017 0
 3694 013a 4FF0FF35 		mov	r5, #-1
 3695              	.LVL517:
 3696 013e E9E7     		b	.L355
 3697              	.LVL518:
 3698              	.L383:
 3699              	.LBE53:
 3700              	.LBB54:
1034:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)) ,
 3701              		.loc 1 1034 0 discriminator 2
 3702 0140 6368     		ldr	r3, [r4, #4]
 3703 0142 002B     		cmp	r3, #0
 3704 0144 A3D0     		beq	.L358
 3705 0146 9FE7     		b	.L357
 3706              	.L384:
1034:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)) ,
 3707              		.loc 1 1034 0 is_stmt 0 discriminator 4
 3708 0148 3F4B     		ldr	r3, .L392
 3709 014a 40F20C42 		movw	r2, #1036
 3710 014e 4349     		ldr	r1, .L392+20
 3711 0150 3F48     		ldr	r0, .L392+8
 3712              	.LVL519:
 3713 0152 FFF7FEFF 		bl	printf
 3714              	.LVL520:
 3715              	.LBB43:
 3716 0156 6FF00F00 		mvn	r0, #15
 3717 015a FFF7FEFF 		bl	err_to_errno
 3718              	.LVL521:
 3719 015e 3874     		strb	r0, [r7, #16]
 3720 0160 0028     		cmp	r0, #0
 3721 0162 6AD0     		beq	.L375
1034:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)) ,
 3722              		.loc 1 1034 0 discriminator 5
 3723 0164 3B4B     		ldr	r3, .L392+12
 3724 0166 1860     		str	r0, [r3]
 3725              	.LBE43:
 3726 0168 4FF0FF35 		mov	r5, #-1
 3727              	.LVL522:
 3728 016c 6BE7     		b	.L347
 3729              	.LVL523:
 3730              	.L385:
 3731              	.LBB44:
1041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 3732              		.loc 1 1041 0 is_stmt 1
 3733 016e 4FF0FF30 		mov	r0, #-1
 3734              	.LVL524:
 3735 0172 FFF7FEFF 		bl	err_to_errno
 3736              	.LVL525:
 3737 0176 3874     		strb	r0, [r7, #16]
 3738 0178 0028     		cmp	r0, #0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 122


 3739 017a 61D0     		beq	.L376
1041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 3740              		.loc 1 1041 0 is_stmt 0 discriminator 1
 3741 017c 354B     		ldr	r3, .L392+12
 3742 017e 1860     		str	r0, [r3]
 3743              	.LBE44:
1042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 3744              		.loc 1 1042 0 is_stmt 1 discriminator 1
 3745 0180 4FF0FF35 		mov	r5, #-1
 3746              	.LVL526:
 3747 0184 5FE7     		b	.L347
 3748              	.LVL527:
 3749              	.L389:
 3750              	.LBB45:
1082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
 3751              		.loc 1 1082 0 discriminator 1
 3752 0186 304B     		ldr	r3, .L392
 3753 0188 40F23A42 		movw	r2, #1082
 3754 018c 3449     		ldr	r1, .L392+24
 3755 018e 3048     		ldr	r0, .L392+8
 3756              	.LVL528:
 3757 0190 FFF7FEFF 		bl	printf
 3758              	.LVL529:
 3759 0194 1AE0     		b	.L362
 3760              	.L390:
1086:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* add pbuf to existing pbuf chain */
 3761              		.loc 1 1086 0
 3762 0196 C8F80450 		str	r5, [r8, #4]
 3763 019a C8F80050 		str	r5, [r8]
 3764              	.L364:
 3765              	.LBE45:
1075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p = pbuf_alloc(PBUF_TRANSPORT, 0, PBUF_REF);
 3766              		.loc 1 1075 0 discriminator 2
 3767 019e 0136     		adds	r6, r6, #1
 3768              	.LVL530:
 3769              	.L365:
1075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p = pbuf_alloc(PBUF_TRANSPORT, 0, PBUF_REF);
 3770              		.loc 1 1075 0 is_stmt 0 discriminator 1
 3771 01a0 E368     		ldr	r3, [r4, #12]
 3772 01a2 B342     		cmp	r3, r6
 3773 01a4 1FDD     		ble	.L388
 3774              	.LBB46:
1076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p == NULL) {
 3775              		.loc 1 1076 0 is_stmt 1
 3776 01a6 0222     		movs	r2, #2
 3777 01a8 0021     		movs	r1, #0
 3778 01aa 0846     		mov	r0, r1
 3779 01ac FFF7FEFF 		bl	pbuf_alloc
 3780              	.LVL531:
1077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err = ERR_MEM; /* let netbuf_delete() cleanup chain_buf */
 3781              		.loc 1 1077 0
 3782 01b0 0546     		mov	r5, r0
 3783 01b2 70B3     		cbz	r0, .L377
1081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("iov_len < u16_t", msg->msg_iov[i].iov_len <= 0xFFFF);
 3784              		.loc 1 1081 0
 3785 01b4 A368     		ldr	r3, [r4, #8]
 3786 01b6 4FEAC609 		lsl	r9, r6, #3
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 123


 3787 01ba 53F83630 		ldr	r3, [r3, r6, lsl #3]
 3788 01be 4360     		str	r3, [r0, #4]
1082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
 3789              		.loc 1 1082 0
 3790 01c0 A368     		ldr	r3, [r4, #8]
 3791 01c2 4B44     		add	r3, r3, r9
 3792 01c4 5B68     		ldr	r3, [r3, #4]
 3793 01c6 B3F5803F 		cmp	r3, #65536
 3794 01ca DCD2     		bcs	.L389
 3795              	.LVL532:
 3796              	.L362:
1083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 3797              		.loc 1 1083 0
 3798 01cc A368     		ldr	r3, [r4, #8]
 3799 01ce 4B44     		add	r3, r3, r9
 3800 01d0 9B88     		ldrh	r3, [r3, #4]
 3801 01d2 2B81     		strh	r3, [r5, #8]	@ movhi
 3802 01d4 6B81     		strh	r3, [r5, #10]	@ movhi
1085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         chain_buf->p = chain_buf->ptr = p;
 3803              		.loc 1 1085 0
 3804 01d6 D8F80000 		ldr	r0, [r8]
 3805 01da 0028     		cmp	r0, #0
 3806 01dc DBD0     		beq	.L390
1089:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 3807              		.loc 1 1089 0
 3808 01de 2946     		mov	r1, r5
 3809 01e0 FFF7FEFF 		bl	pbuf_cat
 3810              	.LVL533:
 3811 01e4 DBE7     		b	.L364
 3812              	.LVL534:
 3813              	.L388:
 3814              	.LBE46:
 3815              	.LBE54:
 976:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3816              		.loc 1 976 0
 3817 01e6 0024     		movs	r4, #0
 3818              	.LVL535:
 3819              	.L361:
 3820              	.LBB55:
1093:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size = netbuf_len(chain_buf);
 3821              		.loc 1 1093 0
 3822 01e8 B4B9     		cbnz	r4, .L378
1094:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 3823              		.loc 1 1094 0
 3824 01ea D8F80030 		ldr	r3, [r8]
 3825 01ee 1D89     		ldrh	r5, [r3, #8]
 3826              	.LVL536:
 3827              	.L367:
1098:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 3828              		.loc 1 1098 0
 3829 01f0 A4B1     		cbz	r4, .L391
 3830              	.L368:
1112:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3831              		.loc 1 1112 0
 3832 01f2 4046     		mov	r0, r8
 3833 01f4 FFF7FEFF 		bl	netbuf_delete
 3834              	.LVL537:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 124


 3835              	.LBB47:
1114:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return (err == ERR_OK ? size : -1);
 3836              		.loc 1 1114 0
 3837 01f8 2046     		mov	r0, r4
 3838 01fa FFF7FEFF 		bl	err_to_errno
 3839              	.LVL538:
 3840 01fe 3874     		strb	r0, [r7, #16]
 3841 0200 08B1     		cbz	r0, .L369
1114:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return (err == ERR_OK ? size : -1);
 3842              		.loc 1 1114 0 is_stmt 0 discriminator 1
 3843 0202 144B     		ldr	r3, .L392+12
 3844 0204 1860     		str	r0, [r3]
 3845              	.L369:
 3846              	.LBE47:
1115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 3847              		.loc 1 1115 0 is_stmt 1
 3848 0206 002C     		cmp	r4, #0
 3849 0208 3FF41DAF 		beq	.L347
 3850 020c 4FF0FF35 		mov	r5, #-1
 3851              	.LVL539:
 3852 0210 19E7     		b	.L347
 3853              	.LVL540:
 3854              	.L377:
 3855              	.LBB48:
1078:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
 3856              		.loc 1 1078 0
 3857 0212 4FF0FF34 		mov	r4, #-1
 3858              	.LVL541:
 3859 0216 E7E7     		b	.L361
 3860              	.LVL542:
 3861              	.L378:
 3862              	.LBE48:
 3863              	.LBE55:
 975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err = ERR_OK;
 3864              		.loc 1 975 0
 3865 0218 0025     		movs	r5, #0
 3866 021a E9E7     		b	.L367
 3867              	.LVL543:
 3868              	.L391:
 3869              	.LBB56:
1108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 3870              		.loc 1 1108 0
 3871 021c 4146     		mov	r1, r8
 3872 021e 3868     		ldr	r0, [r7]
 3873 0220 FFF7FEFF 		bl	netconn_send
 3874              	.LVL544:
 3875 0224 0446     		mov	r4, r0
 3876              	.LVL545:
 3877 0226 E4E7     		b	.L368
 3878              	.LVL546:
 3879              	.L370:
 3880              	.LBE56:
 980:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 3881              		.loc 1 980 0
 3882 0228 4FF0FF35 		mov	r5, #-1
 3883              	.LVL547:
 3884 022c 0BE7     		b	.L347
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 125


 3885              	.LVL548:
 3886              	.L371:
 983:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); return -1;);
 3887              		.loc 1 983 0
 3888 022e 4FF0FF35 		mov	r5, #-1
 3889              	.LVL549:
 3890 0232 08E7     		b	.L347
 3891              	.LVL550:
 3892              	.L372:
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); return -1;);
 3893              		.loc 1 989 0
 3894 0234 4FF0FF35 		mov	r5, #-1
 3895              	.LVL551:
 3896 0238 05E7     		b	.L347
 3897              	.LVL552:
 3898              	.L375:
 3899              	.LBB57:
1034:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)) ,
 3900              		.loc 1 1034 0
 3901 023a 4FF0FF35 		mov	r5, #-1
 3902              	.LVL553:
 3903 023e 02E7     		b	.L347
 3904              	.LVL554:
 3905              	.L376:
1042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 3906              		.loc 1 1042 0
 3907 0240 4FF0FF35 		mov	r5, #-1
 3908              	.LVL555:
 3909 0244 FFE6     		b	.L347
 3910              	.L393:
 3911 0246 00BF     		.align	2
 3912              	.L392:
 3913 0248 00000000 		.word	.LC0
 3914 024c 20000000 		.word	.LC15
 3915 0250 3C000000 		.word	.LC2
 3916 0254 00000000 		.word	errno
 3917 0258 00000000 		.word	.LC14
 3918 025c 44000000 		.word	.LC16
 3919 0260 68000000 		.word	.LC17
 3920              	.LBE57:
 3921              		.cfi_endproc
 3922              	.LFE162:
 3924              		.section	.text.lwip_sendto,"ax",%progbits
 3925              		.align	1
 3926              		.global	lwip_sendto
 3927              		.syntax unified
 3928              		.thumb
 3929              		.thumb_func
 3930              		.fpu fpv4-sp-d16
 3932              	lwip_sendto:
 3933              	.LFB163:
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 3934              		.loc 1 1126 0
 3935              		.cfi_startproc
 3936              		@ args = 8, pretend = 0, frame = 16
 3937              		@ frame_needed = 0, uses_anonymous_args = 0
 3938              	.LVL556:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 126


 3939 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 3940              	.LCFI45:
 3941              		.cfi_def_cfa_offset 28
 3942              		.cfi_offset 4, -28
 3943              		.cfi_offset 5, -24
 3944              		.cfi_offset 6, -20
 3945              		.cfi_offset 7, -16
 3946              		.cfi_offset 8, -12
 3947              		.cfi_offset 9, -8
 3948              		.cfi_offset 14, -4
 3949 0004 85B0     		sub	sp, sp, #20
 3950              	.LCFI46:
 3951              		.cfi_def_cfa_offset 48
 3952 0006 8046     		mov	r8, r0
 3953 0008 0F46     		mov	r7, r1
 3954 000a 1446     		mov	r4, r2
 3955 000c 9946     		mov	r9, r3
 3956 000e 0C9E     		ldr	r6, [sp, #48]
1133:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 3957              		.loc 1 1133 0
 3958 0010 FFF7FEFF 		bl	get_socket
 3959              	.LVL557:
1134:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 3960              		.loc 1 1134 0
 3961 0014 0028     		cmp	r0, #0
 3962 0016 63D0     		beq	.L405
 3963 0018 0546     		mov	r5, r0
1138:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 3964              		.loc 1 1138 0
 3965 001a 0368     		ldr	r3, [r0]
 3966 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3967 001e 03F0F003 		and	r3, r3, #240
 3968 0022 102B     		cmp	r3, #16
 3969 0024 1ED0     		beq	.L409
1149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   short_size = (u16_t)size;
 3970              		.loc 1 1149 0
 3971 0026 B4F5803F 		cmp	r4, #65536
 3972 002a 22D2     		bcs	.L410
 3973              	.LVL558:
 3974              	.L397:
1150:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendto: invalid address", (((to == NULL) && (tolen == 0)) ||
 3975              		.loc 1 1150 0
 3976 002c 1FFA84F8 		uxth	r8, r4
 3977              	.LVL559:
1151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 3978              		.loc 1 1151 0
 3979 0030 3EB3     		cbz	r6, .L411
 3980              	.L398:
1151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 3981              		.loc 1 1151 0 is_stmt 0 discriminator 3
 3982 0032 0D9B     		ldr	r3, [sp, #52]
 3983 0034 102B     		cmp	r3, #16
 3984 0036 02D1     		bne	.L400
1151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 3985              		.loc 1 1151 0 discriminator 5
 3986 0038 7378     		ldrb	r3, [r6, #1]	@ zero_extendqisi2
 3987 003a 022B     		cmp	r3, #2
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 127


 3988 003c 43D0     		beq	.L412
 3989              	.L400:
1151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 3990              		.loc 1 1151 0 discriminator 8
 3991 003e 2E4B     		ldr	r3, .L414
 3992 0040 40F28242 		movw	r2, #1154
 3993 0044 2D49     		ldr	r1, .L414+4
 3994 0046 2E48     		ldr	r0, .L414+8
 3995 0048 FFF7FEFF 		bl	printf
 3996              	.LVL560:
 3997              	.LBB58:
 3998 004c 6FF00F00 		mvn	r0, #15
 3999 0050 FFF7FEFF 		bl	err_to_errno
 4000              	.LVL561:
 4001 0054 2874     		strb	r0, [r5, #16]
 4002 0056 0028     		cmp	r0, #0
 4003 0058 45D0     		beq	.L406
1151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 4004              		.loc 1 1151 0 discriminator 9
 4005 005a 2A4B     		ldr	r3, .L414+12
 4006 005c 1860     		str	r0, [r3]
 4007              	.LBE58:
 4008 005e 4FF0FF30 		mov	r0, #-1
 4009              	.LVL562:
 4010 0062 42E0     		b	.L394
 4011              	.LVL563:
 4012              	.L409:
1140:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 4013              		.loc 1 1140 0 is_stmt 1
 4014 0064 4B46     		mov	r3, r9
 4015 0066 2246     		mov	r2, r4
 4016 0068 3946     		mov	r1, r7
 4017 006a 4046     		mov	r0, r8
 4018              	.LVL564:
 4019 006c FFF7FEFF 		bl	lwip_send
 4020              	.LVL565:
 4021 0070 3BE0     		b	.L394
 4022              	.LVL566:
 4023              	.L410:
1149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   short_size = (u16_t)size;
 4024              		.loc 1 1149 0 discriminator 1
 4025 0072 214B     		ldr	r3, .L414
 4026 0074 40F27D42 		movw	r2, #1149
 4027 0078 2349     		ldr	r1, .L414+16
 4028 007a 2148     		ldr	r0, .L414+8
 4029              	.LVL567:
 4030 007c FFF7FEFF 		bl	printf
 4031              	.LVL568:
 4032 0080 D4E7     		b	.L397
 4033              	.LVL569:
 4034              	.L411:
1151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 4035              		.loc 1 1151 0 discriminator 2
 4036 0082 0D9B     		ldr	r3, [sp, #52]
 4037 0084 002B     		cmp	r3, #0
 4038 0086 D4D1     		bne	.L398
 4039              	.L399:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 128


1158:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
 4040              		.loc 1 1158 0
 4041 0088 0023     		movs	r3, #0
 4042 008a 0193     		str	r3, [sp, #4]
 4043 008c 0093     		str	r3, [sp]
1162:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(to, &buf.addr, remote_port);
 4044              		.loc 1 1162 0
 4045 008e F6B1     		cbz	r6, .L401
1163:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 4046              		.loc 1 1163 0
 4047 0090 7368     		ldr	r3, [r6, #4]
 4048 0092 0293     		str	r3, [sp, #8]
 4049 0094 7088     		ldrh	r0, [r6, #2]
 4050 0096 FFF7FEFF 		bl	lwip_htons
 4051              	.LVL570:
 4052              	.L402:
1168:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4053              		.loc 1 1168 0
 4054 009a ADF80C00 		strh	r0, [sp, #12]	@ movhi
1194:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 4055              		.loc 1 1194 0
 4056 009e 4246     		mov	r2, r8
 4057 00a0 3946     		mov	r1, r7
 4058 00a2 6846     		mov	r0, sp
 4059              	.LVL571:
 4060 00a4 FFF7FEFF 		bl	netbuf_ref
 4061              	.LVL572:
1196:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 4062              		.loc 1 1196 0
 4063 00a8 0646     		mov	r6, r0
 4064 00aa 98B1     		cbz	r0, .L413
 4065              	.LVL573:
 4066              	.L403:
1210:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4067              		.loc 1 1210 0
 4068 00ac 6846     		mov	r0, sp
 4069 00ae FFF7FEFF 		bl	netbuf_free
 4070              	.LVL574:
 4071              	.LBB59:
1212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? short_size : -1);
 4072              		.loc 1 1212 0
 4073 00b2 3046     		mov	r0, r6
 4074 00b4 FFF7FEFF 		bl	err_to_errno
 4075              	.LVL575:
 4076 00b8 2874     		strb	r0, [r5, #16]
 4077 00ba 08B1     		cbz	r0, .L404
1212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? short_size : -1);
 4078              		.loc 1 1212 0 is_stmt 0 discriminator 1
 4079 00bc 114B     		ldr	r3, .L414+12
 4080 00be 1860     		str	r0, [r3]
 4081              	.L404:
 4082              	.LBE59:
1213:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4083              		.loc 1 1213 0 is_stmt 1
 4084 00c0 B6B9     		cbnz	r6, .L407
1213:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4085              		.loc 1 1213 0 is_stmt 0 discriminator 1
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 129


 4086 00c2 A0B2     		uxth	r0, r4
 4087              	.LVL576:
 4088 00c4 11E0     		b	.L394
 4089              	.LVL577:
 4090              	.L412:
1151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 4091              		.loc 1 1151 0 is_stmt 1 discriminator 7
 4092 00c6 16F0030F 		tst	r6, #3
 4093 00ca DDD0     		beq	.L399
 4094 00cc B7E7     		b	.L400
 4095              	.L401:
 4096              	.LVL578:
1166:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4097              		.loc 1 1166 0
 4098 00ce 0020     		movs	r0, #0
 4099 00d0 0290     		str	r0, [sp, #8]
 4100 00d2 E2E7     		b	.L402
 4101              	.LVL579:
 4102              	.L413:
1206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4103              		.loc 1 1206 0
 4104 00d4 6946     		mov	r1, sp
 4105 00d6 2868     		ldr	r0, [r5]
 4106              	.LVL580:
 4107 00d8 FFF7FEFF 		bl	netconn_send
 4108              	.LVL581:
 4109 00dc 0646     		mov	r6, r0
 4110              	.LVL582:
 4111 00de E5E7     		b	.L403
 4112              	.LVL583:
 4113              	.L405:
1135:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4114              		.loc 1 1135 0
 4115 00e0 4FF0FF30 		mov	r0, #-1
 4116              	.LVL584:
 4117 00e4 01E0     		b	.L394
 4118              	.LVL585:
 4119              	.L406:
1151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 4120              		.loc 1 1151 0
 4121 00e6 4FF0FF30 		mov	r0, #-1
 4122              	.LVL586:
 4123              	.L394:
1214:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4124              		.loc 1 1214 0
 4125 00ea 05B0     		add	sp, sp, #20
 4126              	.LCFI47:
 4127              		.cfi_remember_state
 4128              		.cfi_def_cfa_offset 28
 4129              		@ sp needed
 4130 00ec BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 4131              	.LVL587:
 4132              	.L407:
 4133              	.LCFI48:
 4134              		.cfi_restore_state
1213:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4135              		.loc 1 1213 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 130


 4136 00f0 4FF0FF30 		mov	r0, #-1
 4137              	.LVL588:
 4138 00f4 F9E7     		b	.L394
 4139              	.L415:
 4140 00f6 00BF     		.align	2
 4141              	.L414:
 4142 00f8 00000000 		.word	.LC0
 4143 00fc 24000000 		.word	.LC19
 4144 0100 3C000000 		.word	.LC2
 4145 0104 00000000 		.word	errno
 4146 0108 00000000 		.word	.LC18
 4147              		.cfi_endproc
 4148              	.LFE163:
 4150              		.section	.text.lwip_send,"ax",%progbits
 4151              		.align	1
 4152              		.global	lwip_send
 4153              		.syntax unified
 4154              		.thumb
 4155              		.thumb_func
 4156              		.fpu fpv4-sp-d16
 4158              	lwip_send:
 4159              	.LFB161:
 932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 4160              		.loc 1 932 0
 4161              		.cfi_startproc
 4162              		@ args = 0, pretend = 0, frame = 8
 4163              		@ frame_needed = 0, uses_anonymous_args = 0
 4164              	.LVL589:
 4165 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 4166              	.LCFI49:
 4167              		.cfi_def_cfa_offset 24
 4168              		.cfi_offset 4, -24
 4169              		.cfi_offset 5, -20
 4170              		.cfi_offset 6, -16
 4171              		.cfi_offset 7, -12
 4172              		.cfi_offset 8, -8
 4173              		.cfi_offset 14, -4
 4174 0004 84B0     		sub	sp, sp, #16
 4175              	.LCFI50:
 4176              		.cfi_def_cfa_offset 40
 4177 0006 8046     		mov	r8, r0
 4178 0008 0E46     		mov	r6, r1
 4179 000a 1746     		mov	r7, r2
 4180 000c 1C46     		mov	r4, r3
 941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 4181              		.loc 1 941 0
 4182 000e FFF7FEFF 		bl	get_socket
 4183              	.LVL590:
 942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 4184              		.loc 1 942 0
 4185 0012 80B3     		cbz	r0, .L420
 4186 0014 0546     		mov	r5, r0
 946:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if (LWIP_UDP || LWIP_RAW)
 4187              		.loc 1 946 0
 4188 0016 0368     		ldr	r3, [r0]
 4189 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4190 001a 03F0F003 		and	r3, r3, #240
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 131


 4191 001e 102B     		cmp	r3, #16
 4192 0020 0BD0     		beq	.L418
 948:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* (LWIP_UDP || LWIP_RAW) */
 4193              		.loc 1 948 0
 4194 0022 0023     		movs	r3, #0
 4195 0024 0193     		str	r3, [sp, #4]
 4196 0026 0093     		str	r3, [sp]
 4197 0028 2346     		mov	r3, r4
 4198 002a 3A46     		mov	r2, r7
 4199 002c 3146     		mov	r1, r6
 4200 002e 4046     		mov	r0, r8
 4201              	.LVL591:
 4202 0030 FFF7FEFF 		bl	lwip_sendto
 4203              	.LVL592:
 4204              	.L416:
 964:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4205              		.loc 1 964 0
 4206 0034 04B0     		add	sp, sp, #16
 4207              	.LCFI51:
 4208              		.cfi_remember_state
 4209              		.cfi_def_cfa_offset 24
 4210              		@ sp needed
 4211 0036 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4212              	.LVL593:
 4213              	.L418:
 4214              	.LCFI52:
 4215              		.cfi_restore_state
 956:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0);
 4216              		.loc 1 956 0
 4217 003a E310     		asrs	r3, r4, #3
 4218 003c 03F00203 		and	r3, r3, #2
 4219 0040 5BB2     		sxtb	r3, r3
 955:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 4220              		.loc 1 955 0
 4221 0042 43F00103 		orr	r3, r3, #1
 957:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   written = 0;
 4222              		.loc 1 957 0
 4223 0046 6410     		asrs	r4, r4, #1
 4224              	.LVL594:
 4225 0048 04F00404 		and	r4, r4, #4
 4226              	.LVL595:
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_write_partly(sock->conn, data, size, write_flags, &written);
 4227              		.loc 1 958 0
 4228 004c 04AA     		add	r2, sp, #16
 4229 004e 0021     		movs	r1, #0
 4230 0050 42F8041D 		str	r1, [r2, #-4]!
 959:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4231              		.loc 1 959 0
 4232 0054 0068     		ldr	r0, [r0]
 4233              	.LVL596:
 4234 0056 0092     		str	r2, [sp]
 4235 0058 2343     		orrs	r3, r3, r4
 4236              	.LVL597:
 4237 005a 3A46     		mov	r2, r7
 4238 005c 3146     		mov	r1, r6
 4239 005e FFF7FEFF 		bl	netconn_write_partly
 4240              	.LVL598:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 132


 4241 0062 0446     		mov	r4, r0
 4242              	.LVL599:
 4243              	.LBB60:
 962:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? (int)written : -1);
 4244              		.loc 1 962 0
 4245 0064 FFF7FEFF 		bl	err_to_errno
 4246              	.LVL600:
 4247 0068 2874     		strb	r0, [r5, #16]
 4248 006a 08B1     		cbz	r0, .L419
 962:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? (int)written : -1);
 4249              		.loc 1 962 0 is_stmt 0 discriminator 1
 4250 006c 054B     		ldr	r3, .L423
 4251 006e 1860     		str	r0, [r3]
 4252              	.L419:
 4253              	.LBE60:
 963:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4254              		.loc 1 963 0 is_stmt 1
 4255 0070 24B9     		cbnz	r4, .L421
 963:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4256              		.loc 1 963 0 is_stmt 0 discriminator 1
 4257 0072 0398     		ldr	r0, [sp, #12]
 4258              	.LVL601:
 4259 0074 DEE7     		b	.L416
 4260              	.LVL602:
 4261              	.L420:
 943:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4262              		.loc 1 943 0 is_stmt 1
 4263 0076 4FF0FF30 		mov	r0, #-1
 4264              	.LVL603:
 4265 007a DBE7     		b	.L416
 4266              	.LVL604:
 4267              	.L421:
 963:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4268              		.loc 1 963 0
 4269 007c 4FF0FF30 		mov	r0, #-1
 4270              	.LVL605:
 4271 0080 D8E7     		b	.L416
 4272              	.L424:
 4273 0082 00BF     		.align	2
 4274              	.L423:
 4275 0084 00000000 		.word	errno
 4276              		.cfi_endproc
 4277              	.LFE161:
 4279              		.section	.text.lwip_socket,"ax",%progbits
 4280              		.align	1
 4281              		.global	lwip_socket
 4282              		.syntax unified
 4283              		.thumb
 4284              		.thumb_func
 4285              		.fpu fpv4-sp-d16
 4287              	lwip_socket:
 4288              	.LFB164:
1218:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn;
 4289              		.loc 1 1218 0
 4290              		.cfi_startproc
 4291              		@ args = 0, pretend = 0, frame = 0
 4292              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 133


 4293              	.LVL606:
 4294 0000 38B5     		push	{r3, r4, r5, lr}
 4295              	.LCFI53:
 4296              		.cfi_def_cfa_offset 16
 4297              		.cfi_offset 3, -16
 4298              		.cfi_offset 4, -12
 4299              		.cfi_offset 5, -8
 4300              		.cfi_offset 14, -4
 4301 0002 1346     		mov	r3, r2
1225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case SOCK_RAW:
 4302              		.loc 1 1225 0
 4303 0004 0229     		cmp	r1, #2
 4304 0006 1BD0     		beq	.L427
 4305 0008 0329     		cmp	r1, #3
 4306 000a 07D0     		beq	.L428
 4307 000c 0129     		cmp	r1, #1
 4308 000e 22D0     		beq	.L438
1247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 4309              		.loc 1 1247 0 discriminator 1
 4310 0010 1B4B     		ldr	r3, .L442
 4311 0012 1622     		movs	r2, #22
 4312              	.LVL607:
 4313 0014 1A60     		str	r2, [r3]
1248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4314              		.loc 1 1248 0 discriminator 1
 4315 0016 4FF0FF34 		mov	r4, #-1
 4316 001a 0FE0     		b	.L425
 4317              	.LVL608:
 4318              	.L428:
1227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                                (u8_t)protocol, event_callback);
 4319              		.loc 1 1227 0
 4320 001c 194A     		ldr	r2, .L442+4
 4321              	.LVL609:
 4322 001e D9B2     		uxtb	r1, r3
 4323              	.LVL610:
 4324 0020 4020     		movs	r0, #64
 4325              	.LVL611:
 4326 0022 FFF7FEFF 		bl	netconn_new_with_proto_and_callback
 4327              	.LVL612:
 4328 0026 0546     		mov	r5, r0
 4329              	.LVL613:
 4330              	.L430:
1251:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("-1 / ENOBUFS (could not create netconn)\n"));
 4331              		.loc 1 1251 0
 4332 0028 E5B1     		cbz	r5, .L439
1257:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4333              		.loc 1 1257 0
 4334 002a 0021     		movs	r1, #0
 4335 002c 2846     		mov	r0, r5
 4336 002e FFF7FEFF 		bl	alloc_socket
 4337              	.LVL614:
 4338 0032 0446     		mov	r4, r0
 4339              	.LVL615:
1259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(conn);
 4340              		.loc 1 1259 0
 4341 0034 B0F1FF3F 		cmp	r0, #-1
 4342 0038 1AD0     		beq	.L440
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 134


1264:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("%d\n", i));
 4343              		.loc 1 1264 0
 4344 003a A861     		str	r0, [r5, #24]
 4345              	.LVL616:
 4346              	.L425:
1268:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4347              		.loc 1 1268 0
 4348 003c 2046     		mov	r0, r4
 4349 003e 38BD     		pop	{r3, r4, r5, pc}
 4350              	.LVL617:
 4351              	.L427:
1233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                  ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_UDP)) ,
 4352              		.loc 1 1233 0
 4353 0040 882A     		cmp	r2, #136
 4354 0042 06D0     		beq	.L441
 4355 0044 2020     		movs	r0, #32
 4356              	.LVL618:
 4357              	.L431:
1233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                  ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_UDP)) ,
 4358              		.loc 1 1233 0 is_stmt 0 discriminator 4
 4359 0046 0F4A     		ldr	r2, .L442+4
 4360              	.LVL619:
 4361 0048 0021     		movs	r1, #0
 4362              	.LVL620:
 4363 004a FFF7FEFF 		bl	netconn_new_with_proto_and_callback
 4364              	.LVL621:
 4365 004e 0546     		mov	r5, r0
 4366              	.LVL622:
1238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case SOCK_STREAM:
 4367              		.loc 1 1238 0 is_stmt 1 discriminator 4
 4368 0050 EAE7     		b	.L430
 4369              	.LVL623:
 4370              	.L441:
1233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                  ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_UDP)) ,
 4371              		.loc 1 1233 0
 4372 0052 2120     		movs	r0, #33
 4373              	.LVL624:
 4374 0054 F7E7     		b	.L431
 4375              	.LVL625:
 4376              	.L438:
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 4377              		.loc 1 1240 0
 4378 0056 0B4A     		ldr	r2, .L442+4
 4379              	.LVL626:
 4380 0058 0021     		movs	r1, #0
 4381              	.LVL627:
 4382 005a 1020     		movs	r0, #16
 4383              	.LVL628:
 4384 005c FFF7FEFF 		bl	netconn_new_with_proto_and_callback
 4385              	.LVL629:
 4386 0060 0546     		mov	r5, r0
 4387              	.LVL630:
1243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   default:
 4388              		.loc 1 1243 0
 4389 0062 E1E7     		b	.L430
 4390              	.L439:
1253:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 135


 4391              		.loc 1 1253 0 discriminator 1
 4392 0064 064B     		ldr	r3, .L442
 4393 0066 6922     		movs	r2, #105
 4394 0068 1A60     		str	r2, [r3]
1254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4395              		.loc 1 1254 0 discriminator 1
 4396 006a 4FF0FF34 		mov	r4, #-1
 4397 006e E5E7     		b	.L425
 4398              	.LVL631:
 4399              	.L440:
1260:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENFILE);
 4400              		.loc 1 1260 0
 4401 0070 2846     		mov	r0, r5
 4402              	.LVL632:
 4403 0072 FFF7FEFF 		bl	netconn_delete
 4404              	.LVL633:
1261:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 4405              		.loc 1 1261 0
 4406 0076 024B     		ldr	r3, .L442
 4407 0078 1722     		movs	r2, #23
 4408 007a 1A60     		str	r2, [r3]
1262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4409              		.loc 1 1262 0
 4410 007c DEE7     		b	.L425
 4411              	.L443:
 4412 007e 00BF     		.align	2
 4413              	.L442:
 4414 0080 00000000 		.word	errno
 4415 0084 00000000 		.word	event_callback
 4416              		.cfi_endproc
 4417              	.LFE164:
 4419              		.section	.text.lwip_write,"ax",%progbits
 4420              		.align	1
 4421              		.global	lwip_write
 4422              		.syntax unified
 4423              		.thumb
 4424              		.thumb_func
 4425              		.fpu fpv4-sp-d16
 4427              	lwip_write:
 4428              	.LFB165:
1272:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_send(s, data, size, 0);
 4429              		.loc 1 1272 0
 4430              		.cfi_startproc
 4431              		@ args = 0, pretend = 0, frame = 0
 4432              		@ frame_needed = 0, uses_anonymous_args = 0
 4433              	.LVL634:
 4434 0000 08B5     		push	{r3, lr}
 4435              	.LCFI54:
 4436              		.cfi_def_cfa_offset 8
 4437              		.cfi_offset 3, -8
 4438              		.cfi_offset 14, -4
1273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4439              		.loc 1 1273 0
 4440 0002 0023     		movs	r3, #0
 4441 0004 FFF7FEFF 		bl	lwip_send
 4442              	.LVL635:
1274:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 136


 4443              		.loc 1 1274 0
 4444 0008 08BD     		pop	{r3, pc}
 4445              		.cfi_endproc
 4446              	.LFE165:
 4448              		.section	.text.lwip_writev,"ax",%progbits
 4449              		.align	1
 4450              		.global	lwip_writev
 4451              		.syntax unified
 4452              		.thumb
 4453              		.thumb_func
 4454              		.fpu fpv4-sp-d16
 4456              	lwip_writev:
 4457              	.LFB166:
1278:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
 4458              		.loc 1 1278 0
 4459              		.cfi_startproc
 4460              		@ args = 0, pretend = 0, frame = 32
 4461              		@ frame_needed = 0, uses_anonymous_args = 0
 4462              	.LVL636:
 4463 0000 00B5     		push	{lr}
 4464              	.LCFI55:
 4465              		.cfi_def_cfa_offset 4
 4466              		.cfi_offset 14, -4
 4467 0002 89B0     		sub	sp, sp, #36
 4468              	.LCFI56:
 4469              		.cfi_def_cfa_offset 40
1281:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
 4470              		.loc 1 1281 0
 4471 0004 0023     		movs	r3, #0
 4472 0006 0193     		str	r3, [sp, #4]
1282:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
 4473              		.loc 1 1282 0
 4474 0008 0293     		str	r3, [sp, #8]
1285:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
 4475              		.loc 1 1285 0
 4476 000a 0391     		str	r1, [sp, #12]
1286:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
 4477              		.loc 1 1286 0
 4478 000c 0492     		str	r2, [sp, #16]
1287:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
 4479              		.loc 1 1287 0
 4480 000e 0593     		str	r3, [sp, #20]
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
 4481              		.loc 1 1288 0
 4482 0010 0693     		str	r3, [sp, #24]
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_sendmsg(s, &msg, 0);
 4483              		.loc 1 1289 0
 4484 0012 0793     		str	r3, [sp, #28]
1290:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4485              		.loc 1 1290 0
 4486 0014 1A46     		mov	r2, r3
 4487              	.LVL637:
 4488 0016 01A9     		add	r1, sp, #4
 4489              	.LVL638:
 4490 0018 FFF7FEFF 		bl	lwip_sendmsg
 4491              	.LVL639:
1291:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 137


 4492              		.loc 1 1291 0
 4493 001c 09B0     		add	sp, sp, #36
 4494              	.LCFI57:
 4495              		.cfi_def_cfa_offset 4
 4496              		@ sp needed
 4497 001e 5DF804FB 		ldr	pc, [sp], #4
 4498              		.cfi_endproc
 4499              	.LFE166:
 4501              		.section	.text.lwip_select,"ax",%progbits
 4502              		.align	1
 4503              		.global	lwip_select
 4504              		.syntax unified
 4505              		.thumb
 4506              		.thumb_func
 4507              		.fpu fpv4-sp-d16
 4509              	lwip_select:
 4510              	.LFB168:
1375:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
 4511              		.loc 1 1375 0
 4512              		.cfi_startproc
 4513              		@ args = 4, pretend = 0, frame = 64
 4514              		@ frame_needed = 0, uses_anonymous_args = 0
 4515              	.LVL640:
 4516 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 4517              	.LCFI58:
 4518              		.cfi_def_cfa_offset 36
 4519              		.cfi_offset 4, -36
 4520              		.cfi_offset 5, -32
 4521              		.cfi_offset 6, -28
 4522              		.cfi_offset 7, -24
 4523              		.cfi_offset 8, -20
 4524              		.cfi_offset 9, -16
 4525              		.cfi_offset 10, -12
 4526              		.cfi_offset 11, -8
 4527              		.cfi_offset 14, -4
 4528 0004 95B0     		sub	sp, sp, #84
 4529              	.LCFI59:
 4530              		.cfi_def_cfa_offset 120
 4531 0006 8146     		mov	r9, r0
 4532 0008 0E46     		mov	r6, r1
 4533 000a 1746     		mov	r7, r2
 4534 000c 9846     		mov	r8, r3
 4535 000e 1E9D     		ldr	r5, [sp, #120]
 4536              	.LVL641:
1395:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4537              		.loc 1 1395 0
 4538 0010 0EAC     		add	r4, sp, #56
 4539 0012 0294     		str	r4, [sp, #8]
 4540 0014 10AC     		add	r4, sp, #64
 4541 0016 0194     		str	r4, [sp, #4]
 4542 0018 12AC     		add	r4, sp, #72
 4543 001a 0094     		str	r4, [sp]
 4544 001c FFF7FEFF 		bl	lwip_selscan
 4545              	.LVL642:
1398:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (timeout && timeout->tv_sec == 0 && timeout->tv_usec == 0) {
 4546              		.loc 1 1398 0
 4547 0020 8346     		mov	fp, r0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 138


 4548 0022 0028     		cmp	r0, #0
 4549 0024 40F00681 		bne	.L449
1399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 4550              		.loc 1 1399 0
 4551 0028 3DB1     		cbz	r5, .L450
1399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 4552              		.loc 1 1399 0 is_stmt 0 discriminator 1
 4553 002a D5E90023 		ldrd	r2, [r5]
 4554 002e 1343     		orrs	r3, r2, r3
 4555 0030 03D1     		bne	.L450
1399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 4556              		.loc 1 1399 0 discriminator 2
 4557 0032 AB68     		ldr	r3, [r5, #8]
 4558 0034 002B     		cmp	r3, #0
 4559 0036 00F0FD80 		beq	.L449
 4560              	.L450:
1411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb.prev = NULL;
 4561              		.loc 1 1411 0 is_stmt 1
 4562 003a 0021     		movs	r1, #0
 4563 003c 0791     		str	r1, [sp, #28]
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb.readset = readset;
 4564              		.loc 1 1412 0
 4565 003e 0891     		str	r1, [sp, #32]
1413:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb.writeset = writeset;
 4566              		.loc 1 1413 0
 4567 0040 0996     		str	r6, [sp, #36]
1414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb.exceptset = exceptset;
 4568              		.loc 1 1414 0
 4569 0042 0A97     		str	r7, [sp, #40]
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb.sem_signalled = 0;
 4570              		.loc 1 1415 0
 4571 0044 CDF82C80 		str	r8, [sp, #44]
1416:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 4572              		.loc 1 1416 0
 4573 0048 0C91     		str	r1, [sp, #48]
1420:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* failed to create semaphore */
 4574              		.loc 1 1420 0
 4575 004a 0DA8     		add	r0, sp, #52
 4576              	.LVL643:
 4577 004c FFF7FEFF 		bl	sys_sem_new
 4578              	.LVL644:
 4579 0050 90B9     		cbnz	r0, .L485
1428:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4580              		.loc 1 1428 0
 4581 0052 FFF7FEFF 		bl	sys_arch_protect
 4582              	.LVL645:
1431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (select_cb_list != NULL) {
 4583              		.loc 1 1431 0
 4584 0056 984B     		ldr	r3, .L494
 4585 0058 1B68     		ldr	r3, [r3]
 4586 005a 0793     		str	r3, [sp, #28]
1432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       select_cb_list->prev = &select_cb;
 4587              		.loc 1 1432 0
 4588 005c 0BB1     		cbz	r3, .L453
1433:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4589              		.loc 1 1433 0
 4590 005e 07AA     		add	r2, sp, #28
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 139


 4591 0060 5A60     		str	r2, [r3, #4]
 4592              	.L453:
1435:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Increasing this counter tells event_callback that the list has changed. */
 4593              		.loc 1 1435 0
 4594 0062 954B     		ldr	r3, .L494
 4595 0064 07AA     		add	r2, sp, #28
 4596 0066 1A60     		str	r2, [r3]
1437:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4597              		.loc 1 1437 0
 4598 0068 944A     		ldr	r2, .L494+4
 4599 006a 1368     		ldr	r3, [r2]
 4600 006c 0133     		adds	r3, r3, #1
 4601 006e 1360     		str	r3, [r2]
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4602              		.loc 1 1440 0
 4603 0070 FFF7FEFF 		bl	sys_arch_unprotect
 4604              	.LVL646:
1444:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((readset && FD_ISSET(i, readset)) ||
 4605              		.loc 1 1444 0
 4606 0074 5C46     		mov	r4, fp
 4607 0076 15E0     		b	.L454
 4608              	.LVL647:
 4609              	.L485:
1422:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 4610              		.loc 1 1422 0 discriminator 1
 4611 0078 914B     		ldr	r3, .L494+8
 4612 007a 0C22     		movs	r2, #12
 4613 007c 1A60     		str	r2, [r3]
1423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4614              		.loc 1 1423 0 discriminator 1
 4615 007e 4FF0FF3B 		mov	fp, #-1
 4616              	.LVL648:
 4617 0082 EBE0     		b	.L448
 4618              	.LVL649:
 4619              	.L456:
 4620              	.LBB61:
1449:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock = tryget_socket(i);
 4621              		.loc 1 1449 0
 4622 0084 FFF7FEFF 		bl	sys_arch_protect
 4623              	.LVL650:
 4624 0088 8246     		mov	r10, r0
 4625              	.LVL651:
1450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (sock != NULL) {
 4626              		.loc 1 1450 0
 4627 008a 2046     		mov	r0, r4
 4628              	.LVL652:
 4629 008c FFF7FEFF 		bl	tryget_socket
 4630              	.LVL653:
1451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->select_waiting++;
 4631              		.loc 1 1451 0
 4632 0090 98B3     		cbz	r0, .L459
1452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_ASSERT("sock->select_waiting > 0", sock->select_waiting > 0);
 4633              		.loc 1 1452 0
 4634 0092 437C     		ldrb	r3, [r0, #17]	@ zero_extendqisi2
 4635 0094 0133     		adds	r3, r3, #1
 4636 0096 DBB2     		uxtb	r3, r3
 4637 0098 4374     		strb	r3, [r0, #17]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 140


1453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
 4638              		.loc 1 1453 0
 4639 009a 33B3     		cbz	r3, .L486
 4640              	.LVL654:
 4641              	.L460:
1461:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 4642              		.loc 1 1461 0
 4643 009c 5046     		mov	r0, r10
 4644 009e FFF7FEFF 		bl	sys_arch_unprotect
 4645              	.LVL655:
 4646              	.L458:
 4647              	.LBE61:
1444:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((readset && FD_ISSET(i, readset)) ||
 4648              		.loc 1 1444 0 discriminator 2
 4649 00a2 0134     		adds	r4, r4, #1
 4650              	.LVL656:
 4651              	.L454:
1444:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((readset && FD_ISSET(i, readset)) ||
 4652              		.loc 1 1444 0 is_stmt 0 discriminator 1
 4653 00a4 4C45     		cmp	r4, r9
 4654 00a6 33DA     		bge	.L487
1445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (writeset && FD_ISSET(i, writeset)) ||
 4655              		.loc 1 1445 0 is_stmt 1
 4656 00a8 46B1     		cbz	r6, .L455
1445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (writeset && FD_ISSET(i, writeset)) ||
 4657              		.loc 1 1445 0 is_stmt 0 discriminator 1
 4658 00aa 6309     		lsrs	r3, r4, #5
 4659 00ac 56F82320 		ldr	r2, [r6, r3, lsl #2]
 4660 00b0 04F01F01 		and	r1, r4, #31
 4661 00b4 0123     		movs	r3, #1
 4662 00b6 8B40     		lsls	r3, r3, r1
 4663 00b8 1A42     		tst	r2, r3
 4664 00ba E3D1     		bne	.L456
 4665              	.L455:
1445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (writeset && FD_ISSET(i, writeset)) ||
 4666              		.loc 1 1445 0 discriminator 3
 4667 00bc 47B1     		cbz	r7, .L457
1446:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (exceptset && FD_ISSET(i, exceptset))) {
 4668              		.loc 1 1446 0 is_stmt 1
 4669 00be 6309     		lsrs	r3, r4, #5
 4670 00c0 57F82320 		ldr	r2, [r7, r3, lsl #2]
 4671 00c4 04F01F01 		and	r1, r4, #31
 4672 00c8 0123     		movs	r3, #1
 4673 00ca 8B40     		lsls	r3, r3, r1
 4674 00cc 1A42     		tst	r2, r3
 4675 00ce D9D1     		bne	.L456
 4676              	.L457:
1446:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (exceptset && FD_ISSET(i, exceptset))) {
 4677              		.loc 1 1446 0 is_stmt 0 discriminator 1
 4678 00d0 B8F1000F 		cmp	r8, #0
 4679 00d4 E5D0     		beq	.L458
1447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         struct lwip_sock *sock;
 4680              		.loc 1 1447 0 is_stmt 1
 4681 00d6 6309     		lsrs	r3, r4, #5
 4682 00d8 58F82320 		ldr	r2, [r8, r3, lsl #2]
 4683 00dc 04F01F01 		and	r1, r4, #31
 4684 00e0 0123     		movs	r3, #1
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 141


 4685 00e2 8B40     		lsls	r3, r3, r1
 4686 00e4 1A42     		tst	r2, r3
 4687 00e6 DCD0     		beq	.L458
 4688 00e8 CCE7     		b	.L456
 4689              	.LVL657:
 4690              	.L486:
 4691              	.LBB62:
1453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
 4692              		.loc 1 1453 0 discriminator 1
 4693 00ea 764B     		ldr	r3, .L494+12
 4694 00ec 40F2AD52 		movw	r2, #1453
 4695 00f0 7549     		ldr	r1, .L494+16
 4696 00f2 7648     		ldr	r0, .L494+20
 4697              	.LVL658:
 4698 00f4 FFF7FEFF 		bl	printf
 4699              	.LVL659:
 4700 00f8 D0E7     		b	.L460
 4701              	.LVL660:
 4702              	.L459:
1458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 4703              		.loc 1 1458 0
 4704 00fa 5046     		mov	r0, r10
 4705              	.LVL661:
 4706 00fc FFF7FEFF 		bl	sys_arch_unprotect
 4707              	.LVL662:
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           maxfdp2 = i;
 4708              		.loc 1 1456 0
 4709 0100 4FF0FF3A 		mov	r10, #-1
 4710              	.LVL663:
 4711              	.LBE62:
1376:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
 4712              		.loc 1 1376 0
 4713 0104 0023     		movs	r3, #0
 4714 0106 0593     		str	r3, [sp, #20]
 4715              	.LVL664:
 4716              	.L461:
1490:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((readset && FD_ISSET(i, readset)) ||
 4717              		.loc 1 1490 0
 4718 0108 5D46     		mov	r5, fp
 4719 010a D346     		mov	fp, r10
 4720 010c CA46     		mov	r10, r9
 4721              	.LVL665:
 4722 010e 3FE0     		b	.L464
 4723              	.LVL666:
 4724              	.L487:
1468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (!nready) {
 4725              		.loc 1 1468 0
 4726 0110 0EAB     		add	r3, sp, #56
 4727 0112 0293     		str	r3, [sp, #8]
 4728 0114 10AB     		add	r3, sp, #64
 4729 0116 0193     		str	r3, [sp, #4]
 4730 0118 12AB     		add	r3, sp, #72
 4731 011a 0093     		str	r3, [sp]
 4732 011c 4346     		mov	r3, r8
 4733 011e 3A46     		mov	r2, r7
 4734 0120 3146     		mov	r1, r6
 4735 0122 4846     		mov	r0, r9
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 142


 4736 0124 FFF7FEFF 		bl	lwip_selscan
 4737              	.LVL667:
1469:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Still none ready, just wait to be woken */
 4738              		.loc 1 1469 0
 4739 0128 8246     		mov	r10, r0
 4740 012a C8B9     		cbnz	r0, .L480
1471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* Wait forever */
 4741              		.loc 1 1471 0
 4742 012c A5B1     		cbz	r5, .L481
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (msectimeout == 0) {
 4743              		.loc 1 1475 0
 4744 012e 2968     		ldr	r1, [r5]
 4745 0130 AB68     		ldr	r3, [r5, #8]
 4746 0132 03F5FA73 		add	r3, r3, #500
 4747 0136 664A     		ldr	r2, .L494+24
 4748 0138 82FB0302 		smull	r0, r2, r2, r3
 4749              	.LVL668:
 4750 013c DB17     		asrs	r3, r3, #31
 4751 013e C3EBA213 		rsb	r3, r3, r2, asr #6
 4752 0142 4FF47A72 		mov	r2, #1000
 4753 0146 02FB0131 		mla	r1, r2, r1, r3
 4754              	.LVL669:
1476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Wait 1ms at least (0 means wait forever) */
 4755              		.loc 1 1476 0
 4756 014a 39B1     		cbz	r1, .L482
 4757              	.LVL670:
 4758              	.L463:
1482:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 4759              		.loc 1 1482 0
 4760 014c 0DA8     		add	r0, sp, #52
 4761 014e FFF7FEFF 		bl	sys_arch_sem_wait
 4762              	.LVL671:
 4763 0152 0590     		str	r0, [sp, #20]
 4764              	.LVL672:
1443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 4765              		.loc 1 1443 0
 4766 0154 4C46     		mov	r4, r9
 4767              	.LVL673:
 4768 0156 D7E7     		b	.L461
 4769              	.LVL674:
 4770              	.L481:
1473:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
 4771              		.loc 1 1473 0
 4772 0158 0021     		movs	r1, #0
 4773 015a F7E7     		b	.L463
 4774              	.LVL675:
 4775              	.L482:
1478:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4776              		.loc 1 1478 0
 4777 015c 0121     		movs	r1, #1
 4778              	.LVL676:
 4779 015e F5E7     		b	.L463
 4780              	.LVL677:
 4781              	.L480:
1443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 4782              		.loc 1 1443 0
 4783 0160 4C46     		mov	r4, r9
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 143


 4784              	.LVL678:
1376:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
 4785              		.loc 1 1376 0
 4786 0162 0023     		movs	r3, #0
 4787 0164 0593     		str	r3, [sp, #20]
 4788 0166 CFE7     		b	.L461
 4789              	.LVL679:
 4790              	.L466:
 4791              	.LBB63:
1495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock = tryget_socket(i);
 4792              		.loc 1 1495 0
 4793 0168 FFF7FEFF 		bl	sys_arch_protect
 4794              	.LVL680:
 4795 016c 0490     		str	r0, [sp, #16]
 4796              	.LVL681:
1496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (sock != NULL) {
 4797              		.loc 1 1496 0
 4798 016e 2846     		mov	r0, r5
 4799              	.LVL682:
 4800 0170 FFF7FEFF 		bl	tryget_socket
 4801              	.LVL683:
1497:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* for now, handle select_waiting==0... */
 4802              		.loc 1 1497 0
 4803 0174 8146     		mov	r9, r0
 4804 0176 B0B3     		cbz	r0, .L483
1499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 4805              		.loc 1 1499 0
 4806 0178 437C     		ldrb	r3, [r0, #17]	@ zero_extendqisi2
 4807 017a 63B3     		cbz	r3, .L488
 4808              	.LVL684:
 4809              	.L470:
1500:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting--;
 4810              		.loc 1 1500 0
 4811 017c 99F81130 		ldrb	r3, [r9, #17]	@ zero_extendqisi2
 4812 0180 13B1     		cbz	r3, .L469
1501:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4813              		.loc 1 1501 0
 4814 0182 013B     		subs	r3, r3, #1
 4815 0184 89F81130 		strb	r3, [r9, #17]
 4816              	.LVL685:
 4817              	.L469:
1507:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 4818              		.loc 1 1507 0
 4819 0188 0498     		ldr	r0, [sp, #16]
 4820 018a FFF7FEFF 		bl	sys_arch_unprotect
 4821              	.LVL686:
 4822              	.L468:
 4823              	.LBE63:
1490:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((readset && FD_ISSET(i, readset)) ||
 4824              		.loc 1 1490 0 discriminator 2
 4825 018e 0135     		adds	r5, r5, #1
 4826              	.LVL687:
 4827              	.L464:
1490:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((readset && FD_ISSET(i, readset)) ||
 4828              		.loc 1 1490 0 is_stmt 0 discriminator 1
 4829 0190 A542     		cmp	r5, r4
 4830 0192 2BDA     		bge	.L489
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 144


1491:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (writeset && FD_ISSET(i, writeset)) ||
 4831              		.loc 1 1491 0 is_stmt 1
 4832 0194 46B1     		cbz	r6, .L465
1491:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (writeset && FD_ISSET(i, writeset)) ||
 4833              		.loc 1 1491 0 is_stmt 0 discriminator 1
 4834 0196 6B09     		lsrs	r3, r5, #5
 4835 0198 56F82320 		ldr	r2, [r6, r3, lsl #2]
 4836 019c 05F01F01 		and	r1, r5, #31
 4837 01a0 0123     		movs	r3, #1
 4838 01a2 8B40     		lsls	r3, r3, r1
 4839 01a4 1A42     		tst	r2, r3
 4840 01a6 DFD1     		bne	.L466
 4841              	.L465:
1491:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (writeset && FD_ISSET(i, writeset)) ||
 4842              		.loc 1 1491 0 discriminator 3
 4843 01a8 47B1     		cbz	r7, .L467
1492:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (exceptset && FD_ISSET(i, exceptset))) {
 4844              		.loc 1 1492 0 is_stmt 1
 4845 01aa 6B09     		lsrs	r3, r5, #5
 4846 01ac 57F82320 		ldr	r2, [r7, r3, lsl #2]
 4847 01b0 05F01F01 		and	r1, r5, #31
 4848 01b4 0123     		movs	r3, #1
 4849 01b6 8B40     		lsls	r3, r3, r1
 4850 01b8 1A42     		tst	r2, r3
 4851 01ba D5D1     		bne	.L466
 4852              	.L467:
1492:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (exceptset && FD_ISSET(i, exceptset))) {
 4853              		.loc 1 1492 0 is_stmt 0 discriminator 1
 4854 01bc B8F1000F 		cmp	r8, #0
 4855 01c0 E5D0     		beq	.L468
1493:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         struct lwip_sock *sock;
 4856              		.loc 1 1493 0 is_stmt 1
 4857 01c2 6B09     		lsrs	r3, r5, #5
 4858 01c4 58F82320 		ldr	r2, [r8, r3, lsl #2]
 4859 01c8 05F01F01 		and	r1, r5, #31
 4860 01cc 0123     		movs	r3, #1
 4861 01ce 8B40     		lsls	r3, r3, r1
 4862 01d0 1A42     		tst	r2, r3
 4863 01d2 DCD0     		beq	.L468
 4864 01d4 C8E7     		b	.L466
 4865              	.LVL688:
 4866              	.L488:
 4867              	.LBB64:
1499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 4868              		.loc 1 1499 0 discriminator 1
 4869 01d6 3B4B     		ldr	r3, .L494+12
 4870 01d8 40F2DB52 		movw	r2, #1499
 4871 01dc 3A49     		ldr	r1, .L494+16
 4872 01de 3B48     		ldr	r0, .L494+20
 4873              	.LVL689:
 4874 01e0 FFF7FEFF 		bl	printf
 4875              	.LVL690:
 4876 01e4 CAE7     		b	.L470
 4877              	.LVL691:
 4878              	.L483:
1505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 4879              		.loc 1 1505 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 145


 4880 01e6 4FF0FF3B 		mov	fp, #-1
 4881              	.LVL692:
 4882 01ea CDE7     		b	.L469
 4883              	.LVL693:
 4884              	.L489:
 4885 01ec D146     		mov	r9, r10
 4886              	.LBE64:
1511:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (select_cb.next != NULL) {
 4887              		.loc 1 1511 0
 4888 01ee FFF7FEFF 		bl	sys_arch_protect
 4889              	.LVL694:
 4890 01f2 0446     		mov	r4, r0
 4891              	.LVL695:
1512:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       select_cb.next->prev = select_cb.prev;
 4892              		.loc 1 1512 0
 4893 01f4 079B     		ldr	r3, [sp, #28]
 4894 01f6 0BB1     		cbz	r3, .L472
 4895              	.LVL696:
1513:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4896              		.loc 1 1513 0
 4897 01f8 089A     		ldr	r2, [sp, #32]
 4898 01fa 5A60     		str	r2, [r3, #4]
 4899              	.L472:
1515:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("select_cb.prev == NULL", select_cb.prev == NULL);
 4900              		.loc 1 1515 0
 4901 01fc 2E4B     		ldr	r3, .L494
 4902 01fe 1A68     		ldr	r2, [r3]
 4903 0200 07AB     		add	r3, sp, #28
 4904 0202 9A42     		cmp	r2, r3
 4905 0204 2ED0     		beq	.L490
1519:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       select_cb.prev->next = select_cb.next;
 4906              		.loc 1 1519 0
 4907 0206 089B     		ldr	r3, [sp, #32]
 4908 0208 002B     		cmp	r3, #0
 4909 020a 38D0     		beq	.L491
 4910              	.LVL697:
 4911              	.L476:
1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4912              		.loc 1 1520 0
 4913 020c 089B     		ldr	r3, [sp, #32]
 4914 020e 079A     		ldr	r2, [sp, #28]
 4915 0210 1A60     		str	r2, [r3]
 4916              	.L475:
1523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
 4917              		.loc 1 1523 0
 4918 0212 2A4A     		ldr	r2, .L494+4
 4919 0214 1368     		ldr	r3, [r2]
 4920 0216 0133     		adds	r3, r3, #1
 4921 0218 1360     		str	r3, [r2]
1524:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4922              		.loc 1 1524 0
 4923 021a 2046     		mov	r0, r4
 4924 021c FFF7FEFF 		bl	sys_arch_unprotect
 4925              	.LVL698:
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
 4926              		.loc 1 1532 0
 4927 0220 0DA8     		add	r0, sp, #52
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 146


 4928 0222 FFF7FEFF 		bl	sys_sem_free
 4929              	.LVL699:
1535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* This happens when a socket got closed while waiting */
 4930              		.loc 1 1535 0
 4931 0226 BBF1000F 		cmp	fp, #0
 4932 022a 30DB     		blt	.L492
1541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Timeout */
 4933              		.loc 1 1541 0
 4934 022c 059B     		ldr	r3, [sp, #20]
 4935 022e B3F1FF3F 		cmp	r3, #-1
 4936 0232 32D1     		bne	.L493
 4937              	.LVL700:
 4938              	.L449:
1556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *readset = lreadset;
 4939              		.loc 1 1556 0
 4940 0234 26B1     		cbz	r6, .L478
1557:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4941              		.loc 1 1557 0
 4942 0236 14AB     		add	r3, sp, #80
 4943 0238 13E90300 		ldmdb	r3, {r0, r1}
 4944 023c 86E80300 		stm	r6, {r0, r1}
 4945              	.L478:
1559:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *writeset = lwriteset;
 4946              		.loc 1 1559 0
 4947 0240 27B1     		cbz	r7, .L479
1560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4948              		.loc 1 1560 0
 4949 0242 10AB     		add	r3, sp, #64
 4950 0244 93E80300 		ldm	r3, {r0, r1}
 4951 0248 87E80300 		stm	r7, {r0, r1}
 4952              	.L479:
1562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *exceptset = lexceptset;
 4953              		.loc 1 1562 0
 4954 024c B8F1000F 		cmp	r8, #0
 4955 0250 04D0     		beq	.L448
1563:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4956              		.loc 1 1563 0
 4957 0252 0EAB     		add	r3, sp, #56
 4958 0254 93E80300 		ldm	r3, {r0, r1}
 4959 0258 88E80300 		stm	r8, {r0, r1}
 4960              	.LVL701:
 4961              	.L448:
1566:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4962              		.loc 1 1566 0
 4963 025c 5846     		mov	r0, fp
 4964 025e 15B0     		add	sp, sp, #84
 4965              	.LCFI60:
 4966              		.cfi_remember_state
 4967              		.cfi_def_cfa_offset 36
 4968              		@ sp needed
 4969 0260 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 4970              	.LVL702:
 4971              	.L490:
 4972              	.LCFI61:
 4973              		.cfi_restore_state
1516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       select_cb_list = select_cb.next;
 4974              		.loc 1 1516 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 147


 4975 0264 089B     		ldr	r3, [sp, #32]
 4976 0266 33B1     		cbz	r3, .L474
1516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       select_cb_list = select_cb.next;
 4977              		.loc 1 1516 0 is_stmt 0 discriminator 1
 4978 0268 164B     		ldr	r3, .L494+12
 4979 026a 40F2EC52 		movw	r2, #1516
 4980 026e 1949     		ldr	r1, .L494+28
 4981 0270 1648     		ldr	r0, .L494+20
 4982              	.LVL703:
 4983 0272 FFF7FEFF 		bl	printf
 4984              	.LVL704:
 4985              	.L474:
1517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4986              		.loc 1 1517 0 is_stmt 1
 4987 0276 079A     		ldr	r2, [sp, #28]
 4988 0278 0F4B     		ldr	r3, .L494
 4989 027a 1A60     		str	r2, [r3]
 4990 027c C9E7     		b	.L475
 4991              	.LVL705:
 4992              	.L491:
1519:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       select_cb.prev->next = select_cb.next;
 4993              		.loc 1 1519 0 discriminator 1
 4994 027e 114B     		ldr	r3, .L494+12
 4995 0280 40F2EF52 		movw	r2, #1519
 4996 0284 1449     		ldr	r1, .L494+32
 4997 0286 1148     		ldr	r0, .L494+20
 4998              	.LVL706:
 4999 0288 FFF7FEFF 		bl	printf
 5000              	.LVL707:
 5001 028c BEE7     		b	.L476
 5002              	.L492:
1537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 5003              		.loc 1 1537 0 discriminator 1
 5004 028e 0C4B     		ldr	r3, .L494+8
 5005 0290 0922     		movs	r2, #9
 5006 0292 1A60     		str	r2, [r3]
1538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5007              		.loc 1 1538 0 discriminator 1
 5008 0294 4FF0FF3B 		mov	fp, #-1
 5009              	.LVL708:
 5010 0298 E0E7     		b	.L448
 5011              	.LVL709:
 5012              	.L493:
1550:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5013              		.loc 1 1550 0
 5014 029a 0EAB     		add	r3, sp, #56
 5015 029c 0293     		str	r3, [sp, #8]
 5016 029e 10AB     		add	r3, sp, #64
 5017 02a0 0193     		str	r3, [sp, #4]
 5018 02a2 12AB     		add	r3, sp, #72
 5019 02a4 0093     		str	r3, [sp]
 5020 02a6 4346     		mov	r3, r8
 5021 02a8 3A46     		mov	r2, r7
 5022 02aa 3146     		mov	r1, r6
 5023 02ac 4846     		mov	r0, r9
 5024 02ae FFF7FEFF 		bl	lwip_selscan
 5025              	.LVL710:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 148


 5026 02b2 8346     		mov	fp, r0
 5027              	.LVL711:
 5028 02b4 BEE7     		b	.L449
 5029              	.L495:
 5030 02b6 00BF     		.align	2
 5031              	.L494:
 5032 02b8 00000000 		.word	.LANCHOR1
 5033 02bc 00000000 		.word	.LANCHOR2
 5034 02c0 00000000 		.word	errno
 5035 02c4 00000000 		.word	.LC0
 5036 02c8 00000000 		.word	.LC20
 5037 02cc 3C000000 		.word	.LC2
 5038 02d0 D34D6210 		.word	274877907
 5039 02d4 1C000000 		.word	.LC21
 5040 02d8 34000000 		.word	.LC22
 5041              		.cfi_endproc
 5042              	.LFE168:
 5044              		.section	.text.lwip_shutdown,"ax",%progbits
 5045              		.align	1
 5046              		.global	lwip_shutdown
 5047              		.syntax unified
 5048              		.thumb
 5049              		.thumb_func
 5050              		.fpu fpv4-sp-d16
 5052              	lwip_shutdown:
 5053              	.LFB170:
1694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5054              		.loc 1 1694 0
 5055              		.cfi_startproc
 5056              		@ args = 0, pretend = 0, frame = 0
 5057              		@ frame_needed = 0, uses_anonymous_args = 0
 5058              	.LVL712:
 5059 0000 38B5     		push	{r3, r4, r5, lr}
 5060              	.LCFI62:
 5061              		.cfi_def_cfa_offset 16
 5062              		.cfi_offset 3, -16
 5063              		.cfi_offset 4, -12
 5064              		.cfi_offset 5, -8
 5065              		.cfi_offset 14, -4
 5066 0002 0C46     		mov	r4, r1
 5067              	.LVL713:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5068              		.loc 1 1701 0
 5069 0004 FFF7FEFF 		bl	get_socket
 5070              	.LVL714:
1702:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5071              		.loc 1 1702 0
 5072 0008 A8B3     		cbz	r0, .L502
 5073 000a 0546     		mov	r5, r0
1706:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 5074              		.loc 1 1706 0
 5075 000c 0068     		ldr	r0, [r0]
 5076              	.LVL715:
 5077 000e F0B1     		cbz	r0, .L498
1707:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 5078              		.loc 1 1707 0
 5079 0010 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 149


 5080 0012 03F0F003 		and	r3, r3, #240
 5081 0016 102B     		cmp	r3, #16
 5082 0018 12D1     		bne	.L508
1716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
 5083              		.loc 1 1716 0
 5084 001a 34B3     		cbz	r4, .L503
1718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_tx = 1;
 5085              		.loc 1 1718 0
 5086 001c 012C     		cmp	r4, #1
 5087 001e 27D0     		beq	.L504
1720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
 5088              		.loc 1 1720 0
 5089 0020 022C     		cmp	r4, #2
 5090 0022 1BD1     		bne	.L509
1722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5091              		.loc 1 1722 0
 5092 0024 0122     		movs	r2, #1
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_tx = 1;
 5093              		.loc 1 1721 0
 5094 0026 1146     		mov	r1, r2
 5095              	.L500:
 5096              	.LVL716:
1727:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5097              		.loc 1 1727 0
 5098 0028 FFF7FEFF 		bl	netconn_shutdown
 5099              	.LVL717:
 5100 002c 0446     		mov	r4, r0
 5101              	.LVL718:
 5102              	.LBB65:
1729:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? 0 : -1);
 5103              		.loc 1 1729 0
 5104 002e FFF7FEFF 		bl	err_to_errno
 5105              	.LVL719:
 5106 0032 2874     		strb	r0, [r5, #16]
 5107 0034 08B1     		cbz	r0, .L501
1729:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? 0 : -1);
 5108              		.loc 1 1729 0 is_stmt 0 discriminator 1
 5109 0036 134B     		ldr	r3, .L510
 5110 0038 1860     		str	r0, [r3]
 5111              	.L501:
 5112              	.LBE65:
1730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5113              		.loc 1 1730 0 is_stmt 1
 5114 003a FCB9     		cbnz	r4, .L506
 5115 003c 0020     		movs	r0, #0
 5116              	.LVL720:
 5117              	.L496:
1731:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5118              		.loc 1 1731 0
 5119 003e 38BD     		pop	{r3, r4, r5, pc}
 5120              	.LVL721:
 5121              	.L508:
 5122              	.LBB66:
1708:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 5123              		.loc 1 1708 0
 5124 0040 5F23     		movs	r3, #95
 5125 0042 2B74     		strb	r3, [r5, #16]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 150


 5126 0044 0F4A     		ldr	r2, .L510
 5127 0046 1360     		str	r3, [r2]
 5128              	.LBE66:
1709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5129              		.loc 1 1709 0
 5130 0048 4FF0FF30 		mov	r0, #-1
 5131 004c F7E7     		b	.L496
 5132              	.LVL722:
 5133              	.L498:
 5134              	.LBB67:
1712:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5135              		.loc 1 1712 0
 5136 004e 6B23     		movs	r3, #107
 5137 0050 2B74     		strb	r3, [r5, #16]
 5138 0052 0C4A     		ldr	r2, .L510
 5139 0054 1360     		str	r3, [r2]
 5140              	.LBE67:
1713:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5141              		.loc 1 1713 0
 5142 0056 4FF0FF30 		mov	r0, #-1
 5143 005a F0E7     		b	.L496
 5144              	.LVL723:
 5145              	.L509:
 5146              	.LBB68:
1724:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5147              		.loc 1 1724 0
 5148 005c 1623     		movs	r3, #22
 5149 005e 2B74     		strb	r3, [r5, #16]
 5150 0060 084A     		ldr	r2, .L510
 5151 0062 1360     		str	r3, [r2]
 5152              	.LBE68:
1725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5153              		.loc 1 1725 0
 5154 0064 4FF0FF30 		mov	r0, #-1
 5155 0068 E9E7     		b	.L496
 5156              	.LVL724:
 5157              	.L503:
1697:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5158              		.loc 1 1697 0
 5159 006a 0022     		movs	r2, #0
1717:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (how == SHUT_WR) {
 5160              		.loc 1 1717 0
 5161 006c 0121     		movs	r1, #1
 5162 006e DBE7     		b	.L500
 5163              	.L504:
1719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (how == SHUT_RDWR) {
 5164              		.loc 1 1719 0
 5165 0070 0122     		movs	r2, #1
1697:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5166              		.loc 1 1697 0
 5167 0072 0021     		movs	r1, #0
 5168 0074 D8E7     		b	.L500
 5169              	.LVL725:
 5170              	.L502:
1703:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5171              		.loc 1 1703 0
 5172 0076 4FF0FF30 		mov	r0, #-1
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 151


 5173              	.LVL726:
 5174 007a E0E7     		b	.L496
 5175              	.LVL727:
 5176              	.L506:
1730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5177              		.loc 1 1730 0
 5178 007c 4FF0FF30 		mov	r0, #-1
 5179              	.LVL728:
 5180 0080 DDE7     		b	.L496
 5181              	.L511:
 5182 0082 00BF     		.align	2
 5183              	.L510:
 5184 0084 00000000 		.word	errno
 5185              		.cfi_endproc
 5186              	.LFE170:
 5188              		.section	.text.lwip_getpeername,"ax",%progbits
 5189              		.align	1
 5190              		.global	lwip_getpeername
 5191              		.syntax unified
 5192              		.thumb
 5193              		.thumb_func
 5194              		.fpu fpv4-sp-d16
 5196              	lwip_getpeername:
 5197              	.LFB172:
1780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 0);
 5198              		.loc 1 1780 0
 5199              		.cfi_startproc
 5200              		@ args = 0, pretend = 0, frame = 0
 5201              		@ frame_needed = 0, uses_anonymous_args = 0
 5202              	.LVL729:
 5203 0000 08B5     		push	{r3, lr}
 5204              	.LCFI63:
 5205              		.cfi_def_cfa_offset 8
 5206              		.cfi_offset 3, -8
 5207              		.cfi_offset 14, -4
1781:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5208              		.loc 1 1781 0
 5209 0002 0023     		movs	r3, #0
 5210 0004 FFF7FEFF 		bl	lwip_getaddrname
 5211              	.LVL730:
1782:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5212              		.loc 1 1782 0
 5213 0008 08BD     		pop	{r3, pc}
 5214              		.cfi_endproc
 5215              	.LFE172:
 5217              		.section	.text.lwip_getsockname,"ax",%progbits
 5218              		.align	1
 5219              		.global	lwip_getsockname
 5220              		.syntax unified
 5221              		.thumb
 5222              		.thumb_func
 5223              		.fpu fpv4-sp-d16
 5225              	lwip_getsockname:
 5226              	.LFB173:
1786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 1);
 5227              		.loc 1 1786 0
 5228              		.cfi_startproc
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 152


 5229              		@ args = 0, pretend = 0, frame = 0
 5230              		@ frame_needed = 0, uses_anonymous_args = 0
 5231              	.LVL731:
 5232 0000 08B5     		push	{r3, lr}
 5233              	.LCFI64:
 5234              		.cfi_def_cfa_offset 8
 5235              		.cfi_offset 3, -8
 5236              		.cfi_offset 14, -4
1787:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5237              		.loc 1 1787 0
 5238 0002 0123     		movs	r3, #1
 5239 0004 FFF7FEFF 		bl	lwip_getaddrname
 5240              	.LVL732:
1788:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5241              		.loc 1 1788 0
 5242 0008 08BD     		pop	{r3, pc}
 5243              		.cfi_endproc
 5244              	.LFE173:
 5246              		.section	.text.lwip_getsockopt,"ax",%progbits
 5247              		.align	1
 5248              		.global	lwip_getsockopt
 5249              		.syntax unified
 5250              		.thumb
 5251              		.thumb_func
 5252              		.fpu fpv4-sp-d16
 5254              	lwip_getsockopt:
 5255              	.LFB174:
1792:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t err;
 5256              		.loc 1 1792 0
 5257              		.cfi_startproc
 5258              		@ args = 4, pretend = 0, frame = 0
 5259              		@ frame_needed = 0, uses_anonymous_args = 0
 5260              	.LVL733:
 5261 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 5262              	.LCFI65:
 5263              		.cfi_def_cfa_offset 32
 5264              		.cfi_offset 4, -32
 5265              		.cfi_offset 5, -28
 5266              		.cfi_offset 6, -24
 5267              		.cfi_offset 7, -20
 5268              		.cfi_offset 8, -16
 5269              		.cfi_offset 9, -12
 5270              		.cfi_offset 10, -8
 5271              		.cfi_offset 14, -4
 5272 0004 82B0     		sub	sp, sp, #8
 5273              	.LCFI66:
 5274              		.cfi_def_cfa_offset 40
 5275 0006 8046     		mov	r8, r0
 5276 0008 8946     		mov	r9, r1
 5277 000a 9246     		mov	r10, r2
 5278 000c 1C46     		mov	r4, r3
 5279 000e 0A9D     		ldr	r5, [sp, #40]
1794:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 5280              		.loc 1 1794 0
 5281 0010 FFF7FEFF 		bl	get_socket
 5282              	.LVL734:
1799:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 153


 5283              		.loc 1 1799 0
 5284 0014 20B3     		cbz	r0, .L521
 5285 0016 0746     		mov	r7, r0
1803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
 5286              		.loc 1 1803 0
 5287 0018 C4B1     		cbz	r4, .L518
1803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
 5288              		.loc 1 1803 0 is_stmt 0 discriminator 1
 5289 001a BDB1     		cbz	r5, .L518
1810:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_getsockopt_impl(s, level, optname, optval, optlen);
 5290              		.loc 1 1810 0 is_stmt 1
 5291 001c 124E     		ldr	r6, .L525
 5292 001e 3046     		mov	r0, r6
 5293              	.LVL735:
 5294 0020 FFF7FEFF 		bl	sys_mutex_lock
 5295              	.LVL736:
1811:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
 5296              		.loc 1 1811 0
 5297 0024 0095     		str	r5, [sp]
 5298 0026 2346     		mov	r3, r4
 5299 0028 5246     		mov	r2, r10
 5300 002a 4946     		mov	r1, r9
 5301 002c 4046     		mov	r0, r8
 5302 002e FFF7FEFF 		bl	lwip_getsockopt_impl
 5303              	.LVL737:
 5304 0032 0446     		mov	r4, r0
 5305              	.LVL738:
1812:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5306              		.loc 1 1812 0
 5307 0034 3046     		mov	r0, r6
 5308 0036 FFF7FEFF 		bl	sys_mutex_unlock
 5309              	.LVL739:
 5310              	.LBB69:
1858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err ? -1 : 0;
 5311              		.loc 1 1858 0
 5312 003a 3C74     		strb	r4, [r7, #16]
 5313 003c 0CB1     		cbz	r4, .L520
1858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err ? -1 : 0;
 5314              		.loc 1 1858 0 is_stmt 0 discriminator 1
 5315 003e 0B4B     		ldr	r3, .L525+4
 5316 0040 1C60     		str	r4, [r3]
 5317              	.L520:
 5318              	.LBE69:
1859:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5319              		.loc 1 1859 0 is_stmt 1
 5320 0042 54B9     		cbnz	r4, .L524
 5321 0044 0020     		movs	r0, #0
 5322              	.LVL740:
 5323              	.L516:
1860:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5324              		.loc 1 1860 0
 5325 0046 02B0     		add	sp, sp, #8
 5326              	.LCFI67:
 5327              		.cfi_remember_state
 5328              		.cfi_def_cfa_offset 32
 5329              		@ sp needed
 5330 0048 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 154


 5331              	.LVL741:
 5332              	.L518:
 5333              	.LCFI68:
 5334              		.cfi_restore_state
 5335              	.LBB70:
1804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5336              		.loc 1 1804 0
 5337 004c 0E23     		movs	r3, #14
 5338 004e 3B74     		strb	r3, [r7, #16]
 5339 0050 064A     		ldr	r2, .L525+4
 5340 0052 1360     		str	r3, [r2]
 5341              	.LBE70:
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5342              		.loc 1 1805 0
 5343 0054 4FF0FF30 		mov	r0, #-1
 5344              	.LVL742:
 5345 0058 F5E7     		b	.L516
 5346              	.LVL743:
 5347              	.L524:
1859:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5348              		.loc 1 1859 0
 5349 005a 4FF0FF30 		mov	r0, #-1
 5350 005e F2E7     		b	.L516
 5351              	.LVL744:
 5352              	.L521:
1800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5353              		.loc 1 1800 0
 5354 0060 4FF0FF30 		mov	r0, #-1
 5355              	.LVL745:
 5356 0064 EFE7     		b	.L516
 5357              	.L526:
 5358 0066 00BF     		.align	2
 5359              	.L525:
 5360 0068 00000000 		.word	lock_tcpip_core
 5361 006c 00000000 		.word	errno
 5362              		.cfi_endproc
 5363              	.LFE174:
 5365              		.section	.text.lwip_setsockopt,"ax",%progbits
 5366              		.align	1
 5367              		.global	lwip_setsockopt
 5368              		.syntax unified
 5369              		.thumb
 5370              		.thumb_func
 5371              		.fpu fpv4-sp-d16
 5373              	lwip_setsockopt:
 5374              	.LFB176:
2198:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t err = 0;
 5375              		.loc 1 2198 0
 5376              		.cfi_startproc
 5377              		@ args = 4, pretend = 0, frame = 0
 5378              		@ frame_needed = 0, uses_anonymous_args = 0
 5379              	.LVL746:
 5380 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 5381              	.LCFI69:
 5382              		.cfi_def_cfa_offset 28
 5383              		.cfi_offset 4, -28
 5384              		.cfi_offset 5, -24
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 155


 5385              		.cfi_offset 6, -20
 5386              		.cfi_offset 7, -16
 5387              		.cfi_offset 8, -12
 5388              		.cfi_offset 9, -8
 5389              		.cfi_offset 14, -4
 5390 0004 83B0     		sub	sp, sp, #12
 5391              	.LCFI70:
 5392              		.cfi_def_cfa_offset 40
 5393 0006 0746     		mov	r7, r0
 5394 0008 8846     		mov	r8, r1
 5395 000a 9146     		mov	r9, r2
 5396 000c 1C46     		mov	r4, r3
 5397              	.LVL747:
2200:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 5398              		.loc 1 2200 0
 5399 000e FFF7FEFF 		bl	get_socket
 5400              	.LVL748:
2205:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5401              		.loc 1 2205 0
 5402 0012 20B3     		cbz	r0, .L531
 5403 0014 0646     		mov	r6, r0
2209:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
 5404              		.loc 1 2209 0
 5405 0016 C4B1     		cbz	r4, .L534
2216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_setsockopt_impl(s, level, optname, optval, optlen);
 5406              		.loc 1 2216 0
 5407 0018 124D     		ldr	r5, .L536
 5408 001a 2846     		mov	r0, r5
 5409              	.LVL749:
 5410 001c FFF7FEFF 		bl	sys_mutex_lock
 5411              	.LVL750:
2217:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
 5412              		.loc 1 2217 0
 5413 0020 0A9B     		ldr	r3, [sp, #40]
 5414 0022 0093     		str	r3, [sp]
 5415 0024 2346     		mov	r3, r4
 5416 0026 4A46     		mov	r2, r9
 5417 0028 4146     		mov	r1, r8
 5418 002a 3846     		mov	r0, r7
 5419 002c FFF7FEFF 		bl	lwip_setsockopt_impl
 5420              	.LVL751:
 5421 0030 0446     		mov	r4, r0
 5422              	.LVL752:
2218:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5423              		.loc 1 2218 0
 5424 0032 2846     		mov	r0, r5
 5425 0034 FFF7FEFF 		bl	sys_mutex_unlock
 5426              	.LVL753:
 5427              	.LBB71:
2259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err ? -1 : 0;
 5428              		.loc 1 2259 0
 5429 0038 3474     		strb	r4, [r6, #16]
 5430 003a 0CB1     		cbz	r4, .L530
2259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err ? -1 : 0;
 5431              		.loc 1 2259 0 is_stmt 0 discriminator 1
 5432 003c 0A4B     		ldr	r3, .L536+4
 5433 003e 1C60     		str	r4, [r3]
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 156


 5434              	.L530:
 5435              	.LBE71:
2260:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5436              		.loc 1 2260 0 is_stmt 1
 5437 0040 54B9     		cbnz	r4, .L535
 5438 0042 0020     		movs	r0, #0
 5439              	.LVL754:
 5440              	.L527:
2261:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5441              		.loc 1 2261 0
 5442 0044 03B0     		add	sp, sp, #12
 5443              	.LCFI71:
 5444              		.cfi_remember_state
 5445              		.cfi_def_cfa_offset 28
 5446              		@ sp needed
 5447 0046 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 5448              	.LVL755:
 5449              	.L534:
 5450              	.LCFI72:
 5451              		.cfi_restore_state
 5452              	.LBB72:
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5453              		.loc 1 2210 0
 5454 004a 0E23     		movs	r3, #14
 5455 004c 0374     		strb	r3, [r0, #16]
 5456 004e 064A     		ldr	r2, .L536+4
 5457 0050 1360     		str	r3, [r2]
 5458              	.LBE72:
2211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5459              		.loc 1 2211 0
 5460 0052 4FF0FF30 		mov	r0, #-1
 5461              	.LVL756:
 5462 0056 F5E7     		b	.L527
 5463              	.LVL757:
 5464              	.L535:
2260:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5465              		.loc 1 2260 0
 5466 0058 4FF0FF30 		mov	r0, #-1
 5467 005c F2E7     		b	.L527
 5468              	.LVL758:
 5469              	.L531:
2206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5470              		.loc 1 2206 0
 5471 005e 4FF0FF30 		mov	r0, #-1
 5472              	.LVL759:
 5473 0062 EFE7     		b	.L527
 5474              	.L537:
 5475              		.align	2
 5476              	.L536:
 5477 0064 00000000 		.word	lock_tcpip_core
 5478 0068 00000000 		.word	errno
 5479              		.cfi_endproc
 5480              	.LFE176:
 5482              		.section	.text.lwip_ioctl,"ax",%progbits
 5483              		.align	1
 5484              		.global	lwip_ioctl
 5485              		.syntax unified
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 157


 5486              		.thumb
 5487              		.thumb_func
 5488              		.fpu fpv4-sp-d16
 5490              	lwip_ioctl:
 5491              	.LFB178:
2615:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2616:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
2617:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_ioctl(int s, long cmd, void *argp)
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 5492              		.loc 1 2618 0
 5493              		.cfi_startproc
 5494              		@ args = 0, pretend = 0, frame = 0
 5495              		@ frame_needed = 0, uses_anonymous_args = 0
 5496              	.LVL760:
 5497 0000 38B5     		push	{r3, r4, r5, lr}
 5498              	.LCFI73:
 5499              		.cfi_def_cfa_offset 16
 5500              		.cfi_offset 3, -16
 5501              		.cfi_offset 4, -12
 5502              		.cfi_offset 5, -8
 5503              		.cfi_offset 14, -4
 5504 0002 0D46     		mov	r5, r1
 5505 0004 1446     		mov	r4, r2
2619:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
 5506              		.loc 1 2619 0
 5507 0006 FFF7FEFF 		bl	get_socket
 5508              	.LVL761:
2620:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t val;
2621:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF
2622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t buflen = 0;
2623:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int recv_avail;
2624:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
2625:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2626:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5509              		.loc 1 2626 0
 5510 000a D8B1     		cbz	r0, .L544
 5511 000c 0346     		mov	r3, r0
2627:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2628:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2629:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (cmd) {
 5512              		.loc 1 2630 0
 5513 000e 0F4A     		ldr	r2, .L547
 5514 0010 9542     		cmp	r5, r2
 5515 0012 10D1     		bne	.L545
 5516              	.LVL762:
2631:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF || LWIP_FIONREAD_LINUXMODE
2632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case FIONREAD:
2633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!argp) {
2634:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EINVAL);
2635:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
2636:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2637:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_FIONREAD_LINUXMODE
2638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
2639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p;
2640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->lastdata) {
2641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         p = ((struct netbuf *)sock->lastdata)->p;
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 158


2642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         *((int*)argp) = p->tot_len - sock->lastoffset;
2643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         struct netbuf *rxbuf;
2645:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err_t err;
2646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (sock->rcvevent <= 0) {
2647:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *((int*)argp) = 0;
2648:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
2649:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = netconn_recv(sock->conn, &rxbuf);
2650:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (err != ERR_OK) {
2651:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *((int*)argp) = 0;
2652:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
2653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->lastdata = rxbuf;
2654:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->lastoffset = 0;
2655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *((int*)argp) = rxbuf->p->tot_len;
2656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2659:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return 0;
2660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_FIONREAD_LINUXMODE */
2662:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2663:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF
2664:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* we come here if either LWIP_FIONREAD_LINUXMODE==0 or this is a TCP socket */
2665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_GET(sock->conn->recv_avail, recv_avail);
2666:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (recv_avail < 0) {
2667:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       recv_avail = 0;
2668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *((int*)argp) = recv_avail;
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Check if there is data left from the last recv operation. /maq 041215 */
2672:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->lastdata) {
2673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p = (struct pbuf *)sock->lastdata;
2674:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         p = ((struct netbuf *)p)->p;
2676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       buflen = p->tot_len;
2678:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       buflen -= sock->lastoffset;
2679:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *((int*)argp) += buflen;
2681:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2682:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2683:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, FIONREAD, %p) = %"U16_F"\n", s, argp, *((u16_t*)arg
2684:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, 0);
2685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
2686:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_SO_RCVBUF */
2687:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
2689:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF || LWIP_FIONREAD_LINUXMODE */
2690:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case (long)FIONBIO:
2692:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     val = 0;
2693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (argp && *(u32_t*)argp) {
 5517              		.loc 1 2693 0
 5518 0014 3CB1     		cbz	r4, .L542
 5519              		.loc 1 2693 0 is_stmt 0 discriminator 1
 5520 0016 2268     		ldr	r2, [r4]
 5521 0018 2AB1     		cbz	r2, .L542
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 159


 5522              	.LVL763:
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       val = 1;
2695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_set_nonblocking(sock->conn, val);
 5523              		.loc 1 2696 0 is_stmt 1
 5524 001a 0168     		ldr	r1, [r0]
 5525 001c 0A7F     		ldrb	r2, [r1, #28]	@ zero_extendqisi2
 5526 001e 42F00202 		orr	r2, r2, #2
 5527 0022 0A77     		strb	r2, [r1, #28]
 5528 0024 04E0     		b	.L543
 5529              	.LVL764:
 5530              	.L542:
 5531              		.loc 1 2696 0 is_stmt 0 discriminator 2
 5532 0026 1968     		ldr	r1, [r3]
 5533 0028 0A7F     		ldrb	r2, [r1, #28]	@ zero_extendqisi2
 5534 002a 22F00202 		bic	r2, r2, #2
 5535 002e 0A77     		strb	r2, [r1, #28]
 5536              	.LVL765:
 5537              	.L543:
 5538              	.LBB73:
2697:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, FIONBIO, %d)\n", s, val));
2698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, 0);
 5539              		.loc 1 2698 0 is_stmt 1
 5540 0030 0020     		movs	r0, #0
 5541              	.LVL766:
 5542 0032 1874     		strb	r0, [r3, #16]
 5543              	.LVL767:
 5544              	.L538:
 5545              	.LBE73:
2699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
2700:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   default:
2702:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2703:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } /* switch (cmd) */
2704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, UNIMPL: 0x%lx, %p)\n", s, cmd, argp));
2705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, ENOSYS); /* not yet implemented */
2706:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
2707:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5546              		.loc 1 2707 0
 5547 0034 38BD     		pop	{r3, r4, r5, pc}
 5548              	.LVL768:
 5549              	.L545:
 5550              	.LBB74:
2705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
 5551              		.loc 1 2705 0
 5552 0036 2622     		movs	r2, #38
 5553 0038 0274     		strb	r2, [r0, #16]
 5554 003a 054B     		ldr	r3, .L547+4
 5555 003c 1A60     		str	r2, [r3]
 5556              	.LBE74:
2706:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5557              		.loc 1 2706 0
 5558 003e 4FF0FF30 		mov	r0, #-1
 5559              	.LVL769:
 5560 0042 F7E7     		b	.L538
 5561              	.LVL770:
 5562              	.L544:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 160


2627:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5563              		.loc 1 2627 0
 5564 0044 4FF0FF30 		mov	r0, #-1
 5565              	.LVL771:
 5566 0048 F4E7     		b	.L538
 5567              	.L548:
 5568 004a 00BF     		.align	2
 5569              	.L547:
 5570 004c 7E660480 		.word	-2147195266
 5571 0050 00000000 		.word	errno
 5572              		.cfi_endproc
 5573              	.LFE178:
 5575              		.section	.text.lwip_fcntl,"ax",%progbits
 5576              		.align	1
 5577              		.global	lwip_fcntl
 5578              		.syntax unified
 5579              		.thumb
 5580              		.thumb_func
 5581              		.fpu fpv4-sp-d16
 5583              	lwip_fcntl:
 5584              	.LFB179:
2708:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2709:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** A minimal implementation of fcntl.
2710:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Currently only the commands F_GETFL and F_SETFL are implemented.
2711:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Only the flag O_NONBLOCK is implemented.
2712:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2713:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
2714:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_fcntl(int s, int cmd, int val)
2715:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 5585              		.loc 1 2715 0
 5586              		.cfi_startproc
 5587              		@ args = 0, pretend = 0, frame = 0
 5588              		@ frame_needed = 0, uses_anonymous_args = 0
 5589              	.LVL772:
 5590 0000 38B5     		push	{r3, r4, r5, lr}
 5591              	.LCFI74:
 5592              		.cfi_def_cfa_offset 16
 5593              		.cfi_offset 3, -16
 5594              		.cfi_offset 4, -12
 5595              		.cfi_offset 5, -8
 5596              		.cfi_offset 14, -4
 5597 0002 0C46     		mov	r4, r1
 5598 0004 1546     		mov	r5, r2
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
 5599              		.loc 1 2716 0
 5600 0006 FFF7FEFF 		bl	get_socket
 5601              	.LVL773:
2717:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int ret = -1;
2718:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5602              		.loc 1 2719 0
 5603 000a 68B3     		cbz	r0, .L557
 5604 000c 0346     		mov	r3, r0
2720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2722:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2723:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (cmd) {
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 161


 5605              		.loc 1 2723 0
 5606 000e 032C     		cmp	r4, #3
 5607 0010 08D0     		beq	.L552
 5608 0012 042C     		cmp	r4, #4
 5609 0014 0DD0     		beq	.L553
 5610              	.LVL774:
 5611              	.LBB75:
2724:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case F_GETFL:
2725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = netconn_is_nonblocking(sock->conn) ? O_NONBLOCK : 0;
2726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, 0);
2727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2728:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case F_SETFL:
2729:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((val & ~O_NONBLOCK) == 0) {
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* only O_NONBLOCK, all other bits are zero */
2731:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netconn_set_nonblocking(sock->conn, val & O_NONBLOCK);
2732:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ret = 0;
2733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
2734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
2735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, ENOSYS); /* not yet implemented */
2736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2737:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   default:
2739:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_fcntl(%d, UNIMPL: %d, %d)\n", s, cmd, val));
2740:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENOSYS); /* not yet implemented */
 5612              		.loc 1 2740 0
 5613 0016 2622     		movs	r2, #38
 5614 0018 0274     		strb	r2, [r0, #16]
 5615 001a 154B     		ldr	r3, .L560
 5616 001c 1A60     		str	r2, [r3]
 5617              	.LBE75:
2717:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5618              		.loc 1 2717 0
 5619 001e 4FF0FF30 		mov	r0, #-1
 5620              	.LVL775:
 5621 0022 05E0     		b	.L549
 5622              	.LVL776:
 5623              	.L552:
2725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, 0);
 5624              		.loc 1 2725 0
 5625 0024 0268     		ldr	r2, [r0]
 5626 0026 107F     		ldrb	r0, [r2, #28]	@ zero_extendqisi2
 5627              	.LVL777:
 5628 0028 C0F34000 		ubfx	r0, r0, #1, #1
 5629              	.LVL778:
 5630              	.LBB76:
2726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
 5631              		.loc 1 2726 0
 5632 002c 0022     		movs	r2, #0
 5633 002e 1A74     		strb	r2, [r3, #16]
 5634              	.LVL779:
 5635              	.L549:
 5636              	.LBE76:
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     break;
2742:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
2744:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5637              		.loc 1 2744 0
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 162


 5638 0030 38BD     		pop	{r3, r4, r5, pc}
 5639              	.LVL780:
 5640              	.L553:
2729:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* only O_NONBLOCK, all other bits are zero */
 5641              		.loc 1 2729 0
 5642 0032 35F00100 		bics	r0, r5, #1
 5643              	.LVL781:
 5644 0036 10D1     		bne	.L554
2731:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ret = 0;
 5645              		.loc 1 2731 0
 5646 0038 15F0010F 		tst	r5, #1
 5647 003c 07D0     		beq	.L555
2731:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ret = 0;
 5648              		.loc 1 2731 0 is_stmt 0 discriminator 1
 5649 003e 1968     		ldr	r1, [r3]
 5650 0040 0A7F     		ldrb	r2, [r1, #28]	@ zero_extendqisi2
 5651 0042 42F00202 		orr	r2, r2, #2
 5652 0046 0A77     		strb	r2, [r1, #28]
 5653              	.L556:
 5654              	.LVL782:
 5655              	.LBB77:
2733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5656              		.loc 1 2733 0 is_stmt 1
 5657 0048 0022     		movs	r2, #0
 5658 004a 1A74     		strb	r2, [r3, #16]
 5659              	.LBE77:
 5660 004c F0E7     		b	.L549
 5661              	.LVL783:
 5662              	.L555:
2731:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ret = 0;
 5663              		.loc 1 2731 0 discriminator 2
 5664 004e 1968     		ldr	r1, [r3]
 5665 0050 0A7F     		ldrb	r2, [r1, #28]	@ zero_extendqisi2
 5666 0052 22F00202 		bic	r2, r2, #2
 5667 0056 0A77     		strb	r2, [r1, #28]
 5668 0058 F6E7     		b	.L556
 5669              	.L554:
 5670              	.LVL784:
 5671              	.LBB78:
2735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5672              		.loc 1 2735 0
 5673 005a 2622     		movs	r2, #38
 5674 005c 1A74     		strb	r2, [r3, #16]
 5675 005e 044B     		ldr	r3, .L560
 5676              	.LVL785:
 5677 0060 1A60     		str	r2, [r3]
 5678              	.LBE78:
2717:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5679              		.loc 1 2717 0
 5680 0062 4FF0FF30 		mov	r0, #-1
 5681 0066 E3E7     		b	.L549
 5682              	.LVL786:
 5683              	.L557:
2720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5684              		.loc 1 2720 0
 5685 0068 4FF0FF30 		mov	r0, #-1
 5686              	.LVL787:
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 163


 5687 006c E0E7     		b	.L549
 5688              	.L561:
 5689 006e 00BF     		.align	2
 5690              	.L560:
 5691 0070 00000000 		.word	errno
 5692              		.cfi_endproc
 5693              	.LFE179:
 5695              		.section	.bss.select_cb_ctr,"aw",%nobits
 5696              		.align	2
 5697              		.set	.LANCHOR2,. + 0
 5700              	select_cb_ctr:
 5701 0000 00000000 		.space	4
 5702              		.section	.bss.select_cb_list,"aw",%nobits
 5703              		.align	2
 5704              		.set	.LANCHOR1,. + 0
 5707              	select_cb_list:
 5708 0000 00000000 		.space	4
 5709              		.section	.bss.sockets,"aw",%nobits
 5710              		.align	2
 5711              		.set	.LANCHOR0,. + 0
 5714              	sockets:
 5715 0000 00000000 		.space	80
 5715      00000000 
 5715      00000000 
 5715      00000000 
 5715      00000000 
 5716              		.section	.rodata.event_callback.str1.4,"aMS",%progbits,1
 5717              		.align	2
 5718              	.LC3:
 5719 0000 756E6B6E 		.ascii	"unknown event\000"
 5719      6F776E20 
 5719      6576656E 
 5719      7400
 5720              		.section	.rodata.lwip_accept.str1.4,"aMS",%progbits,1
 5721              		.align	2
 5722              	.LC4:
 5723 0000 6E657763 		.ascii	"newconn != NULL\000"
 5723      6F6E6E20 
 5723      213D204E 
 5723      554C4C00 
 5724              	.LC5:
 5725 0010 696E7661 		.ascii	"invalid socket index\000"
 5725      6C696420 
 5725      736F636B 
 5725      65742069 
 5725      6E646578 
 5726 0025 000000   		.space	3
 5727              	.LC6:
 5728 0028 6E657763 		.ascii	"newconn->callback == event_callback\000"
 5728      6F6E6E2D 
 5728      3E63616C 
 5728      6C626163 
 5728      6B203D3D 
 5729              	.LC7:
 5730 004c 61646472 		.ascii	"addr valid but addrlen NULL\000"
 5730      2076616C 
 5730      69642062 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 164


 5730      75742061 
 5730      6464726C 
 5731              		.section	.rodata.lwip_bind.str1.4,"aMS",%progbits,1
 5732              		.align	2
 5733              	.LC8:
 5734 0000 6C776970 		.ascii	"lwip_bind: invalid address\000"
 5734      5F62696E 
 5734      643A2069 
 5734      6E76616C 
 5734      69642061 
 5735              		.section	.rodata.lwip_close.str1.4,"aMS",%progbits,1
 5736              		.align	2
 5737              	.LC9:
 5738 0000 736F636B 		.ascii	"sock->lastdata == NULL\000"
 5738      2D3E6C61 
 5738      73746461 
 5738      7461203D 
 5738      3D204E55 
 5739              		.section	.rodata.lwip_connect.str1.4,"aMS",%progbits,1
 5740              		.align	2
 5741              	.LC10:
 5742 0000 43616E6E 		.ascii	"Cannot get socket\015\000"
 5742      6F742067 
 5742      65742073 
 5742      6F636B65 
 5742      740D00
 5743 0013 00       		.space	1
 5744              	.LC11:
 5745 0014 6C776970 		.ascii	"lwip_connect: invalid address\000"
 5745      5F636F6E 
 5745      6E656374 
 5745      3A20696E 
 5745      76616C69 
 5746              		.section	.rodata.lwip_recvfrom.str1.4,"aMS",%progbits,1
 5747              		.align	2
 5748              	.LC12:
 5749 0000 62756620 		.ascii	"buf != NULL\000"
 5749      213D204E 
 5749      554C4C00 
 5750              	.LC13:
 5751 000c 696E7661 		.ascii	"invalid copylen, len would underflow\000"
 5751      6C696420 
 5751      636F7079 
 5751      6C656E2C 
 5751      206C656E 
 5752              		.section	.rodata.lwip_select.str1.4,"aMS",%progbits,1
 5753              		.align	2
 5754              	.LC20:
 5755 0000 736F636B 		.ascii	"sock->select_waiting > 0\000"
 5755      2D3E7365 
 5755      6C656374 
 5755      5F776169 
 5755      74696E67 
 5756 0019 000000   		.space	3
 5757              	.LC21:
 5758 001c 73656C65 		.ascii	"select_cb.prev == NULL\000"
 5758      63745F63 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 165


 5758      622E7072 
 5758      6576203D 
 5758      3D204E55 
 5759 0033 00       		.space	1
 5760              	.LC22:
 5761 0034 73656C65 		.ascii	"select_cb.prev != NULL\000"
 5761      63745F63 
 5761      622E7072 
 5761      65762021 
 5761      3D204E55 
 5762              		.section	.rodata.lwip_selscan.str1.4,"aMS",%progbits,1
 5763              		.align	2
 5764              	.LC0:
 5765 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/api/sockets.c\000"
 5765      6C657761 
 5765      7265732F 
 5765      54686972 
 5765      645F5061 
 5766 002f 00       		.space	1
 5767              	.LC1:
 5768 0030 6E726561 		.ascii	"nready >= 0\000"
 5768      6479203E 
 5768      3D203000 
 5769              	.LC2:
 5770 003c 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 5770      7274696F 
 5770      6E202225 
 5770      73222066 
 5770      61696C65 
 5771              		.section	.rodata.lwip_sendmsg.str1.4,"aMS",%progbits,1
 5772              		.align	2
 5773              	.LC14:
 5774 0000 6C776970 		.ascii	"lwip_sendmsg: invalid msghdr\000"
 5774      5F73656E 
 5774      646D7367 
 5774      3A20696E 
 5774      76616C69 
 5775 001d 000000   		.space	3
 5776              	.LC15:
 5777 0020 6C776970 		.ascii	"lwip_sendmsg: invalid msghdr iov\000"
 5777      5F73656E 
 5777      646D7367 
 5777      3A20696E 
 5777      76616C69 
 5778 0041 000000   		.space	3
 5779              	.LC16:
 5780 0044 6C776970 		.ascii	"lwip_sendmsg: invalid msghdr name\000"
 5780      5F73656E 
 5780      646D7367 
 5780      3A20696E 
 5780      76616C69 
 5781 0066 0000     		.space	2
 5782              	.LC17:
 5783 0068 696F765F 		.ascii	"iov_len < u16_t\000"
 5783      6C656E20 
 5783      3C207531 
 5783      365F7400 
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 166


 5784              		.section	.rodata.lwip_sendto.str1.4,"aMS",%progbits,1
 5785              		.align	2
 5786              	.LC18:
 5787 0000 6C776970 		.ascii	"lwip_sendto: size must fit in u16_t\000"
 5787      5F73656E 
 5787      64746F3A 
 5787      2073697A 
 5787      65206D75 
 5788              	.LC19:
 5789 0024 6C776970 		.ascii	"lwip_sendto: invalid address\000"
 5789      5F73656E 
 5789      64746F3A 
 5789      20696E76 
 5789      616C6964 
 5790              		.text
 5791              	.Letext0:
 5792              		.file 2 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/machine/_defau
 5793              		.file 3 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/_stdint.h"
 5794              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 5795              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 5796              		.file 6 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/lib/gcc/arm-none-eabi/7.2.1/include/
 5797              		.file 7 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/lock.h"
 5798              		.file 8 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/_types.h"
 5799              		.file 9 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/reent.h"
 5800              		.file 10 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/_timeval.
 5801              		.file 11 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/select.h"
 5802              		.file 12 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/types.h"
 5803              		.file 13 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/stdlib.h"
 5804              		.file 14 "Middlewares/Third_Party/LwIP/system/arch/cc.h"
 5805              		.file 15 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/time.h"
 5806              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 5807              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 5808              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 5809              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 5810              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/inet.h"
 5811              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/errno.h"
 5812              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/sockets.h"
 5813              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 5814              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/netbuf.h"
 5815              		.file 25 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 5816              		.file 26 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 5817              		.file 27 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 5818              		.file 28 "Middlewares/Third_Party/LwIP/system/arch/sys_arch.h"
 5819              		.file 29 "Middlewares/Third_Party/LwIP/src/include/lwip/api.h"
 5820              		.file 30 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 5821              		.file 31 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 5822              		.file 32 "Middlewares/Third_Party/LwIP/src/include/lwip/udp.h"
 5823              		.file 33 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 5824              		.file 34 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 5825              		.file 35 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 5826              		.file 36 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 5827              		.file 37 "Middlewares/Third_Party/LwIP/src/include/lwip/timeouts.h"
 5828              		.file 38 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpip.h"
 5829              		.file 39 "Middlewares/Third_Party/LwIP/src/include/lwip/sys.h"
 5830              		.file 40 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
 5831              		.file 41 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/stdio.h"
 5832              		.file 42 "<built-in>"
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 167


ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 168


DEFINED SYMBOLS
                            *ABS*:0000000000000000 sockets.c
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:18     .text.get_socket:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:24     .text.get_socket:0000000000000000 get_socket
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:91     .text.get_socket:0000000000000034 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:97     .text.tryget_socket:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:103    .text.tryget_socket:0000000000000000 tryget_socket
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:143    .text.tryget_socket:0000000000000024 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:148    .text.lwip_setsockopt_impl:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:154    .text.lwip_setsockopt_impl:0000000000000000 lwip_setsockopt_impl
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:510    .text.lwip_getsockopt_impl:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:516    .text.lwip_getsockopt_impl:0000000000000000 lwip_getsockopt_impl
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1039   .text.lwip_getsockopt_impl:0000000000000250 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1044   .text.alloc_socket:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1050   .text.alloc_socket:0000000000000000 alloc_socket
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1159   .text.alloc_socket:0000000000000078 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1164   .text.lwip_selscan:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1170   .text.lwip_selscan:0000000000000000 lwip_selscan
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1483   .text.lwip_selscan:000000000000019c $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1490   .text.lwip_getaddrname:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1496   .text.lwip_getaddrname:0000000000000000 lwip_getaddrname
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1609   .text.lwip_getaddrname:0000000000000080 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1614   .text.event_callback:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1620   .text.event_callback:0000000000000000 event_callback
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1668   .text.event_callback:0000000000000034 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1893   .text.event_callback:0000000000000148 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1902   .text.free_socket:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1908   .text.free_socket:0000000000000000 free_socket
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1966   .text.lwip_socket_thread_init:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1973   .text.lwip_socket_thread_init:0000000000000000 lwip_socket_thread_init
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1986   .text.lwip_socket_thread_cleanup:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1993   .text.lwip_socket_thread_cleanup:0000000000000000 lwip_socket_thread_cleanup
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:2006   .text.lwip_accept:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:2013   .text.lwip_accept:0000000000000000 lwip_accept
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:2335   .text.lwip_accept:00000000000001ac $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:2348   .text.lwip_bind:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:2355   .text.lwip_bind:0000000000000000 lwip_bind
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:2488   .text.lwip_bind:000000000000008c $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:2496   .text.lwip_close:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:2503   .text.lwip_close:0000000000000000 lwip_close
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:2606   .text.lwip_close:0000000000000068 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:2614   .text.lwip_connect:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:2621   .text.lwip_connect:0000000000000000 lwip_connect
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:2767   .text.lwip_connect:0000000000000094 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:2776   .text.lwip_listen:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:2783   .text.lwip_listen:0000000000000000 lwip_listen
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:2885   .text.lwip_listen:0000000000000060 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:2890   .text.lwip_recvfrom:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:2897   .text.lwip_recvfrom:0000000000000000 lwip_recvfrom
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:3356   .text.lwip_recvfrom:000000000000024c $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:3365   .text.lwip_read:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:3372   .text.lwip_read:0000000000000000 lwip_read
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:3402   .text.lwip_recv:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:3409   .text.lwip_recv:0000000000000000 lwip_recv
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:3440   .text.lwip_sendmsg:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:3447   .text.lwip_sendmsg:0000000000000000 lwip_sendmsg
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:3913   .text.lwip_sendmsg:0000000000000248 $d
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 169


/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:3925   .text.lwip_sendto:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:3932   .text.lwip_sendto:0000000000000000 lwip_sendto
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:4158   .text.lwip_send:0000000000000000 lwip_send
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:4142   .text.lwip_sendto:00000000000000f8 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:4151   .text.lwip_send:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:4275   .text.lwip_send:0000000000000084 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:4280   .text.lwip_socket:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:4287   .text.lwip_socket:0000000000000000 lwip_socket
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:4414   .text.lwip_socket:0000000000000080 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:4420   .text.lwip_write:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:4427   .text.lwip_write:0000000000000000 lwip_write
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:4449   .text.lwip_writev:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:4456   .text.lwip_writev:0000000000000000 lwip_writev
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:4502   .text.lwip_select:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:4509   .text.lwip_select:0000000000000000 lwip_select
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5032   .text.lwip_select:00000000000002b8 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5045   .text.lwip_shutdown:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5052   .text.lwip_shutdown:0000000000000000 lwip_shutdown
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5184   .text.lwip_shutdown:0000000000000084 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5189   .text.lwip_getpeername:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5196   .text.lwip_getpeername:0000000000000000 lwip_getpeername
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5218   .text.lwip_getsockname:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5225   .text.lwip_getsockname:0000000000000000 lwip_getsockname
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5247   .text.lwip_getsockopt:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5254   .text.lwip_getsockopt:0000000000000000 lwip_getsockopt
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5360   .text.lwip_getsockopt:0000000000000068 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5366   .text.lwip_setsockopt:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5373   .text.lwip_setsockopt:0000000000000000 lwip_setsockopt
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5477   .text.lwip_setsockopt:0000000000000064 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5483   .text.lwip_ioctl:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5490   .text.lwip_ioctl:0000000000000000 lwip_ioctl
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5570   .text.lwip_ioctl:000000000000004c $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5576   .text.lwip_fcntl:0000000000000000 $t
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5583   .text.lwip_fcntl:0000000000000000 lwip_fcntl
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5691   .text.lwip_fcntl:0000000000000070 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5696   .bss.select_cb_ctr:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5700   .bss.select_cb_ctr:0000000000000000 select_cb_ctr
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5703   .bss.select_cb_list:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5707   .bss.select_cb_list:0000000000000000 select_cb_list
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5710   .bss.sockets:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5714   .bss.sockets:0000000000000000 sockets
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5717   .rodata.event_callback.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5721   .rodata.lwip_accept.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5732   .rodata.lwip_bind.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5736   .rodata.lwip_close.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5740   .rodata.lwip_connect.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5747   .rodata.lwip_recvfrom.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5753   .rodata.lwip_select.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5763   .rodata.lwip_selscan.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5772   .rodata.lwip_sendmsg.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:5785   .rodata.lwip_sendto.str1.4:0000000000000000 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1674   .text.event_callback:0000000000000039 $d
/var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s:1674   .text.event_callback:000000000000003a $t

UNDEFINED SYMBOLS
errno
err_to_errno
ARM GAS  /var/folders/0d/93p3r6493yg7p0rvl_4r983m0000gn/T//ccqyjLEa.s 			page 170


sys_arch_unprotect
sys_arch_protect
printf
netconn_getaddr
lwip_htons
memcpy
sys_sem_signal
netbuf_delete
pbuf_free
netconn_accept
netconn_delete
netconn_bind
netconn_connect
puts
netconn_disconnect
netconn_listen_with_backlog
netconn_recv
netconn_recv_tcp_pbuf
pbuf_copy_partial
netbuf_new
netconn_write_partly
pbuf_alloc
pbuf_cat
netconn_send
netbuf_ref
netbuf_free
netconn_new_with_proto_and_callback
sys_sem_new
sys_arch_sem_wait
sys_sem_free
netconn_shutdown
sys_mutex_lock
sys_mutex_unlock
lock_tcpip_core
